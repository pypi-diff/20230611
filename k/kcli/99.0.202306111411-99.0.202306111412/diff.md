# Comparing `tmp/kcli-99.0.202306111411-py3-none-any.whl.zip` & `tmp/kcli-99.0.202306111412-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,604 +1,604 @@
-Zip file size: 1479427 bytes, number of entries: 602
--rw-r--r--  2.0 unx       15 b- defN 23-Jun-11 14:05 kvirt/__init__.py
--rw-r--r--  2.0 unx   100030 b- defN 23-Jun-11 14:05 kvirt/baseconfig.py
--rw-r--r--  2.0 unx   171487 b- defN 23-Jun-11 14:05 kvirt/bottle.py
--rw-r--r--  2.0 unx   248698 b- defN 23-Jun-11 14:05 kvirt/cli.py
--rw-r--r--  2.0 unx   188729 b- defN 23-Jun-11 14:05 kvirt/config.py
--rw-r--r--  2.0 unx     2851 b- defN 23-Jun-11 14:05 kvirt/containerconfig.py
--rw-r--r--  2.0 unx    11500 b- defN 23-Jun-11 14:05 kvirt/defaults.py
--rw-r--r--  2.0 unx    19475 b- defN 23-Jun-11 14:05 kvirt/examples.py
--rw-r--r--  2.0 unx     4333 b- defN 23-Jun-11 14:05 kvirt/ignitionmerger.py
--rw-r--r--  2.0 unx     9871 b- defN 23-Jun-11 14:05 kvirt/keywords.yaml
--rw-r--r--  2.0 unx     3487 b- defN 23-Jun-11 14:05 kvirt/klist.py
--rw-r--r--  2.0 unx     6009 b- defN 23-Jun-11 14:05 kvirt/ansibleutils/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-11 14:05 kvirt/cluster/__init__.py
--rw-r--r--  2.0 unx      204 b- defN 23-Jun-11 14:05 kvirt/cluster/sampleprovider.py
--rw-r--r--  2.0 unx    11143 b- defN 23-Jun-11 14:05 kvirt/cluster/gke/__init__.py
--rw-r--r--  2.0 unx       16 b- defN 23-Jun-11 14:05 kvirt/cluster/gke/fake.yml
--rw-r--r--  2.0 unx      374 b- defN 23-Jun-11 14:05 kvirt/cluster/gke/kcli_default.yml
--rw-r--r--  2.0 unx      312 b- defN 23-Jun-11 14:05 kvirt/cluster/gke/kubeconfig.j2
--rw-r--r--  2.0 unx      931 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/99-apps.yaml
--rw-r--r--  2.0 unx      694 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/99-forcedns
--rw-r--r--  2.0 unx     1480 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/99-notifications.yaml
--rw-r--r--  2.0 unx      653 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/Corefile
--rw-r--r--  2.0 unx    43440 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/__init__.py
--rw-r--r--  2.0 unx     1121 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/assisted_infra.yml
--rw-r--r--  2.0 unx     1269 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/assisted_ingress.yml
--rw-r--r--  2.0 unx     1366 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/autoapprovercron.yml
--rw-r--r--  2.0 unx     1106 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/bmc.yml.j2
--rw-r--r--  2.0 unx      511 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/calico.sh.j2
--rw-r--r--  2.0 unx      200 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/cloud_lb_apps.yml
--rw-r--r--  2.0 unx     1433 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/disconnected.sh
--rw-r--r--  2.0 unx      184 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/extras.service
--rw-r--r--  2.0 unx      839 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/extras.sh
--rw-r--r--  2.0 unx     2954 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/hostedcluster.yaml
--rw-r--r--  2.0 unx     1174 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/httpd.yaml
--rw-r--r--  2.0 unx      889 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/ignition.sh
--rw-r--r--  2.0 unx     2307 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/kcli_plan.yml
--rw-r--r--  2.0 unx     2052 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/kcli_plan_default.yml
--rw-r--r--  2.0 unx      502 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/keepalived.conf
--rw-r--r--  2.0 unx     1587 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/nmstateconfig.yml.j2
--rw-r--r--  2.0 unx      752 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/nodepool.yaml
--rw-r--r--  2.0 unx       60 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/nonlocalbind.conf
--rw-r--r--  2.0 unx     1890 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/staticpods/coredns.yml
--rw-r--r--  2.0 unx     2142 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/staticpods/keepalived.yml
--rw-r--r--  2.0 unx     1619 b- defN 23-Jun-11 14:05 kvirt/cluster/hypershift/staticpods/mdns.yml
--rw-r--r--  2.0 unx    11448 b- defN 23-Jun-11 14:05 kvirt/cluster/k3s/__init__.py
--rw-r--r--  2.0 unx     1117 b- defN 23-Jun-11 14:05 kvirt/cluster/k3s/bootstrap.sh
--rw-r--r--  2.0 unx     1050 b- defN 23-Jun-11 14:05 kvirt/cluster/k3s/bootstrap.yml
--rw-r--r--  2.0 unx      409 b- defN 23-Jun-11 14:05 kvirt/cluster/k3s/cloud_lb_api.yml
--rw-r--r--  2.0 unx      438 b- defN 23-Jun-11 14:05 kvirt/cluster/k3s/ctlplanes.sh
--rw-r--r--  2.0 unx     1068 b- defN 23-Jun-11 14:05 kvirt/cluster/k3s/ctlplanes.yml
--rw-r--r--  2.0 unx      374 b- defN 23-Jun-11 14:05 kvirt/cluster/k3s/join.sh
--rw-r--r--  2.0 unx     1260 b- defN 23-Jun-11 14:05 kvirt/cluster/k3s/kcli_default.yml
--rw-r--r--  2.0 unx      511 b- defN 23-Jun-11 14:05 kvirt/cluster/k3s/keepalived.conf
--rw-r--r--  2.0 unx      352 b- defN 23-Jun-11 14:05 kvirt/cluster/k3s/keepalived.sh
--rw-r--r--  2.0 unx      166 b- defN 23-Jun-11 14:05 kvirt/cluster/k3s/workers.sh
--rw-r--r--  2.0 unx      709 b- defN 23-Jun-11 14:05 kvirt/cluster/k3s/workers.yml
--rw-r--r--  2.0 unx    13520 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/__init__.py
--rwxr-xr-x  2.0 unx     2707 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/bootstrap.sh
--rw-r--r--  2.0 unx     1621 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/bootstrap.yml
--rw-r--r--  2.0 unx      325 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/cloud_lb_api.yml
--rw-r--r--  2.0 unx     1172 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/ctlplanes.yml
--rwxr-xr-x  2.0 unx      343 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/deploy.sh
--rwxr-xr-x  2.0 unx      412 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/join.sh
--rw-r--r--  2.0 unx     1822 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/kcli_default.yml
--rw-r--r--  2.0 unx      563 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/keepalived.conf
--rw-r--r--  2.0 unx      424 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/keepalived.sh
--rw-r--r--  2.0 unx      140 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/kubernetes.repo
--rw-r--r--  2.0 unx      179 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/multus.sh
--rw-r--r--  2.0 unx      572 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/nfs.sh
--rw-r--r--  2.0 unx      226 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/nfs.yml
--rw-r--r--  2.0 unx     4021 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/pre_el.sh
--rw-r--r--  2.0 unx     3906 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/pre_ubuntu.sh
--rw-r--r--  2.0 unx     2127 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/registry.yml
--rw-r--r--  2.0 unx      949 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/workers.yml
--rw-r--r--  2.0 unx      487 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/argocd/ingress.yml
--rw-r--r--  2.0 unx     2134 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/argocd/install.sh
--rw-r--r--  2.0 unx       71 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/argocd/kcli_default.yml
--rw-r--r--  2.0 unx      314 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/argocd/uninstall.sh
--rw-r--r--  2.0 unx       90 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/autolabeller/install.sh
--rw-r--r--  2.0 unx       91 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/autolabeller/uninstall.sh
--rw-r--r--  2.0 unx      380 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/certmanager/install.sh
--rw-r--r--  2.0 unx      317 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/dashboard/admin.yml
--rw-r--r--  2.0 unx      452 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/dashboard/ingress.yml
--rw-r--r--  2.0 unx     1433 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/dashboard/install.sh
--rw-r--r--  2.0 unx       23 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/dashboard/kcli_default.yml
--rw-r--r--  2.0 unx      373 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/dashboard/user.yml
--rw-r--r--  2.0 unx      157 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/falco/falco_advertisements.yml
--rw-r--r--  2.0 unx      185 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/falco/falco_ip.yml
--rw-r--r--  2.0 unx      839 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/falco/install.sh
--rw-r--r--  2.0 unx       57 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/falco/kcli_default.yml
--rw-r--r--  2.0 unx      133 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/falco/uninstall.sh
--rw-r--r--  2.0 unx      175 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/ingress/install.sh
--rw-r--r--  2.0 unx      176 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/ingress/uninstall.sh
--rw-r--r--  2.0 unx      112 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/istio/install.sh
--rw-r--r--  2.0 unx      910 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/istio/istio-minimal-operator.yaml
--rw-r--r--  2.0 unx      766 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/katacontainer/install.sh
--rw-r--r--  2.0 unx      913 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/katacontainer/uninstall.sh
--rw-r--r--  2.0 unx      198 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/knative/cr_eventing.yml
--rw-r--r--  2.0 unx      194 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/knative/cr_serving.yml
--rw-r--r--  2.0 unx      253 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/knative/install.sh
--rw-r--r--  2.0 unx      670 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/kubevirt/install.sh
--rw-r--r--  2.0 unx       30 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/kubevirt/kcli_default.yml
--rw-r--r--  2.0 unx      534 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/metallb/install.sh
--rw-r--r--  2.0 unx       47 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/metallb/kcli_default.yml
--rw-r--r--  2.0 unx      157 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/metallb/metallb_advertisements.yml
--rw-r--r--  2.0 unx      150 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/metallb/metallb_cr.yml
--rw-r--r--  2.0 unx      283 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/metallb/uninstall.sh
--rw-r--r--  2.0 unx      348 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/olm/install.sh
--rw-r--r--  2.0 unx      350 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/olm/uninstall.sh
--rw-r--r--  2.0 unx      320 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/policy_as_code/install.sh
--rw-r--r--  2.0 unx       34 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/policy_as_code/kcli_default.yml
--rw-r--r--  2.0 unx      322 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/policy_as_code/uninstall.sh
--rw-r--r--  2.0 unx     1662 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/rancher/install.sh
--rw-r--r--  2.0 unx      103 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/rancher/kcli_default.yml
--rw-r--r--  2.0 unx      161 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/rancher/rancher_advertisements.yml
--rw-r--r--  2.0 unx      191 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/rancher/rancher_ip.yml
--rw-r--r--  2.0 unx      151 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/rancher/uninstall.sh
--rw-r--r--  2.0 unx      572 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/rook/install.sh
--rw-r--r--  2.0 unx      190 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/submariner/install.sh
--rw-r--r--  2.0 unx       22 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/submariner/kcli_default.yml
--rw-r--r--  2.0 unx      277 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/tekton/install.sh
--rw-r--r--  2.0 unx      278 b- defN 23-Jun-11 14:05 kvirt/cluster/kubeadm/apps/tekton/uninstall.sh
--rw-r--r--  2.0 unx     2970 b- defN 23-Jun-11 14:05 kvirt/cluster/kubecommon/__init__.py
--rw-r--r--  2.0 unx     9395 b- defN 23-Jun-11 14:05 kvirt/cluster/kubernetes/__init__.py
--rw-r--r--  2.0 unx     4782 b- defN 23-Jun-11 14:05 kvirt/cluster/microshift/__init__.py
--rw-r--r--  2.0 unx      603 b- defN 23-Jun-11 14:05 kvirt/cluster/microshift/kcli_plan.yml
--rw-r--r--  2.0 unx      625 b- defN 23-Jun-11 14:05 kvirt/cluster/microshift/kcli_plan_default.yml
--rw-r--r--  2.0 unx      262 b- defN 23-Jun-11 14:05 kvirt/cluster/microshift/scripts/00_sslip.sh
--rw-r--r--  2.0 unx      799 b- defN 23-Jun-11 14:05 kvirt/cluster/microshift/scripts/01_clients.sh
--rw-r--r--  2.0 unx      183 b- defN 23-Jun-11 14:05 kvirt/cluster/microshift/scripts/02_crio.sh
--rw-r--r--  2.0 unx      538 b- defN 23-Jun-11 14:05 kvirt/cluster/microshift/scripts/03_microshift.sh
--rw-r--r--  2.0 unx      341 b- defN 23-Jun-11 14:05 kvirt/cluster/microshift/scripts/04_kubeconfig.sh
--rw-r--r--  2.0 unx     2252 b- defN 23-Jun-11 14:05 kvirt/cluster/microshift/scripts/05_acm.sh
--rw-r--r--  2.0 unx      696 b- defN 23-Jun-11 14:05 kvirt/cluster/microshift/scripts/deploy.sh
--rw-r--r--  2.0 unx      219 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/01-workload-partitioning
--rw-r--r--  2.0 unx      573 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/10-node-ip-hint.yaml
--rw-r--r--  2.0 unx      980 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/99-apps.yaml
--rw-r--r--  2.0 unx      618 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/99-bootstrap-deletion-2.yaml
--rw-r--r--  2.0 unx     1239 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/99-bootstrap-deletion.yaml
--rw-r--r--  2.0 unx      529 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/99-chrony.yaml
--rw-r--r--  2.0 unx      646 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/99-forcedns
--rw-r--r--  2.0 unx      476 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/99-forcedns-ibm
--rw-r--r--  2.0 unx      854 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/99-kubevirt-fix.yaml
--rw-r--r--  2.0 unx     1127 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/99-localhost-fix.yaml
--rw-r--r--  2.0 unx      250 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/99-metal3-fake-machine.yaml
--rw-r--r--  2.0 unx      162 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/99-metal3-provisioning.yaml
--rw-r--r--  2.0 unx     1659 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/99-notifications.yaml
--rw-r--r--  2.0 unx      118 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/99-operatorhub.yaml
--rw-r--r--  2.0 unx      314 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/99-ovn.yaml
--rw-r--r--  2.0 unx      912 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/99-sno.yaml
--rw-r--r--  2.0 unx      762 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/Corefile
--rw-r--r--  2.0 unx    81470 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/__init__.py
--rw-r--r--  2.0 unx     1326 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/autoapprovercron.yml
--rw-r--r--  2.0 unx      987 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/autorules.yml
--rw-r--r--  2.0 unx     1630 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/bootstrap.yml
--rw-r--r--  2.0 unx      250 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/calico.sh.j2
--rw-r--r--  2.0 unx      107 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/chrony.conf
--rw-r--r--  2.0 unx      629 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/cloud_bootstrap.yml
--rw-r--r--  2.0 unx      792 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/cloud_ctlplanes.yml
--rw-r--r--  2.0 unx      217 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/cloud_dns.yml
--rw-r--r--  2.0 unx      616 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/cloud_lb_api.yml
--rw-r--r--  2.0 unx      224 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/cloud_lb_apps.yml
--rw-r--r--  2.0 unx      703 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/cloud_workers.yml
--rw-r--r--  2.0 unx      123 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/cluster-ingress-02-config.yml
--rw-r--r--  2.0 unx      159 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/cluster-scheduler-02-config.yml
--rw-r--r--  2.0 unx      224 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/config.hcl.templ
--rw-r--r--  2.0 unx       98 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/contrail-ca-patch.service
--rw-r--r--  2.0 unx      486 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/contrail-ca-patch.sh
--rw-r--r--  2.0 unx       87 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/contrail.auth
--rw-r--r--  2.0 unx     1108 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/contrail.sh.j2
--rw-r--r--  2.0 unx     2278 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/ctlplanes.yml
--rw-r--r--  2.0 unx      326 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/dhcp.conf
--rw-r--r--  2.0 unx      106 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/dhcp.sh
--rw-r--r--  2.0 unx      536 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/dhcp.yml
--rw-r--r--  2.0 unx      836 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/disconnected.yml
--rw-r--r--  2.0 unx     8945 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/fake_kubeconfig.json
--rw-r--r--  2.0 unx       35 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/fake_pull.json
--rw-r--r--  2.0 unx     1792 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/haproxy.cfg
--rw-r--r--  2.0 unx     2483 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/haproxy.cfg.kubevirt
--rw-r--r--  2.0 unx      902 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/httpd.yaml
--rw-r--r--  2.0 unx      524 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/ignition.j2
--rw-r--r--  2.0 unx     3562 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/install-config.yaml
--rw-r--r--  2.0 unx     2691 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/iso.sh
--rw-r--r--  2.0 unx      237 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/kcli-ipv6.conf.j2
--rw-r--r--  2.0 unx     4257 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/kcli_default.yml
--rw-r--r--  2.0 unx      982 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/keepalived.conf
--rw-r--r--  2.0 unx       60 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/nonlocalbind.conf
--rw-r--r--  2.0 unx       59 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/openshift-workload-pinning
--rw-r--r--  2.0 unx      157 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/relocate-ip-bootstrap.service
--rw-r--r--  2.0 unx      281 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/relocate-ip-bootstrap.sh
--rw-r--r--  2.0 unx      690 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/relocate-ip.sh
--rw-r--r--  2.0 unx      212 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/sno-finish.service
--rw-r--r--  2.0 unx     2085 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/sno-finish.sh
--rw-r--r--  2.0 unx      660 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/sno.yml
--rw-r--r--  2.0 unx     1615 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/workers.yml
--rw-r--r--  2.0 unx       40 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/cr.sh
--rw-r--r--  2.0 unx      768 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/install.yml.j2
--rw-r--r--  2.0 unx      162 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/advanced-cluster-management/99-metal3-provisioning.yaml
--rw-r--r--  2.0 unx     2754 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/advanced-cluster-management/assisted-service.sample.yml
--rwxr-xr-x  2.0 unx     2838 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/advanced-cluster-management/assisted-service.sh
--rw-r--r--  2.0 unx      418 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/advanced-cluster-management/cr.yml
--rw-r--r--  2.0 unx      625 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/advanced-cluster-management/gen_registries.py
--rw-r--r--  2.0 unx      259 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/advanced-cluster-management/kcli_default.yml
--rw-r--r--  2.0 unx     1219 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/advanced-cluster-management/post.sh
--rw-r--r--  2.0 unx      645 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/argocd/configmap.yml
--rw-r--r--  2.0 unx     2423 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/argocd/install.sh
--rw-r--r--  2.0 unx       49 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/argocd/kcli_default.yml
--rw-r--r--  2.0 unx     1093 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/autolabeller/cr.yml
--rw-r--r--  2.0 unx      142 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/autolabeller/install.sh
--rw-r--r--  2.0 unx     1093 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/autolabeller/install.yml
--rw-r--r--  2.0 unx      165 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/autolabeller/kcli_default.yml
--rw-r--r--  2.0 unx       25 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/autolabeller/uninstall.sh
--rw-r--r--  2.0 unx      873 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/cluster-logging/cr.yml
--rw-r--r--  2.0 unx       63 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/cluster-logging/kcli_default.yml
--rw-r--r--  2.0 unx      265 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/istio/install.sh
--rw-r--r--  2.0 unx      377 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/istio/istio-cni.yaml
--rw-r--r--  2.0 unx     1039 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/kubevirt-hyperconverged/cr.yml
--rw-r--r--  2.0 unx      154 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/kubevirt-hyperconverged/kcli_default.yml
--rw-r--r--  2.0 unx      775 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/local-storage-operator/cr.yml
--rw-r--r--  2.0 unx      227 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/local-storage-operator/kcli_default.yml
--rw-r--r--  2.0 unx      642 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/local-storage-operator/post.sh
--rw-r--r--  2.0 unx      349 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/lvms-operator/cr.yml
--rw-r--r--  2.0 unx      137 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/lvms-operator/kcli_default.yml
--rw-r--r--  2.0 unx      595 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/lvms-operator/post.sh
--rw-r--r--  2.0 unx      510 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/metallb-operator/cr.yml
--rw-r--r--  2.0 unx       94 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/metallb-operator/kcli_default.yml
--rw-r--r--  2.0 unx      162 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/multicluster-engine/99-metal3-provisioning.yaml
--rw-r--r--  2.0 unx     2754 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/multicluster-engine/assisted-service.sample.yml
--rwxr-xr-x  2.0 unx     2845 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/multicluster-engine/assisted-service.sh
--rw-r--r--  2.0 unx      245 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/multicluster-engine/cr.yml
--rw-r--r--  2.0 unx      625 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/multicluster-engine/gen_registries.py
--rw-r--r--  2.0 unx      118 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/multicluster-engine/kcli_default.yml
--rwxr-xr-x  2.0 unx       55 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/multicluster-engine/post.sh
--rwxr-xr-x  2.0 unx     2298 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/nfs/install.sh
--rw-r--r--  2.0 unx      117 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/nfs/kcli_default.yml
--rw-r--r--  2.0 unx      185 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/nfs/uninstall.sh
--rw-r--r--  2.0 unx      849 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/odf-operator/cr.yml
--rw-r--r--  2.0 unx      298 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/odf-operator/kcli_default.yml
--rw-r--r--  2.0 unx      364 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/odf-operator/nad_cluster.yml
--rw-r--r--  2.0 unx      362 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/odf-operator/nad_public.yml
--rw-r--r--  2.0 unx      745 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/odf-operator/post.sh
--rw-r--r--  2.0 unx      530 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/odf-operator/pre.sh
--rw-r--r--  2.0 unx      363 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/serverless-operator/cr.yml
--rw-r--r--  2.0 unx      157 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/serverless-operator/kcli_default.yml
--rw-r--r--  2.0 unx      278 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/serverless-operator/post.sh
--rw-r--r--  2.0 unx     1227 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/users/install.sh
--rw-r--r--  2.0 unx       84 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/users/kcli_default.yml
--rw-r--r--  2.0 unx      258 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/users/oauth.yml
--rw-r--r--  2.0 unx      249 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/users/oauth_hypershift.yml
--rw-r--r--  2.0 unx      422 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/apps/users/uninstall.sh
--rw-r--r--  2.0 unx       60 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/customisation/00-kcli-namespace.yaml
--rw-r--r--  2.0 unx       91 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/customisation/97-autoapprovercron-sa.yaml
--rw-r--r--  2.0 unx      264 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/customisation/98-autoapprovercron-binding.yaml
--rw-r--r--  2.0 unx      912 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/customisation/99-autoapprovercron-cronjob.yaml
--rw-r--r--  2.0 unx      389 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/customisation/99-ingress-controller.yaml
--rw-r--r--  2.0 unx      184 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/customisation/99-monitoring.yaml
--rw-r--r--  2.0 unx      289 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/customisation/99-registry.yaml
--rw-r--r--  2.0 unx     1685 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/disconnected/haproxy.cfg
--rw-r--r--  2.0 unx      211 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/disconnected/registry.service
--rwxr-xr-x  2.0 unx      328 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/disconnected/bin/sync_image.sh
--rwxr-xr-x  2.0 unx      201 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/disconnected/scripts/01_get_oc.sh
--rwxr-xr-x  2.0 unx     2484 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/disconnected/scripts/03_mirror.sh
--rwxr-xr-x  2.0 unx     2046 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/disconnected/scripts/03_registry.sh
--rwxr-xr-x  2.0 unx      337 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/disconnected/scripts/04_extras.sh
--rwxr-xr-x  2.0 unx     2390 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/disconnected/scripts/05_olm.sh
--rwxr-xr-x  2.0 unx      241 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/disconnected/scripts/06_web.sh
--rwxr-xr-x  2.0 unx      733 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/disconnected/scripts/deploy.sh
--rw-r--r--  2.0 unx     1768 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/disconnected/scripts/mirror-config.yaml.sample
--rw-r--r--  2.0 unx     2557 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/staticpods/coredns.yml
--rw-r--r--  2.0 unx      987 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/staticpods/haproxy.yml
--rw-r--r--  2.0 unx     2539 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/staticpods/keepalived.yml
--rw-r--r--  2.0 unx     1721 b- defN 23-Jun-11 14:05 kvirt/cluster/openshift/staticpods/mdns.yml
--rw-r--r--  2.0 unx      193 b- defN 23-Jun-11 14:05 kvirt/cluster/profiles/sample-kubeadm-default.yml
--rw-r--r--  2.0 unx      135 b- defN 23-Jun-11 14:05 kvirt/cluster/profiles/sample-openshift-compact.yml
--rw-r--r--  2.0 unx      210 b- defN 23-Jun-11 14:05 kvirt/cluster/profiles/sample-openshift-contrail.yml
--rw-r--r--  2.0 unx      157 b- defN 23-Jun-11 14:05 kvirt/cluster/profiles/sample-openshift-ipv6.yml
--rw-r--r--  2.0 unx       55 b- defN 23-Jun-11 14:05 kvirt/cluster/profiles/sample-openshift-sno-bm.yml
--rw-r--r--  2.0 unx      148 b- defN 23-Jun-11 14:05 kvirt/cluster/profiles/sample-openshift-sno.yml
--rw-r--r--  2.0 unx     3377 b- defN 23-Jun-11 14:05 kvirt/common/Jenkinsfile.j2
--rw-r--r--  2.0 unx    96514 b- defN 23-Jun-11 14:05 kvirt/common/__init__.py
--rw-r--r--  2.0 unx     1406 b- defN 23-Jun-11 14:05 kvirt/common/autoscale.yaml.j2
--rw-r--r--  2.0 unx     8945 b- defN 23-Jun-11 14:05 kvirt/common/fake_kubeconfig.json
--rw-r--r--  2.0 unx      669 b- defN 23-Jun-11 14:05 kvirt/common/ignition.j2
--rw-r--r--  2.0 unx      125 b- defN 23-Jun-11 14:05 kvirt/common/kubevirt_kcli_conf.j2
--rw-r--r--  2.0 unx       99 b- defN 23-Jun-11 14:05 kvirt/common/local_kcli_conf.j2
--rw-r--r--  2.0 unx     3068 b- defN 23-Jun-11 14:05 kvirt/common/pipeline.yml.j2
--rw-r--r--  2.0 unx     2377 b- defN 23-Jun-11 14:05 kvirt/common/pipeline_kube.yml.j2
--rw-r--r--  2.0 unx     1381 b- defN 23-Jun-11 14:05 kvirt/common/playbook.j2
--rw-r--r--  2.0 unx     1557 b- defN 23-Jun-11 14:05 kvirt/common/storage.sh.j2
--rw-r--r--  2.0 unx     4562 b- defN 23-Jun-11 14:05 kvirt/common/vm.ovf.j2
--rw-r--r--  2.0 unx     2241 b- defN 23-Jun-11 14:05 kvirt/common/workflow.yml.j2
--rw-r--r--  2.0 unx     2208 b- defN 23-Jun-11 14:05 kvirt/common/workflow_script.yml.j2
--rw-r--r--  2.0 unx    15041 b- defN 23-Jun-11 14:05 kvirt/container/__init__.py
--rw-r--r--  2.0 unx    11716 b- defN 23-Jun-11 14:05 kvirt/expose/__init__.py
--rw-r--r--  2.0 unx     4319 b- defN 23-Jun-11 14:05 kvirt/expose/swagger.yml
--rw-r--r--  2.0 unx      408 b- defN 23-Jun-11 14:05 kvirt/expose/static/css/bootstrap-notify.css
--rw-r--r--  2.0 unx   121125 b- defN 23-Jun-11 14:05 kvirt/expose/static/css/bootstrap.min.css
--rw-r--r--  2.0 unx      399 b- defN 23-Jun-11 14:05 kvirt/expose/static/css/dataTables.checkboxes.css
--rw-r--r--  2.0 unx    13587 b- defN 23-Jun-11 14:05 kvirt/expose/static/css/jquery.dataTables.min.css
--rw-r--r--  2.0 unx      868 b- defN 23-Jun-11 14:05 kvirt/expose/static/css/kcli.css
--rw-r--r--  2.0 unx      269 b- defN 23-Jun-11 14:05 kvirt/expose/static/css/wheel.css
--rw-r--r--  2.0 unx     1406 b- defN 23-Jun-11 14:05 kvirt/expose/static/images/favicon.ico
--rw-r--r--  2.0 unx      160 b- defN 23-Jun-11 14:05 kvirt/expose/static/images/sort_asc.png
--rw-r--r--  2.0 unx      201 b- defN 23-Jun-11 14:05 kvirt/expose/static/images/sort_both.png
--rw-r--r--  2.0 unx      158 b- defN 23-Jun-11 14:05 kvirt/expose/static/images/sort_desc.png
--rw-r--r--  2.0 unx    24772 b- defN 23-Jun-11 14:05 kvirt/expose/static/images/wheel.gif
--rw-r--r--  2.0 unx    12398 b- defN 23-Jun-11 14:05 kvirt/expose/static/js/dataTables.checkboxes.min.js
--rw-r--r--  2.0 unx      367 b- defN 23-Jun-11 14:05 kvirt/expose/static/js/exposeactions.js
--rw-r--r--  2.0 unx    83059 b- defN 23-Jun-11 14:05 kvirt/expose/static/js/jquery.dataTables.min.js
--rw-r--r--  2.0 unx    89795 b- defN 23-Jun-11 14:05 kvirt/expose/static/js/jquery.min.js
--rw-r--r--  2.0 unx      263 b- defN 23-Jun-11 14:05 kvirt/expose/static/js/list.js
--rw-r--r--  2.0 unx     1605 b- defN 23-Jun-11 14:05 kvirt/expose/templates/form.html
--rw-r--r--  2.0 unx     1035 b- defN 23-Jun-11 14:05 kvirt/expose/templates/head.html
--rw-r--r--  2.0 unx      406 b- defN 23-Jun-11 14:05 kvirt/expose/templates/index.html
--rw-r--r--  2.0 unx     1220 b- defN 23-Jun-11 14:05 kvirt/expose/templates/infoplan.html
--rw-r--r--  2.0 unx      574 b- defN 23-Jun-11 14:05 kvirt/expose/templates/planstable.html
--rw-r--r--  2.0 unx      550 b- defN 23-Jun-11 14:05 kvirt/expose/templates/result.html
--rw-r--r--  2.0 unx     1754 b- defN 23-Jun-11 14:05 kvirt/internalplans/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-11 14:05 kvirt/jinjafilters/__init__.py
--rw-r--r--  2.0 unx     5249 b- defN 23-Jun-11 14:05 kvirt/jinjafilters/jinjafilters.py
--rw-r--r--  2.0 unx     8477 b- defN 23-Jun-11 14:05 kvirt/kfish/__init__.py
--rw-r--r--  2.0 unx     9124 b- defN 23-Jun-11 14:05 kvirt/ksushy/__init__.py
--rw-r--r--  2.0 unx      121 b- defN 23-Jun-11 14:05 kvirt/ksushy/main.py
--rw-r--r--  2.0 unx     1028 b- defN 23-Jun-11 14:05 kvirt/ksushy/templates/bios.json
--rw-r--r--  2.0 unx      443 b- defN 23-Jun-11 14:05 kvirt/ksushy/templates/interface.json
--rw-r--r--  2.0 unx      418 b- defN 23-Jun-11 14:05 kvirt/ksushy/templates/interfaces.json
--rw-r--r--  2.0 unx     1050 b- defN 23-Jun-11 14:05 kvirt/ksushy/templates/manager.json
--rw-r--r--  2.0 unx      571 b- defN 23-Jun-11 14:05 kvirt/ksushy/templates/managers.json
--rw-r--r--  2.0 unx      535 b- defN 23-Jun-11 14:05 kvirt/ksushy/templates/root.json
--rw-r--r--  2.0 unx     2732 b- defN 23-Jun-11 14:05 kvirt/ksushy/templates/system.json
--rw-r--r--  2.0 unx      511 b- defN 23-Jun-11 14:05 kvirt/ksushy/templates/systems.json
--rw-r--r--  2.0 unx     1219 b- defN 23-Jun-11 14:05 kvirt/ksushy/templates/virtualmedia_cd.json
--rw-r--r--  2.0 unx      705 b- defN 23-Jun-11 14:05 kvirt/ksushy/templates/virtualmedias.json
--rw-r--r--  2.0 unx     2780 b- defN 23-Jun-11 14:05 kvirt/miniconsole/__init__.py
--rw-r--r--  2.0 unx     3488 b- defN 23-Jun-11 14:05 kvirt/nameutils/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-11 14:05 kvirt/providers/__init__.py
--rw-r--r--  2.0 unx     8935 b- defN 23-Jun-11 14:05 kvirt/providers/sampleprovider.py
--rw-r--r--  2.0 unx    65812 b- defN 23-Jun-11 14:05 kvirt/providers/aws/__init__.py
--rw-r--r--  2.0 unx      479 b- defN 23-Jun-11 14:05 kvirt/providers/fake/__init__.py
--rw-r--r--  2.0 unx    67767 b- defN 23-Jun-11 14:05 kvirt/providers/gcp/__init__.py
--rw-r--r--  2.0 unx      175 b- defN 23-Jun-11 14:05 kvirt/providers/gcp/gcp-hack.service
--rw-r--r--  2.0 unx      231 b- defN 23-Jun-11 14:05 kvirt/providers/gcp/gcp-hack.sh
--rw-r--r--  2.0 unx    65048 b- defN 23-Jun-11 14:05 kvirt/providers/ibm/__init__.py
--rw-r--r--  2.0 unx    80962 b- defN 23-Jun-11 14:05 kvirt/providers/kubevirt/__init__.py
--rw-r--r--  2.0 unx   184246 b- defN 23-Jun-11 14:05 kvirt/providers/kvm/__init__.py
--rw-r--r--  2.0 unx     1965 b- defN 23-Jun-11 14:05 kvirt/providers/kvm/helpers.py
--rw-r--r--  2.0 unx    57076 b- defN 23-Jun-11 14:05 kvirt/providers/openstack/__init__.py
--rw-r--r--  2.0 unx    62544 b- defN 23-Jun-11 14:05 kvirt/providers/ovirt/__init__.py
--rw-r--r--  2.0 unx    31112 b- defN 23-Jun-11 14:05 kvirt/providers/packet/__init__.py
--rw-r--r--  2.0 unx    73099 b- defN 23-Jun-11 14:05 kvirt/providers/vsphere/__init__.py
--rw-r--r--  2.0 unx    13655 b- defN 23-Jun-11 14:05 kvirt/providers/vsphere/helpers.py
--rw-r--r--  2.0 unx     4893 b- defN 23-Jun-11 14:05 kvirt/providers/vsphere/tagging.py
--rw-r--r--  2.0 unx    21286 b- defN 23-Jun-11 14:05 kvirt/providers/web/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-11 14:05 kvirt/version/__init__.py
--rw-r--r--  2.0 unx       19 b- defN 23-Jun-11 14:11 kvirt/version/git
--rw-r--r--  2.0 unx    46592 b- defN 23-Jun-11 14:05 kvirt/web/__init__.py
--rw-r--r--  2.0 unx      261 b- defN 23-Jun-11 14:05 kvirt/web/main.py
--rw-r--r--  2.0 unx      408 b- defN 23-Jun-11 14:05 kvirt/web/static/css/bootstrap-notify.css
--rw-r--r--  2.0 unx    23409 b- defN 23-Jun-11 14:05 kvirt/web/static/css/bootstrap-theme.min.css
--rw-r--r--  2.0 unx   121125 b- defN 23-Jun-11 14:05 kvirt/web/static/css/bootstrap.min.css
--rw-r--r--  2.0 unx      399 b- defN 23-Jun-11 14:05 kvirt/web/static/css/dataTables.checkboxes.css
--rw-r--r--  2.0 unx    13587 b- defN 23-Jun-11 14:05 kvirt/web/static/css/jquery.dataTables.min.css
--rw-r--r--  2.0 unx      816 b- defN 23-Jun-11 14:05 kvirt/web/static/css/kcli.css
--rw-r--r--  2.0 unx     3033 b- defN 23-Jun-11 14:05 kvirt/web/static/css/navbar.css
--rw-r--r--  2.0 unx     2908 b- defN 23-Jun-11 14:05 kvirt/web/static/css/spice.css
--rw-r--r--  2.0 unx      271 b- defN 23-Jun-11 14:05 kvirt/web/static/css/wheel.css
--rw-r--r--  2.0 unx    18028 b- defN 23-Jun-11 14:05 kvirt/web/static/fonts/glyphicons-halflings-regular.woff2
--rw-r--r--  2.0 unx      715 b- defN 23-Jun-11 14:05 kvirt/web/static/images/Centos.png
--rw-r--r--  2.0 unx      294 b- defN 23-Jun-11 14:05 kvirt/web/static/images/Debian.png
--rw-r--r--  2.0 unx      987 b- defN 23-Jun-11 14:05 kvirt/web/static/images/Fedora.png
--rw-r--r--  2.0 unx      672 b- defN 23-Jun-11 14:05 kvirt/web/static/images/Redhat.png
--rw-r--r--  2.0 unx     1278 b- defN 23-Jun-11 14:05 kvirt/web/static/images/Suse.png
--rw-r--r--  2.0 unx     1782 b- defN 23-Jun-11 14:05 kvirt/web/static/images/Tux.png
--rw-r--r--  2.0 unx      544 b- defN 23-Jun-11 14:05 kvirt/web/static/images/Ubuntu.png
--rw-r--r--  2.0 unx     4213 b- defN 23-Jun-11 14:05 kvirt/web/static/images/delete.png
--rw-r--r--  2.0 unx     1406 b- defN 23-Jun-11 14:05 kvirt/web/static/images/favicon.ico
--rw-r--r--  2.0 unx    23320 b- defN 23-Jun-11 14:05 kvirt/web/static/images/kcli-small.png
--rw-r--r--  2.0 unx    27185 b- defN 23-Jun-11 14:05 kvirt/web/static/images/kcli.jpg
--rw-r--r--  2.0 unx   113928 b- defN 23-Jun-11 14:05 kvirt/web/static/images/kcli.png
--rw-r--r--  2.0 unx    48809 b- defN 23-Jun-11 14:05 kvirt/web/static/images/logo-header.svg
--rw-r--r--  2.0 unx    48809 b- defN 23-Jun-11 14:05 kvirt/web/static/images/logo-main.svg
--rw-r--r--  2.0 unx      160 b- defN 23-Jun-11 14:05 kvirt/web/static/images/sort_asc.png
--rw-r--r--  2.0 unx      201 b- defN 23-Jun-11 14:05 kvirt/web/static/images/sort_both.png
--rw-r--r--  2.0 unx      158 b- defN 23-Jun-11 14:05 kvirt/web/static/images/sort_desc.png
--rw-r--r--  2.0 unx     3927 b- defN 23-Jun-11 14:05 kvirt/web/static/images/start.png
--rw-r--r--  2.0 unx     3631 b- defN 23-Jun-11 14:05 kvirt/web/static/images/stop.png
--rw-r--r--  2.0 unx    24772 b- defN 23-Jun-11 14:05 kvirt/web/static/images/wheel.gif
--rw-r--r--  2.0 unx     2933 b- defN 23-Jun-11 14:05 kvirt/web/static/js/bootstrap-notify.js
--rw-r--r--  2.0 unx    37045 b- defN 23-Jun-11 14:05 kvirt/web/static/js/bootstrap.min.js
--rw-r--r--  2.0 unx     2523 b- defN 23-Jun-11 14:05 kvirt/web/static/js/containeraction.js
--rw-r--r--  2.0 unx    12398 b- defN 23-Jun-11 14:05 kvirt/web/static/js/dataTables.checkboxes.min.js
--rw-r--r--  2.0 unx     1642 b- defN 23-Jun-11 14:05 kvirt/web/static/js/hostaction.js
--rw-r--r--  2.0 unx     1187 b- defN 23-Jun-11 14:05 kvirt/web/static/js/imageaction.js
--rw-r--r--  2.0 unx    83059 b- defN 23-Jun-11 14:05 kvirt/web/static/js/jquery.dataTables.min.js
--rw-r--r--  2.0 unx    87462 b- defN 23-Jun-11 14:05 kvirt/web/static/js/jquery.min.js
--rw-r--r--  2.0 unx     2704 b- defN 23-Jun-11 14:05 kvirt/web/static/js/kcli.js
--rw-r--r--  2.0 unx     1594 b- defN 23-Jun-11 14:05 kvirt/web/static/js/kubeaction.js
--rw-r--r--  2.0 unx     3907 b- defN 23-Jun-11 14:05 kvirt/web/static/js/list.js
--rw-r--r--  2.0 unx     1376 b- defN 23-Jun-11 14:05 kvirt/web/static/js/networkaction.js
--rw-r--r--  2.0 unx     2457 b- defN 23-Jun-11 14:05 kvirt/web/static/js/planaction.js
--rw-r--r--  2.0 unx     1237 b- defN 23-Jun-11 14:05 kvirt/web/static/js/poolaction.js
--rw-r--r--  2.0 unx      846 b- defN 23-Jun-11 14:05 kvirt/web/static/js/productaction.js
--rw-r--r--  2.0 unx      270 b- defN 23-Jun-11 14:05 kvirt/web/static/js/refresh.js
--rw-r--r--  2.0 unx     1835 b- defN 23-Jun-11 14:05 kvirt/web/static/js/repoaction.js
--rw-r--r--  2.0 unx     3463 b- defN 23-Jun-11 14:05 kvirt/web/static/js/snapshotaction.js
--rw-r--r--  2.0 unx     2745 b- defN 23-Jun-11 14:05 kvirt/web/static/js/vmaction.js
--rw-r--r--  2.0 unx      123 b- defN 23-Jun-11 14:05 kvirt/web/static/js/wheel.js
--rw-r--r--  2.0 unx     9944 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/atKeynames.js
--rw-r--r--  2.0 unx     2335 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/bitmap.js
--rw-r--r--  2.0 unx     4795 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/cursor.js
--rw-r--r--  2.0 unx    49214 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/display.js
--rw-r--r--  2.0 unx    13253 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/enums.js
--rw-r--r--  2.0 unx     2847 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/filexfer.js
--rw-r--r--  2.0 unx     9535 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/inputs.js
--rw-r--r--  2.0 unx     6176 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/lz.js
--rw-r--r--  2.0 unx    18370 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/main.js
--rw-r--r--  2.0 unx    12677 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/playback.js
--rw-r--r--  2.0 unx     7036 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/png.js
--rw-r--r--  2.0 unx     3110 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/port.js
--rw-r--r--  2.0 unx    44531 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/quic.js
--rw-r--r--  2.0 unx     3030 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/resize.js
--rw-r--r--  2.0 unx     7282 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/simulatecursor.js
--rw-r--r--  2.0 unx     1895 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/spicearraybuffer.js
--rw-r--r--  2.0 unx    18202 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/spiceconn.js
--rw-r--r--  2.0 unx     3616 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/spicedataview.js
--rw-r--r--  2.0 unx    33015 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/spicemsg.js
--rw-r--r--  2.0 unx    12767 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/spicetype.js
--rw-r--r--  2.0 unx     6808 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/ticket.js
--rw-r--r--  2.0 unx    13628 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/utils.js
--rw-r--r--  2.0 unx    21577 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/webm.js
--rw-r--r--  2.0 unx     4131 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/wire.js
--rw-r--r--  2.0 unx    16580 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/thirdparty/jsbn.js
--rw-r--r--  2.0 unx     2529 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/thirdparty/prng4.js
--rw-r--r--  2.0 unx     3442 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/thirdparty/rng.js
--rw-r--r--  2.0 unx     4257 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/thirdparty/rsa.js
--rw-r--r--  2.0 unx    10671 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/thirdparty/sha1.js
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/thirdparty/browser-es-module-loader/.npmignore
--rw-r--r--  2.0 unx      419 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/thirdparty/browser-es-module-loader/README.md
--rw-r--r--  2.0 unx      359 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/thirdparty/browser-es-module-loader/rollup.config.js
--rw-r--r--  2.0 unx     1113 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/thirdparty/browser-es-module-loader/src/babel-worker.js
--rw-r--r--  2.0 unx     8601 b- defN 23-Jun-11 14:05 kvirt/web/static/js/spice/thirdparty/browser-es-module-loader/src/browser-es-module-loader.js
--rw-r--r--  2.0 unx     2176 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/error-handler.js
--rw-r--r--  2.0 unx     5682 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/localization.js
--rw-r--r--  2.0 unx    56845 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/ui.js
--rw-r--r--  2.0 unx     6696 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/webutil.js
--rw-r--r--  2.0 unx     3553 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/alt.svg
--rw-r--r--  2.0 unx     3980 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/clipboard.svg
--rw-r--r--  2.0 unx     3430 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/connect.svg
--rw-r--r--  2.0 unx     4381 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/ctrl.svg
--rw-r--r--  2.0 unx     3237 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/ctrlaltdel.svg
--rw-r--r--  2.0 unx     5062 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/disconnect.svg
--rw-r--r--  2.0 unx     4684 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/drag.svg
--rw-r--r--  2.0 unx     3106 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/error.svg
--rw-r--r--  2.0 unx     4522 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/esc.svg
--rw-r--r--  2.0 unx     3066 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/expander.svg
--rw-r--r--  2.0 unx     3139 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/fullscreen.svg
--rw-r--r--  2.0 unx     2559 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/handle.svg
--rw-r--r--  2.0 unx     6386 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/handle_bg.svg
--rw-r--r--  2.0 unx     3204 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/info.svg
--rw-r--r--  2.0 unx     6404 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/keyboard.svg
--rw-r--r--  2.0 unx     7000 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/mouse_left.svg
--rw-r--r--  2.0 unx     7002 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/mouse_middle.svg
--rw-r--r--  2.0 unx     6993 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/mouse_none.svg
--rw-r--r--  2.0 unx     7001 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/mouse_right.svg
--rw-r--r--  2.0 unx     3985 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/power.svg
--rw-r--r--  2.0 unx     3082 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/settings.svg
--rw-r--r--  2.0 unx     2953 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/tab.svg
--rw-r--r--  2.0 unx     4441 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/toggleextrakeys.svg
--rw-r--r--  2.0 unx     3869 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/warning.svg
--rw-r--r--  2.0 unx     3178 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/windows.svg
--rw-r--r--  2.0 unx      871 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/Makefile
--rw-r--r--  2.0 unx     4028 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-120x120.png
--rw-r--r--  2.0 unx     4582 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-144x144.png
--rw-r--r--  2.0 unx     5216 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-152x152.png
--rw-r--r--  2.0 unx      675 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-16x16.png
--rw-r--r--  2.0 unx     5787 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-192x192.png
--rw-r--r--  2.0 unx     1000 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-24x24.png
--rw-r--r--  2.0 unx     1064 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-32x32.png
--rw-r--r--  2.0 unx     1397 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-48x48.png
--rw-r--r--  2.0 unx     1932 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-60x60.png
--rw-r--r--  2.0 unx     1946 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-64x64.png
--rw-r--r--  2.0 unx     2699 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-72x72.png
--rw-r--r--  2.0 unx     2874 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-76x76.png
--rw-r--r--  2.0 unx     2351 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-96x96.png
--rw-r--r--  2.0 unx    11685 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-icon-sm.svg
--rw-r--r--  2.0 unx    11549 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/images/icons/novnc-icon.svg
--rw-r--r--  2.0 unx     2885 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/locale/cs.json
--rw-r--r--  2.0 unx     2854 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/locale/de.json
--rw-r--r--  2.0 unx     3906 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/locale/el.json
--rw-r--r--  2.0 unx     2671 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/locale/es.json
--rw-r--r--  2.0 unx     3354 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/locale/ja.json
--rw-r--r--  2.0 unx     2961 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/locale/ko.json
--rw-r--r--  2.0 unx     3035 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/locale/nl.json
--rw-r--r--  2.0 unx     2830 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/locale/pl.json
--rw-r--r--  2.0 unx     3825 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/locale/ru.json
--rw-r--r--  2.0 unx     2845 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/locale/sv.json
--rw-r--r--  2.0 unx     2811 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/locale/tr.json
--rw-r--r--  2.0 unx     2597 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/locale/zh_CN.json
--rw-r--r--  2.0 unx     2606 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/locale/zh_TW.json
--rw-r--r--  2.0 unx      157 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/sounds/CREDITS
--rw-r--r--  2.0 unx     4531 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/sounds/bell.mp3
--rw-r--r--  2.0 unx     8495 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/sounds/bell.oga
--rw-r--r--  2.0 unx    38580 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/styles/Orbitron700.ttf
--rw-r--r--  2.0 unx    17472 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/styles/Orbitron700.woff
--rw-r--r--  2.0 unx    18450 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/app/styles/base.css
--rw-r--r--  2.0 unx     4189 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/base64.js
--rw-r--r--  2.0 unx    11241 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/des.js
--rw-r--r--  2.0 unx    20381 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/display.js
--rw-r--r--  2.0 unx     1374 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/encodings.js
--rw-r--r--  2.0 unx     1170 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/inflator.js
--rw-r--r--  2.0 unx    74196 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/rfb.js
--rw-r--r--  2.0 unx     9130 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/websock.js
--rw-r--r--  2.0 unx      628 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/decoders/copyrect.js
--rw-r--r--  2.0 unx     4814 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/decoders/hextile.js
--rw-r--r--  2.0 unx     1739 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/decoders/raw.js
--rw-r--r--  2.0 unx     1210 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/decoders/rre.js
--rw-r--r--  2.0 unx     9662 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/decoders/tight.js
--rw-r--r--  2.0 unx      768 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/decoders/tightpng.js
--rw-r--r--  2.0 unx    11438 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/input/domkeytable.js
--rw-r--r--  2.0 unx     3804 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/input/fixedkeys.js
--rw-r--r--  2.0 unx    13090 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/input/keyboard.js
--rw-r--r--  2.0 unx    34609 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/input/keysym.js
--rw-r--r--  2.0 unx    25374 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/input/keysymdef.js
--rw-r--r--  2.0 unx     9995 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/input/mouse.js
--rw-r--r--  2.0 unx     5283 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/input/util.js
--rw-r--r--  2.0 unx     2580 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/input/vkeys.js
--rw-r--r--  2.0 unx    14256 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/input/xtscancodes.js
--rw-r--r--  2.0 unx     3155 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/util/browser.js
--rw-r--r--  2.0 unx     7556 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/util/cursor.js
--rw-r--r--  2.0 unx     4221 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/util/events.js
--rw-r--r--  2.0 unx      896 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/util/eventtarget.js
--rw-r--r--  2.0 unx     1358 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/util/logging.js
--rw-r--r--  2.0 unx     1866 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/util/polyfill.js
--rw-r--r--  2.0 unx      301 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/core/util/strings.js
--rw-r--r--  2.0 unx     7388 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/promise.js
--rw-r--r--  2.0 unx      419 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/browser-es-module-loader/README.md
--rw-r--r--  2.0 unx      295 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/browser-es-module-loader/rollup.config.js
--rw-r--r--  2.0 unx     1113 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/browser-es-module-loader/src/babel-worker.js
--rw-r--r--  2.0 unx     8498 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/browser-es-module-loader/src/browser-es-module-loader.js
--rw-r--r--  2.0 unx     1084 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/pako/LICENSE
--rw-r--r--  2.0 unx      301 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/pako/README.md
--rw-r--r--  2.0 unx     1062 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/pako/lib/utils/common.js
--rw-r--r--  2.0 unx      666 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/pako/lib/zlib/adler32.js
--rw-r--r--  2.0 unx     1334 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/pako/lib/zlib/constants.js
--rw-r--r--  2.0 unx      764 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/pako/lib/zlib/crc32.js
--rw-r--r--  2.0 unx    60016 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/pako/lib/zlib/deflate.js
--rw-r--r--  2.0 unx     1251 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/pako/lib/zlib/gzheader.js
--rw-r--r--  2.0 unx    11690 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/pako/lib/zlib/inffast.js
--rw-r--r--  2.0 unx    47128 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/pako/lib/zlib/inflate.js
--rw-r--r--  2.0 unx    11527 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/pako/lib/zlib/inftrees.js
--rw-r--r--  2.0 unx      560 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/pako/lib/zlib/messages.js
--rw-r--r--  2.0 unx    38767 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/pako/lib/zlib/trees.js
--rw-r--r--  2.0 unx      823 b- defN 23-Jun-11 14:05 kvirt/web/static/vnc/vendor/pako/lib/zlib/zstream.js
--rw-r--r--  2.0 unx     2509 b- defN 23-Jun-11 14:05 kvirt/web/templates/bootstrap.html
--rw-r--r--  2.0 unx    14595 b- defN 23-Jun-11 14:05 kvirt/web/templates/console.html
--rw-r--r--  2.0 unx      717 b- defN 23-Jun-11 14:05 kvirt/web/templates/containercreate.html
--rw-r--r--  2.0 unx      493 b- defN 23-Jun-11 14:05 kvirt/web/templates/containerprofiles.html
--rw-r--r--  2.0 unx     1050 b- defN 23-Jun-11 14:05 kvirt/web/templates/containerprofilestable.html
--rw-r--r--  2.0 unx      490 b- defN 23-Jun-11 14:05 kvirt/web/templates/containers.html
--rw-r--r--  2.0 unx     1746 b- defN 23-Jun-11 14:05 kvirt/web/templates/containerstable.html
--rw-r--r--  2.0 unx     2123 b- defN 23-Jun-11 14:05 kvirt/web/templates/head.html
--rw-r--r--  2.0 unx      473 b- defN 23-Jun-11 14:05 kvirt/web/templates/hosts.html
--rw-r--r--  2.0 unx     1705 b- defN 23-Jun-11 14:05 kvirt/web/templates/hoststable.html
--rw-r--r--  2.0 unx     1119 b- defN 23-Jun-11 14:05 kvirt/web/templates/imagecreate.html
--rw-r--r--  2.0 unx      478 b- defN 23-Jun-11 14:05 kvirt/web/templates/images.html
--rw-r--r--  2.0 unx      646 b- defN 23-Jun-11 14:05 kvirt/web/templates/imagestable.html
--rw-r--r--  2.0 unx      472 b- defN 23-Jun-11 14:05 kvirt/web/templates/isos.html
--rw-r--r--  2.0 unx      261 b- defN 23-Jun-11 14:05 kvirt/web/templates/isostable.html
--rw-r--r--  2.0 unx      609 b- defN 23-Jun-11 14:05 kvirt/web/templates/kubecreate.html
--rw-r--r--  2.0 unx      622 b- defN 23-Jun-11 14:05 kvirt/web/templates/kubeinfo.html
--rw-r--r--  2.0 unx      488 b- defN 23-Jun-11 14:05 kvirt/web/templates/kubeprofiles.html
--rw-r--r--  2.0 unx      845 b- defN 23-Jun-11 14:05 kvirt/web/templates/kubeprofilestable.html
--rw-r--r--  2.0 unx      475 b- defN 23-Jun-11 14:05 kvirt/web/templates/kubes.html
--rw-r--r--  2.0 unx     1850 b- defN 23-Jun-11 14:05 kvirt/web/templates/kubestable.html
--rw-r--r--  2.0 unx      151 b- defN 23-Jun-11 14:05 kvirt/web/templates/layout.html
--rw-r--r--  2.0 unx     5517 b- defN 23-Jun-11 14:05 kvirt/web/templates/navbar.html
--rw-r--r--  2.0 unx      882 b- defN 23-Jun-11 14:05 kvirt/web/templates/networkcreate.html
--rw-r--r--  2.0 unx      537 b- defN 23-Jun-11 14:05 kvirt/web/templates/networks.html
--rw-r--r--  2.0 unx      845 b- defN 23-Jun-11 14:05 kvirt/web/templates/networkstable.html
--rw-r--r--  2.0 unx      750 b- defN 23-Jun-11 14:05 kvirt/web/templates/plancreate.html
--rw-r--r--  2.0 unx      475 b- defN 23-Jun-11 14:05 kvirt/web/templates/plans.html
--rw-r--r--  2.0 unx     1525 b- defN 23-Jun-11 14:05 kvirt/web/templates/planstable.html
--rw-r--r--  2.0 unx      859 b- defN 23-Jun-11 14:05 kvirt/web/templates/poolcreate.html
--rw-r--r--  2.0 unx      475 b- defN 23-Jun-11 14:05 kvirt/web/templates/pools.html
--rw-r--r--  2.0 unx      554 b- defN 23-Jun-11 14:05 kvirt/web/templates/poolstable.html
--rw-r--r--  2.0 unx     1282 b- defN 23-Jun-11 14:05 kvirt/web/templates/productcreate.html
--rw-r--r--  2.0 unx      484 b- defN 23-Jun-11 14:05 kvirt/web/templates/products.html
--rw-r--r--  2.0 unx      895 b- defN 23-Jun-11 14:05 kvirt/web/templates/productstable.html
--rw-r--r--  2.0 unx      699 b- defN 23-Jun-11 14:05 kvirt/web/templates/repocreate.html
--rw-r--r--  2.0 unx      475 b- defN 23-Jun-11 14:05 kvirt/web/templates/repos.html
--rw-r--r--  2.0 unx     1203 b- defN 23-Jun-11 14:05 kvirt/web/templates/repostable.html
--rw-r--r--  2.0 unx      958 b- defN 23-Jun-11 14:05 kvirt/web/templates/vmcreate.html
--rw-r--r--  2.0 unx      486 b- defN 23-Jun-11 14:05 kvirt/web/templates/vmprofiles.html
--rw-r--r--  2.0 unx     1420 b- defN 23-Jun-11 14:05 kvirt/web/templates/vmprofilestable.html
--rw-r--r--  2.0 unx      470 b- defN 23-Jun-11 14:05 kvirt/web/templates/vms.html
--rw-r--r--  2.0 unx     4894 b- defN 23-Jun-11 14:05 kvirt/web/templates/vmstable.html
--rw-r--r--  2.0 unx    11358 b- defN 23-Jun-11 14:11 kcli-99.0.202306111411.dist-info/LICENSE
--rw-r--r--  2.0 unx     3024 b- defN 23-Jun-11 14:11 kcli-99.0.202306111411.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-11 14:11 kcli-99.0.202306111411.dist-info/WHEEL
--rw-r--r--  2.0 unx      209 b- defN 23-Jun-11 14:11 kcli-99.0.202306111411.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        6 b- defN 23-Jun-11 14:11 kcli-99.0.202306111411.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx    59055 b- defN 23-Jun-11 14:11 kcli-99.0.202306111411.dist-info/RECORD
-602 files, 4562230 bytes uncompressed, 1383573 bytes compressed:  69.7%
+Zip file size: 1479437 bytes, number of entries: 602
+-rw-r--r--  2.0 unx       15 b- defN 23-Jun-11 14:09 kvirt/__init__.py
+-rw-r--r--  2.0 unx   100030 b- defN 23-Jun-11 14:09 kvirt/baseconfig.py
+-rw-r--r--  2.0 unx   171487 b- defN 23-Jun-11 14:09 kvirt/bottle.py
+-rw-r--r--  2.0 unx   248698 b- defN 23-Jun-11 14:09 kvirt/cli.py
+-rw-r--r--  2.0 unx   188839 b- defN 23-Jun-11 14:09 kvirt/config.py
+-rw-r--r--  2.0 unx     2851 b- defN 23-Jun-11 14:09 kvirt/containerconfig.py
+-rw-r--r--  2.0 unx    11500 b- defN 23-Jun-11 14:09 kvirt/defaults.py
+-rw-r--r--  2.0 unx    19475 b- defN 23-Jun-11 14:09 kvirt/examples.py
+-rw-r--r--  2.0 unx     4333 b- defN 23-Jun-11 14:09 kvirt/ignitionmerger.py
+-rw-r--r--  2.0 unx     9871 b- defN 23-Jun-11 14:09 kvirt/keywords.yaml
+-rw-r--r--  2.0 unx     3487 b- defN 23-Jun-11 14:09 kvirt/klist.py
+-rw-r--r--  2.0 unx     6009 b- defN 23-Jun-11 14:09 kvirt/ansibleutils/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-11 14:09 kvirt/cluster/__init__.py
+-rw-r--r--  2.0 unx      204 b- defN 23-Jun-11 14:09 kvirt/cluster/sampleprovider.py
+-rw-r--r--  2.0 unx    11143 b- defN 23-Jun-11 14:09 kvirt/cluster/gke/__init__.py
+-rw-r--r--  2.0 unx       16 b- defN 23-Jun-11 14:09 kvirt/cluster/gke/fake.yml
+-rw-r--r--  2.0 unx      374 b- defN 23-Jun-11 14:09 kvirt/cluster/gke/kcli_default.yml
+-rw-r--r--  2.0 unx      312 b- defN 23-Jun-11 14:09 kvirt/cluster/gke/kubeconfig.j2
+-rw-r--r--  2.0 unx      931 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/99-apps.yaml
+-rw-r--r--  2.0 unx      694 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/99-forcedns
+-rw-r--r--  2.0 unx     1480 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/99-notifications.yaml
+-rw-r--r--  2.0 unx      653 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/Corefile
+-rw-r--r--  2.0 unx    43440 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/__init__.py
+-rw-r--r--  2.0 unx     1121 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/assisted_infra.yml
+-rw-r--r--  2.0 unx     1269 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/assisted_ingress.yml
+-rw-r--r--  2.0 unx     1366 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/autoapprovercron.yml
+-rw-r--r--  2.0 unx     1106 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/bmc.yml.j2
+-rw-r--r--  2.0 unx      511 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/calico.sh.j2
+-rw-r--r--  2.0 unx      200 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/cloud_lb_apps.yml
+-rw-r--r--  2.0 unx     1433 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/disconnected.sh
+-rw-r--r--  2.0 unx      184 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/extras.service
+-rw-r--r--  2.0 unx      839 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/extras.sh
+-rw-r--r--  2.0 unx     2954 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/hostedcluster.yaml
+-rw-r--r--  2.0 unx     1174 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/httpd.yaml
+-rw-r--r--  2.0 unx      889 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/ignition.sh
+-rw-r--r--  2.0 unx     2307 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/kcli_plan.yml
+-rw-r--r--  2.0 unx     2052 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/kcli_plan_default.yml
+-rw-r--r--  2.0 unx      502 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/keepalived.conf
+-rw-r--r--  2.0 unx     1587 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/nmstateconfig.yml.j2
+-rw-r--r--  2.0 unx      752 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/nodepool.yaml
+-rw-r--r--  2.0 unx       60 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/nonlocalbind.conf
+-rw-r--r--  2.0 unx     1890 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/staticpods/coredns.yml
+-rw-r--r--  2.0 unx     2142 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/staticpods/keepalived.yml
+-rw-r--r--  2.0 unx     1619 b- defN 23-Jun-11 14:09 kvirt/cluster/hypershift/staticpods/mdns.yml
+-rw-r--r--  2.0 unx    11448 b- defN 23-Jun-11 14:09 kvirt/cluster/k3s/__init__.py
+-rw-r--r--  2.0 unx     1117 b- defN 23-Jun-11 14:09 kvirt/cluster/k3s/bootstrap.sh
+-rw-r--r--  2.0 unx     1050 b- defN 23-Jun-11 14:09 kvirt/cluster/k3s/bootstrap.yml
+-rw-r--r--  2.0 unx      409 b- defN 23-Jun-11 14:09 kvirt/cluster/k3s/cloud_lb_api.yml
+-rw-r--r--  2.0 unx      438 b- defN 23-Jun-11 14:09 kvirt/cluster/k3s/ctlplanes.sh
+-rw-r--r--  2.0 unx     1068 b- defN 23-Jun-11 14:09 kvirt/cluster/k3s/ctlplanes.yml
+-rw-r--r--  2.0 unx      374 b- defN 23-Jun-11 14:09 kvirt/cluster/k3s/join.sh
+-rw-r--r--  2.0 unx     1260 b- defN 23-Jun-11 14:09 kvirt/cluster/k3s/kcli_default.yml
+-rw-r--r--  2.0 unx      511 b- defN 23-Jun-11 14:09 kvirt/cluster/k3s/keepalived.conf
+-rw-r--r--  2.0 unx      352 b- defN 23-Jun-11 14:09 kvirt/cluster/k3s/keepalived.sh
+-rw-r--r--  2.0 unx      166 b- defN 23-Jun-11 14:09 kvirt/cluster/k3s/workers.sh
+-rw-r--r--  2.0 unx      709 b- defN 23-Jun-11 14:09 kvirt/cluster/k3s/workers.yml
+-rw-r--r--  2.0 unx    13520 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/__init__.py
+-rwxr-xr-x  2.0 unx     2707 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/bootstrap.sh
+-rw-r--r--  2.0 unx     1621 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/bootstrap.yml
+-rw-r--r--  2.0 unx      325 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/cloud_lb_api.yml
+-rw-r--r--  2.0 unx     1172 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/ctlplanes.yml
+-rwxr-xr-x  2.0 unx      343 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/deploy.sh
+-rwxr-xr-x  2.0 unx      412 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/join.sh
+-rw-r--r--  2.0 unx     1822 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/kcli_default.yml
+-rw-r--r--  2.0 unx      563 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/keepalived.conf
+-rw-r--r--  2.0 unx      424 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/keepalived.sh
+-rw-r--r--  2.0 unx      140 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/kubernetes.repo
+-rw-r--r--  2.0 unx      179 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/multus.sh
+-rw-r--r--  2.0 unx      572 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/nfs.sh
+-rw-r--r--  2.0 unx      226 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/nfs.yml
+-rw-r--r--  2.0 unx     4021 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/pre_el.sh
+-rw-r--r--  2.0 unx     3906 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/pre_ubuntu.sh
+-rw-r--r--  2.0 unx     2127 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/registry.yml
+-rw-r--r--  2.0 unx      949 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/workers.yml
+-rw-r--r--  2.0 unx      487 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/argocd/ingress.yml
+-rw-r--r--  2.0 unx     2134 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/argocd/install.sh
+-rw-r--r--  2.0 unx       71 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/argocd/kcli_default.yml
+-rw-r--r--  2.0 unx      314 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/argocd/uninstall.sh
+-rw-r--r--  2.0 unx       90 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/autolabeller/install.sh
+-rw-r--r--  2.0 unx       91 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/autolabeller/uninstall.sh
+-rw-r--r--  2.0 unx      380 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/certmanager/install.sh
+-rw-r--r--  2.0 unx      317 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/dashboard/admin.yml
+-rw-r--r--  2.0 unx      452 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/dashboard/ingress.yml
+-rw-r--r--  2.0 unx     1433 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/dashboard/install.sh
+-rw-r--r--  2.0 unx       23 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/dashboard/kcli_default.yml
+-rw-r--r--  2.0 unx      373 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/dashboard/user.yml
+-rw-r--r--  2.0 unx      157 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/falco/falco_advertisements.yml
+-rw-r--r--  2.0 unx      185 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/falco/falco_ip.yml
+-rw-r--r--  2.0 unx      839 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/falco/install.sh
+-rw-r--r--  2.0 unx       57 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/falco/kcli_default.yml
+-rw-r--r--  2.0 unx      133 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/falco/uninstall.sh
+-rw-r--r--  2.0 unx      175 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/ingress/install.sh
+-rw-r--r--  2.0 unx      176 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/ingress/uninstall.sh
+-rw-r--r--  2.0 unx      112 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/istio/install.sh
+-rw-r--r--  2.0 unx      910 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/istio/istio-minimal-operator.yaml
+-rw-r--r--  2.0 unx      766 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/katacontainer/install.sh
+-rw-r--r--  2.0 unx      913 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/katacontainer/uninstall.sh
+-rw-r--r--  2.0 unx      198 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/knative/cr_eventing.yml
+-rw-r--r--  2.0 unx      194 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/knative/cr_serving.yml
+-rw-r--r--  2.0 unx      253 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/knative/install.sh
+-rw-r--r--  2.0 unx      670 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/kubevirt/install.sh
+-rw-r--r--  2.0 unx       30 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/kubevirt/kcli_default.yml
+-rw-r--r--  2.0 unx      534 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/metallb/install.sh
+-rw-r--r--  2.0 unx       47 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/metallb/kcli_default.yml
+-rw-r--r--  2.0 unx      157 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/metallb/metallb_advertisements.yml
+-rw-r--r--  2.0 unx      150 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/metallb/metallb_cr.yml
+-rw-r--r--  2.0 unx      283 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/metallb/uninstall.sh
+-rw-r--r--  2.0 unx      348 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/olm/install.sh
+-rw-r--r--  2.0 unx      350 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/olm/uninstall.sh
+-rw-r--r--  2.0 unx      320 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/policy_as_code/install.sh
+-rw-r--r--  2.0 unx       34 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/policy_as_code/kcli_default.yml
+-rw-r--r--  2.0 unx      322 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/policy_as_code/uninstall.sh
+-rw-r--r--  2.0 unx     1662 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/rancher/install.sh
+-rw-r--r--  2.0 unx      103 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/rancher/kcli_default.yml
+-rw-r--r--  2.0 unx      161 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/rancher/rancher_advertisements.yml
+-rw-r--r--  2.0 unx      191 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/rancher/rancher_ip.yml
+-rw-r--r--  2.0 unx      151 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/rancher/uninstall.sh
+-rw-r--r--  2.0 unx      572 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/rook/install.sh
+-rw-r--r--  2.0 unx      190 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/submariner/install.sh
+-rw-r--r--  2.0 unx       22 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/submariner/kcli_default.yml
+-rw-r--r--  2.0 unx      277 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/tekton/install.sh
+-rw-r--r--  2.0 unx      278 b- defN 23-Jun-11 14:09 kvirt/cluster/kubeadm/apps/tekton/uninstall.sh
+-rw-r--r--  2.0 unx     2970 b- defN 23-Jun-11 14:09 kvirt/cluster/kubecommon/__init__.py
+-rw-r--r--  2.0 unx     9395 b- defN 23-Jun-11 14:09 kvirt/cluster/kubernetes/__init__.py
+-rw-r--r--  2.0 unx     4782 b- defN 23-Jun-11 14:09 kvirt/cluster/microshift/__init__.py
+-rw-r--r--  2.0 unx      603 b- defN 23-Jun-11 14:09 kvirt/cluster/microshift/kcli_plan.yml
+-rw-r--r--  2.0 unx      625 b- defN 23-Jun-11 14:09 kvirt/cluster/microshift/kcli_plan_default.yml
+-rw-r--r--  2.0 unx      262 b- defN 23-Jun-11 14:09 kvirt/cluster/microshift/scripts/00_sslip.sh
+-rw-r--r--  2.0 unx      799 b- defN 23-Jun-11 14:09 kvirt/cluster/microshift/scripts/01_clients.sh
+-rw-r--r--  2.0 unx      183 b- defN 23-Jun-11 14:09 kvirt/cluster/microshift/scripts/02_crio.sh
+-rw-r--r--  2.0 unx      538 b- defN 23-Jun-11 14:09 kvirt/cluster/microshift/scripts/03_microshift.sh
+-rw-r--r--  2.0 unx      341 b- defN 23-Jun-11 14:09 kvirt/cluster/microshift/scripts/04_kubeconfig.sh
+-rw-r--r--  2.0 unx     2252 b- defN 23-Jun-11 14:09 kvirt/cluster/microshift/scripts/05_acm.sh
+-rw-r--r--  2.0 unx      696 b- defN 23-Jun-11 14:09 kvirt/cluster/microshift/scripts/deploy.sh
+-rw-r--r--  2.0 unx      219 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/01-workload-partitioning
+-rw-r--r--  2.0 unx      573 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/10-node-ip-hint.yaml
+-rw-r--r--  2.0 unx      980 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/99-apps.yaml
+-rw-r--r--  2.0 unx      618 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/99-bootstrap-deletion-2.yaml
+-rw-r--r--  2.0 unx     1239 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/99-bootstrap-deletion.yaml
+-rw-r--r--  2.0 unx      529 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/99-chrony.yaml
+-rw-r--r--  2.0 unx      646 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/99-forcedns
+-rw-r--r--  2.0 unx      476 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/99-forcedns-ibm
+-rw-r--r--  2.0 unx      854 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/99-kubevirt-fix.yaml
+-rw-r--r--  2.0 unx     1127 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/99-localhost-fix.yaml
+-rw-r--r--  2.0 unx      250 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/99-metal3-fake-machine.yaml
+-rw-r--r--  2.0 unx      162 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/99-metal3-provisioning.yaml
+-rw-r--r--  2.0 unx     1659 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/99-notifications.yaml
+-rw-r--r--  2.0 unx      118 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/99-operatorhub.yaml
+-rw-r--r--  2.0 unx      314 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/99-ovn.yaml
+-rw-r--r--  2.0 unx      912 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/99-sno.yaml
+-rw-r--r--  2.0 unx      762 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/Corefile
+-rw-r--r--  2.0 unx    81470 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/__init__.py
+-rw-r--r--  2.0 unx     1326 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/autoapprovercron.yml
+-rw-r--r--  2.0 unx      987 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/autorules.yml
+-rw-r--r--  2.0 unx     1630 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/bootstrap.yml
+-rw-r--r--  2.0 unx      250 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/calico.sh.j2
+-rw-r--r--  2.0 unx      107 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/chrony.conf
+-rw-r--r--  2.0 unx      629 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/cloud_bootstrap.yml
+-rw-r--r--  2.0 unx      792 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/cloud_ctlplanes.yml
+-rw-r--r--  2.0 unx      217 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/cloud_dns.yml
+-rw-r--r--  2.0 unx      616 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/cloud_lb_api.yml
+-rw-r--r--  2.0 unx      224 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/cloud_lb_apps.yml
+-rw-r--r--  2.0 unx      703 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/cloud_workers.yml
+-rw-r--r--  2.0 unx      123 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/cluster-ingress-02-config.yml
+-rw-r--r--  2.0 unx      159 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/cluster-scheduler-02-config.yml
+-rw-r--r--  2.0 unx      224 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/config.hcl.templ
+-rw-r--r--  2.0 unx       98 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/contrail-ca-patch.service
+-rw-r--r--  2.0 unx      486 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/contrail-ca-patch.sh
+-rw-r--r--  2.0 unx       87 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/contrail.auth
+-rw-r--r--  2.0 unx     1108 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/contrail.sh.j2
+-rw-r--r--  2.0 unx     2278 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/ctlplanes.yml
+-rw-r--r--  2.0 unx      326 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/dhcp.conf
+-rw-r--r--  2.0 unx      106 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/dhcp.sh
+-rw-r--r--  2.0 unx      536 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/dhcp.yml
+-rw-r--r--  2.0 unx      836 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/disconnected.yml
+-rw-r--r--  2.0 unx     8945 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/fake_kubeconfig.json
+-rw-r--r--  2.0 unx       35 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/fake_pull.json
+-rw-r--r--  2.0 unx     1792 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/haproxy.cfg
+-rw-r--r--  2.0 unx     2483 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/haproxy.cfg.kubevirt
+-rw-r--r--  2.0 unx      902 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/httpd.yaml
+-rw-r--r--  2.0 unx      524 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/ignition.j2
+-rw-r--r--  2.0 unx     3562 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/install-config.yaml
+-rw-r--r--  2.0 unx     2691 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/iso.sh
+-rw-r--r--  2.0 unx      237 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/kcli-ipv6.conf.j2
+-rw-r--r--  2.0 unx     4257 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/kcli_default.yml
+-rw-r--r--  2.0 unx      982 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/keepalived.conf
+-rw-r--r--  2.0 unx       60 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/nonlocalbind.conf
+-rw-r--r--  2.0 unx       59 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/openshift-workload-pinning
+-rw-r--r--  2.0 unx      157 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/relocate-ip-bootstrap.service
+-rw-r--r--  2.0 unx      281 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/relocate-ip-bootstrap.sh
+-rw-r--r--  2.0 unx      690 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/relocate-ip.sh
+-rw-r--r--  2.0 unx      212 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/sno-finish.service
+-rw-r--r--  2.0 unx     2085 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/sno-finish.sh
+-rw-r--r--  2.0 unx      660 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/sno.yml
+-rw-r--r--  2.0 unx     1615 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/workers.yml
+-rw-r--r--  2.0 unx       40 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/cr.sh
+-rw-r--r--  2.0 unx      768 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/install.yml.j2
+-rw-r--r--  2.0 unx      162 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/advanced-cluster-management/99-metal3-provisioning.yaml
+-rw-r--r--  2.0 unx     2754 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/advanced-cluster-management/assisted-service.sample.yml
+-rwxr-xr-x  2.0 unx     2838 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/advanced-cluster-management/assisted-service.sh
+-rw-r--r--  2.0 unx      418 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/advanced-cluster-management/cr.yml
+-rw-r--r--  2.0 unx      625 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/advanced-cluster-management/gen_registries.py
+-rw-r--r--  2.0 unx      259 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/advanced-cluster-management/kcli_default.yml
+-rw-r--r--  2.0 unx     1219 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/advanced-cluster-management/post.sh
+-rw-r--r--  2.0 unx      645 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/argocd/configmap.yml
+-rw-r--r--  2.0 unx     2423 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/argocd/install.sh
+-rw-r--r--  2.0 unx       49 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/argocd/kcli_default.yml
+-rw-r--r--  2.0 unx     1093 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/autolabeller/cr.yml
+-rw-r--r--  2.0 unx      142 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/autolabeller/install.sh
+-rw-r--r--  2.0 unx     1093 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/autolabeller/install.yml
+-rw-r--r--  2.0 unx      165 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/autolabeller/kcli_default.yml
+-rw-r--r--  2.0 unx       25 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/autolabeller/uninstall.sh
+-rw-r--r--  2.0 unx      873 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/cluster-logging/cr.yml
+-rw-r--r--  2.0 unx       63 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/cluster-logging/kcli_default.yml
+-rw-r--r--  2.0 unx      265 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/istio/install.sh
+-rw-r--r--  2.0 unx      377 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/istio/istio-cni.yaml
+-rw-r--r--  2.0 unx     1039 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/kubevirt-hyperconverged/cr.yml
+-rw-r--r--  2.0 unx      154 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/kubevirt-hyperconverged/kcli_default.yml
+-rw-r--r--  2.0 unx      775 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/local-storage-operator/cr.yml
+-rw-r--r--  2.0 unx      227 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/local-storage-operator/kcli_default.yml
+-rw-r--r--  2.0 unx      642 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/local-storage-operator/post.sh
+-rw-r--r--  2.0 unx      349 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/lvms-operator/cr.yml
+-rw-r--r--  2.0 unx      137 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/lvms-operator/kcli_default.yml
+-rw-r--r--  2.0 unx      595 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/lvms-operator/post.sh
+-rw-r--r--  2.0 unx      510 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/metallb-operator/cr.yml
+-rw-r--r--  2.0 unx       94 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/metallb-operator/kcli_default.yml
+-rw-r--r--  2.0 unx      162 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/multicluster-engine/99-metal3-provisioning.yaml
+-rw-r--r--  2.0 unx     2754 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/multicluster-engine/assisted-service.sample.yml
+-rwxr-xr-x  2.0 unx     2845 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/multicluster-engine/assisted-service.sh
+-rw-r--r--  2.0 unx      245 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/multicluster-engine/cr.yml
+-rw-r--r--  2.0 unx      625 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/multicluster-engine/gen_registries.py
+-rw-r--r--  2.0 unx      118 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/multicluster-engine/kcli_default.yml
+-rwxr-xr-x  2.0 unx       55 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/multicluster-engine/post.sh
+-rwxr-xr-x  2.0 unx     2298 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/nfs/install.sh
+-rw-r--r--  2.0 unx      117 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/nfs/kcli_default.yml
+-rw-r--r--  2.0 unx      185 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/nfs/uninstall.sh
+-rw-r--r--  2.0 unx      849 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/odf-operator/cr.yml
+-rw-r--r--  2.0 unx      298 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/odf-operator/kcli_default.yml
+-rw-r--r--  2.0 unx      364 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/odf-operator/nad_cluster.yml
+-rw-r--r--  2.0 unx      362 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/odf-operator/nad_public.yml
+-rw-r--r--  2.0 unx      745 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/odf-operator/post.sh
+-rw-r--r--  2.0 unx      530 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/odf-operator/pre.sh
+-rw-r--r--  2.0 unx      363 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/serverless-operator/cr.yml
+-rw-r--r--  2.0 unx      157 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/serverless-operator/kcli_default.yml
+-rw-r--r--  2.0 unx      278 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/serverless-operator/post.sh
+-rw-r--r--  2.0 unx     1227 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/users/install.sh
+-rw-r--r--  2.0 unx       84 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/users/kcli_default.yml
+-rw-r--r--  2.0 unx      258 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/users/oauth.yml
+-rw-r--r--  2.0 unx      249 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/users/oauth_hypershift.yml
+-rw-r--r--  2.0 unx      422 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/apps/users/uninstall.sh
+-rw-r--r--  2.0 unx       60 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/customisation/00-kcli-namespace.yaml
+-rw-r--r--  2.0 unx       91 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/customisation/97-autoapprovercron-sa.yaml
+-rw-r--r--  2.0 unx      264 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/customisation/98-autoapprovercron-binding.yaml
+-rw-r--r--  2.0 unx      912 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/customisation/99-autoapprovercron-cronjob.yaml
+-rw-r--r--  2.0 unx      389 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/customisation/99-ingress-controller.yaml
+-rw-r--r--  2.0 unx      184 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/customisation/99-monitoring.yaml
+-rw-r--r--  2.0 unx      289 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/customisation/99-registry.yaml
+-rw-r--r--  2.0 unx     1685 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/disconnected/haproxy.cfg
+-rw-r--r--  2.0 unx      211 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/disconnected/registry.service
+-rwxr-xr-x  2.0 unx      328 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/disconnected/bin/sync_image.sh
+-rwxr-xr-x  2.0 unx      201 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/disconnected/scripts/01_get_oc.sh
+-rwxr-xr-x  2.0 unx     2484 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/disconnected/scripts/03_mirror.sh
+-rwxr-xr-x  2.0 unx     2046 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/disconnected/scripts/03_registry.sh
+-rwxr-xr-x  2.0 unx      337 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/disconnected/scripts/04_extras.sh
+-rwxr-xr-x  2.0 unx     2390 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/disconnected/scripts/05_olm.sh
+-rwxr-xr-x  2.0 unx      241 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/disconnected/scripts/06_web.sh
+-rwxr-xr-x  2.0 unx      733 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/disconnected/scripts/deploy.sh
+-rw-r--r--  2.0 unx     1768 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/disconnected/scripts/mirror-config.yaml.sample
+-rw-r--r--  2.0 unx     2557 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/staticpods/coredns.yml
+-rw-r--r--  2.0 unx      987 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/staticpods/haproxy.yml
+-rw-r--r--  2.0 unx     2539 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/staticpods/keepalived.yml
+-rw-r--r--  2.0 unx     1721 b- defN 23-Jun-11 14:09 kvirt/cluster/openshift/staticpods/mdns.yml
+-rw-r--r--  2.0 unx      193 b- defN 23-Jun-11 14:09 kvirt/cluster/profiles/sample-kubeadm-default.yml
+-rw-r--r--  2.0 unx      135 b- defN 23-Jun-11 14:09 kvirt/cluster/profiles/sample-openshift-compact.yml
+-rw-r--r--  2.0 unx      210 b- defN 23-Jun-11 14:09 kvirt/cluster/profiles/sample-openshift-contrail.yml
+-rw-r--r--  2.0 unx      157 b- defN 23-Jun-11 14:09 kvirt/cluster/profiles/sample-openshift-ipv6.yml
+-rw-r--r--  2.0 unx       55 b- defN 23-Jun-11 14:09 kvirt/cluster/profiles/sample-openshift-sno-bm.yml
+-rw-r--r--  2.0 unx      148 b- defN 23-Jun-11 14:09 kvirt/cluster/profiles/sample-openshift-sno.yml
+-rw-r--r--  2.0 unx     3377 b- defN 23-Jun-11 14:09 kvirt/common/Jenkinsfile.j2
+-rw-r--r--  2.0 unx    96514 b- defN 23-Jun-11 14:09 kvirt/common/__init__.py
+-rw-r--r--  2.0 unx     1406 b- defN 23-Jun-11 14:09 kvirt/common/autoscale.yaml.j2
+-rw-r--r--  2.0 unx     8945 b- defN 23-Jun-11 14:09 kvirt/common/fake_kubeconfig.json
+-rw-r--r--  2.0 unx      669 b- defN 23-Jun-11 14:09 kvirt/common/ignition.j2
+-rw-r--r--  2.0 unx      125 b- defN 23-Jun-11 14:09 kvirt/common/kubevirt_kcli_conf.j2
+-rw-r--r--  2.0 unx       99 b- defN 23-Jun-11 14:09 kvirt/common/local_kcli_conf.j2
+-rw-r--r--  2.0 unx     3068 b- defN 23-Jun-11 14:09 kvirt/common/pipeline.yml.j2
+-rw-r--r--  2.0 unx     2377 b- defN 23-Jun-11 14:09 kvirt/common/pipeline_kube.yml.j2
+-rw-r--r--  2.0 unx     1381 b- defN 23-Jun-11 14:09 kvirt/common/playbook.j2
+-rw-r--r--  2.0 unx     1557 b- defN 23-Jun-11 14:09 kvirt/common/storage.sh.j2
+-rw-r--r--  2.0 unx     4562 b- defN 23-Jun-11 14:09 kvirt/common/vm.ovf.j2
+-rw-r--r--  2.0 unx     2241 b- defN 23-Jun-11 14:09 kvirt/common/workflow.yml.j2
+-rw-r--r--  2.0 unx     2208 b- defN 23-Jun-11 14:09 kvirt/common/workflow_script.yml.j2
+-rw-r--r--  2.0 unx    15041 b- defN 23-Jun-11 14:09 kvirt/container/__init__.py
+-rw-r--r--  2.0 unx    11716 b- defN 23-Jun-11 14:09 kvirt/expose/__init__.py
+-rw-r--r--  2.0 unx     4319 b- defN 23-Jun-11 14:09 kvirt/expose/swagger.yml
+-rw-r--r--  2.0 unx      408 b- defN 23-Jun-11 14:09 kvirt/expose/static/css/bootstrap-notify.css
+-rw-r--r--  2.0 unx   121125 b- defN 23-Jun-11 14:09 kvirt/expose/static/css/bootstrap.min.css
+-rw-r--r--  2.0 unx      399 b- defN 23-Jun-11 14:09 kvirt/expose/static/css/dataTables.checkboxes.css
+-rw-r--r--  2.0 unx    13587 b- defN 23-Jun-11 14:09 kvirt/expose/static/css/jquery.dataTables.min.css
+-rw-r--r--  2.0 unx      868 b- defN 23-Jun-11 14:09 kvirt/expose/static/css/kcli.css
+-rw-r--r--  2.0 unx      269 b- defN 23-Jun-11 14:09 kvirt/expose/static/css/wheel.css
+-rw-r--r--  2.0 unx     1406 b- defN 23-Jun-11 14:09 kvirt/expose/static/images/favicon.ico
+-rw-r--r--  2.0 unx      160 b- defN 23-Jun-11 14:09 kvirt/expose/static/images/sort_asc.png
+-rw-r--r--  2.0 unx      201 b- defN 23-Jun-11 14:09 kvirt/expose/static/images/sort_both.png
+-rw-r--r--  2.0 unx      158 b- defN 23-Jun-11 14:09 kvirt/expose/static/images/sort_desc.png
+-rw-r--r--  2.0 unx    24772 b- defN 23-Jun-11 14:09 kvirt/expose/static/images/wheel.gif
+-rw-r--r--  2.0 unx    12398 b- defN 23-Jun-11 14:09 kvirt/expose/static/js/dataTables.checkboxes.min.js
+-rw-r--r--  2.0 unx      367 b- defN 23-Jun-11 14:09 kvirt/expose/static/js/exposeactions.js
+-rw-r--r--  2.0 unx    83059 b- defN 23-Jun-11 14:09 kvirt/expose/static/js/jquery.dataTables.min.js
+-rw-r--r--  2.0 unx    89795 b- defN 23-Jun-11 14:09 kvirt/expose/static/js/jquery.min.js
+-rw-r--r--  2.0 unx      263 b- defN 23-Jun-11 14:09 kvirt/expose/static/js/list.js
+-rw-r--r--  2.0 unx     1605 b- defN 23-Jun-11 14:09 kvirt/expose/templates/form.html
+-rw-r--r--  2.0 unx     1035 b- defN 23-Jun-11 14:09 kvirt/expose/templates/head.html
+-rw-r--r--  2.0 unx      406 b- defN 23-Jun-11 14:09 kvirt/expose/templates/index.html
+-rw-r--r--  2.0 unx     1220 b- defN 23-Jun-11 14:09 kvirt/expose/templates/infoplan.html
+-rw-r--r--  2.0 unx      574 b- defN 23-Jun-11 14:09 kvirt/expose/templates/planstable.html
+-rw-r--r--  2.0 unx      550 b- defN 23-Jun-11 14:09 kvirt/expose/templates/result.html
+-rw-r--r--  2.0 unx     1754 b- defN 23-Jun-11 14:09 kvirt/internalplans/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-11 14:09 kvirt/jinjafilters/__init__.py
+-rw-r--r--  2.0 unx     5249 b- defN 23-Jun-11 14:09 kvirt/jinjafilters/jinjafilters.py
+-rw-r--r--  2.0 unx     8477 b- defN 23-Jun-11 14:09 kvirt/kfish/__init__.py
+-rw-r--r--  2.0 unx     9124 b- defN 23-Jun-11 14:09 kvirt/ksushy/__init__.py
+-rw-r--r--  2.0 unx      121 b- defN 23-Jun-11 14:09 kvirt/ksushy/main.py
+-rw-r--r--  2.0 unx     1028 b- defN 23-Jun-11 14:09 kvirt/ksushy/templates/bios.json
+-rw-r--r--  2.0 unx      443 b- defN 23-Jun-11 14:09 kvirt/ksushy/templates/interface.json
+-rw-r--r--  2.0 unx      418 b- defN 23-Jun-11 14:09 kvirt/ksushy/templates/interfaces.json
+-rw-r--r--  2.0 unx     1050 b- defN 23-Jun-11 14:09 kvirt/ksushy/templates/manager.json
+-rw-r--r--  2.0 unx      571 b- defN 23-Jun-11 14:09 kvirt/ksushy/templates/managers.json
+-rw-r--r--  2.0 unx      535 b- defN 23-Jun-11 14:09 kvirt/ksushy/templates/root.json
+-rw-r--r--  2.0 unx     2732 b- defN 23-Jun-11 14:09 kvirt/ksushy/templates/system.json
+-rw-r--r--  2.0 unx      511 b- defN 23-Jun-11 14:09 kvirt/ksushy/templates/systems.json
+-rw-r--r--  2.0 unx     1219 b- defN 23-Jun-11 14:09 kvirt/ksushy/templates/virtualmedia_cd.json
+-rw-r--r--  2.0 unx      705 b- defN 23-Jun-11 14:09 kvirt/ksushy/templates/virtualmedias.json
+-rw-r--r--  2.0 unx     2780 b- defN 23-Jun-11 14:09 kvirt/miniconsole/__init__.py
+-rw-r--r--  2.0 unx     3488 b- defN 23-Jun-11 14:09 kvirt/nameutils/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-11 14:09 kvirt/providers/__init__.py
+-rw-r--r--  2.0 unx     8935 b- defN 23-Jun-11 14:09 kvirt/providers/sampleprovider.py
+-rw-r--r--  2.0 unx    65812 b- defN 23-Jun-11 14:09 kvirt/providers/aws/__init__.py
+-rw-r--r--  2.0 unx      479 b- defN 23-Jun-11 14:09 kvirt/providers/fake/__init__.py
+-rw-r--r--  2.0 unx    67767 b- defN 23-Jun-11 14:09 kvirt/providers/gcp/__init__.py
+-rw-r--r--  2.0 unx      175 b- defN 23-Jun-11 14:09 kvirt/providers/gcp/gcp-hack.service
+-rw-r--r--  2.0 unx      231 b- defN 23-Jun-11 14:09 kvirt/providers/gcp/gcp-hack.sh
+-rw-r--r--  2.0 unx    65048 b- defN 23-Jun-11 14:09 kvirt/providers/ibm/__init__.py
+-rw-r--r--  2.0 unx    80962 b- defN 23-Jun-11 14:09 kvirt/providers/kubevirt/__init__.py
+-rw-r--r--  2.0 unx   184246 b- defN 23-Jun-11 14:09 kvirt/providers/kvm/__init__.py
+-rw-r--r--  2.0 unx     1965 b- defN 23-Jun-11 14:09 kvirt/providers/kvm/helpers.py
+-rw-r--r--  2.0 unx    57076 b- defN 23-Jun-11 14:09 kvirt/providers/openstack/__init__.py
+-rw-r--r--  2.0 unx    62544 b- defN 23-Jun-11 14:09 kvirt/providers/ovirt/__init__.py
+-rw-r--r--  2.0 unx    31112 b- defN 23-Jun-11 14:09 kvirt/providers/packet/__init__.py
+-rw-r--r--  2.0 unx    73099 b- defN 23-Jun-11 14:09 kvirt/providers/vsphere/__init__.py
+-rw-r--r--  2.0 unx    13655 b- defN 23-Jun-11 14:09 kvirt/providers/vsphere/helpers.py
+-rw-r--r--  2.0 unx     4893 b- defN 23-Jun-11 14:09 kvirt/providers/vsphere/tagging.py
+-rw-r--r--  2.0 unx    21286 b- defN 23-Jun-11 14:09 kvirt/providers/web/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-11 14:09 kvirt/version/__init__.py
+-rw-r--r--  2.0 unx       19 b- defN 23-Jun-11 14:12 kvirt/version/git
+-rw-r--r--  2.0 unx    46592 b- defN 23-Jun-11 14:09 kvirt/web/__init__.py
+-rw-r--r--  2.0 unx      261 b- defN 23-Jun-11 14:09 kvirt/web/main.py
+-rw-r--r--  2.0 unx      408 b- defN 23-Jun-11 14:09 kvirt/web/static/css/bootstrap-notify.css
+-rw-r--r--  2.0 unx    23409 b- defN 23-Jun-11 14:09 kvirt/web/static/css/bootstrap-theme.min.css
+-rw-r--r--  2.0 unx   121125 b- defN 23-Jun-11 14:09 kvirt/web/static/css/bootstrap.min.css
+-rw-r--r--  2.0 unx      399 b- defN 23-Jun-11 14:09 kvirt/web/static/css/dataTables.checkboxes.css
+-rw-r--r--  2.0 unx    13587 b- defN 23-Jun-11 14:09 kvirt/web/static/css/jquery.dataTables.min.css
+-rw-r--r--  2.0 unx      816 b- defN 23-Jun-11 14:09 kvirt/web/static/css/kcli.css
+-rw-r--r--  2.0 unx     3033 b- defN 23-Jun-11 14:09 kvirt/web/static/css/navbar.css
+-rw-r--r--  2.0 unx     2908 b- defN 23-Jun-11 14:09 kvirt/web/static/css/spice.css
+-rw-r--r--  2.0 unx      271 b- defN 23-Jun-11 14:09 kvirt/web/static/css/wheel.css
+-rw-r--r--  2.0 unx    18028 b- defN 23-Jun-11 14:09 kvirt/web/static/fonts/glyphicons-halflings-regular.woff2
+-rw-r--r--  2.0 unx      715 b- defN 23-Jun-11 14:09 kvirt/web/static/images/Centos.png
+-rw-r--r--  2.0 unx      294 b- defN 23-Jun-11 14:09 kvirt/web/static/images/Debian.png
+-rw-r--r--  2.0 unx      987 b- defN 23-Jun-11 14:09 kvirt/web/static/images/Fedora.png
+-rw-r--r--  2.0 unx      672 b- defN 23-Jun-11 14:09 kvirt/web/static/images/Redhat.png
+-rw-r--r--  2.0 unx     1278 b- defN 23-Jun-11 14:09 kvirt/web/static/images/Suse.png
+-rw-r--r--  2.0 unx     1782 b- defN 23-Jun-11 14:09 kvirt/web/static/images/Tux.png
+-rw-r--r--  2.0 unx      544 b- defN 23-Jun-11 14:09 kvirt/web/static/images/Ubuntu.png
+-rw-r--r--  2.0 unx     4213 b- defN 23-Jun-11 14:09 kvirt/web/static/images/delete.png
+-rw-r--r--  2.0 unx     1406 b- defN 23-Jun-11 14:09 kvirt/web/static/images/favicon.ico
+-rw-r--r--  2.0 unx    23320 b- defN 23-Jun-11 14:09 kvirt/web/static/images/kcli-small.png
+-rw-r--r--  2.0 unx    27185 b- defN 23-Jun-11 14:09 kvirt/web/static/images/kcli.jpg
+-rw-r--r--  2.0 unx   113928 b- defN 23-Jun-11 14:09 kvirt/web/static/images/kcli.png
+-rw-r--r--  2.0 unx    48809 b- defN 23-Jun-11 14:09 kvirt/web/static/images/logo-header.svg
+-rw-r--r--  2.0 unx    48809 b- defN 23-Jun-11 14:09 kvirt/web/static/images/logo-main.svg
+-rw-r--r--  2.0 unx      160 b- defN 23-Jun-11 14:09 kvirt/web/static/images/sort_asc.png
+-rw-r--r--  2.0 unx      201 b- defN 23-Jun-11 14:09 kvirt/web/static/images/sort_both.png
+-rw-r--r--  2.0 unx      158 b- defN 23-Jun-11 14:09 kvirt/web/static/images/sort_desc.png
+-rw-r--r--  2.0 unx     3927 b- defN 23-Jun-11 14:09 kvirt/web/static/images/start.png
+-rw-r--r--  2.0 unx     3631 b- defN 23-Jun-11 14:09 kvirt/web/static/images/stop.png
+-rw-r--r--  2.0 unx    24772 b- defN 23-Jun-11 14:09 kvirt/web/static/images/wheel.gif
+-rw-r--r--  2.0 unx     2933 b- defN 23-Jun-11 14:09 kvirt/web/static/js/bootstrap-notify.js
+-rw-r--r--  2.0 unx    37045 b- defN 23-Jun-11 14:09 kvirt/web/static/js/bootstrap.min.js
+-rw-r--r--  2.0 unx     2523 b- defN 23-Jun-11 14:09 kvirt/web/static/js/containeraction.js
+-rw-r--r--  2.0 unx    12398 b- defN 23-Jun-11 14:09 kvirt/web/static/js/dataTables.checkboxes.min.js
+-rw-r--r--  2.0 unx     1642 b- defN 23-Jun-11 14:09 kvirt/web/static/js/hostaction.js
+-rw-r--r--  2.0 unx     1187 b- defN 23-Jun-11 14:09 kvirt/web/static/js/imageaction.js
+-rw-r--r--  2.0 unx    83059 b- defN 23-Jun-11 14:09 kvirt/web/static/js/jquery.dataTables.min.js
+-rw-r--r--  2.0 unx    87462 b- defN 23-Jun-11 14:09 kvirt/web/static/js/jquery.min.js
+-rw-r--r--  2.0 unx     2704 b- defN 23-Jun-11 14:09 kvirt/web/static/js/kcli.js
+-rw-r--r--  2.0 unx     1594 b- defN 23-Jun-11 14:09 kvirt/web/static/js/kubeaction.js
+-rw-r--r--  2.0 unx     3907 b- defN 23-Jun-11 14:09 kvirt/web/static/js/list.js
+-rw-r--r--  2.0 unx     1376 b- defN 23-Jun-11 14:09 kvirt/web/static/js/networkaction.js
+-rw-r--r--  2.0 unx     2457 b- defN 23-Jun-11 14:09 kvirt/web/static/js/planaction.js
+-rw-r--r--  2.0 unx     1237 b- defN 23-Jun-11 14:09 kvirt/web/static/js/poolaction.js
+-rw-r--r--  2.0 unx      846 b- defN 23-Jun-11 14:09 kvirt/web/static/js/productaction.js
+-rw-r--r--  2.0 unx      270 b- defN 23-Jun-11 14:09 kvirt/web/static/js/refresh.js
+-rw-r--r--  2.0 unx     1835 b- defN 23-Jun-11 14:09 kvirt/web/static/js/repoaction.js
+-rw-r--r--  2.0 unx     3463 b- defN 23-Jun-11 14:09 kvirt/web/static/js/snapshotaction.js
+-rw-r--r--  2.0 unx     2745 b- defN 23-Jun-11 14:09 kvirt/web/static/js/vmaction.js
+-rw-r--r--  2.0 unx      123 b- defN 23-Jun-11 14:09 kvirt/web/static/js/wheel.js
+-rw-r--r--  2.0 unx     9944 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/atKeynames.js
+-rw-r--r--  2.0 unx     2335 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/bitmap.js
+-rw-r--r--  2.0 unx     4795 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/cursor.js
+-rw-r--r--  2.0 unx    49214 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/display.js
+-rw-r--r--  2.0 unx    13253 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/enums.js
+-rw-r--r--  2.0 unx     2847 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/filexfer.js
+-rw-r--r--  2.0 unx     9535 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/inputs.js
+-rw-r--r--  2.0 unx     6176 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/lz.js
+-rw-r--r--  2.0 unx    18370 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/main.js
+-rw-r--r--  2.0 unx    12677 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/playback.js
+-rw-r--r--  2.0 unx     7036 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/png.js
+-rw-r--r--  2.0 unx     3110 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/port.js
+-rw-r--r--  2.0 unx    44531 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/quic.js
+-rw-r--r--  2.0 unx     3030 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/resize.js
+-rw-r--r--  2.0 unx     7282 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/simulatecursor.js
+-rw-r--r--  2.0 unx     1895 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/spicearraybuffer.js
+-rw-r--r--  2.0 unx    18202 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/spiceconn.js
+-rw-r--r--  2.0 unx     3616 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/spicedataview.js
+-rw-r--r--  2.0 unx    33015 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/spicemsg.js
+-rw-r--r--  2.0 unx    12767 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/spicetype.js
+-rw-r--r--  2.0 unx     6808 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/ticket.js
+-rw-r--r--  2.0 unx    13628 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/utils.js
+-rw-r--r--  2.0 unx    21577 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/webm.js
+-rw-r--r--  2.0 unx     4131 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/wire.js
+-rw-r--r--  2.0 unx    16580 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/thirdparty/jsbn.js
+-rw-r--r--  2.0 unx     2529 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/thirdparty/prng4.js
+-rw-r--r--  2.0 unx     3442 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/thirdparty/rng.js
+-rw-r--r--  2.0 unx     4257 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/thirdparty/rsa.js
+-rw-r--r--  2.0 unx    10671 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/thirdparty/sha1.js
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/thirdparty/browser-es-module-loader/.npmignore
+-rw-r--r--  2.0 unx      419 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/thirdparty/browser-es-module-loader/README.md
+-rw-r--r--  2.0 unx      359 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/thirdparty/browser-es-module-loader/rollup.config.js
+-rw-r--r--  2.0 unx     1113 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/thirdparty/browser-es-module-loader/src/babel-worker.js
+-rw-r--r--  2.0 unx     8601 b- defN 23-Jun-11 14:09 kvirt/web/static/js/spice/thirdparty/browser-es-module-loader/src/browser-es-module-loader.js
+-rw-r--r--  2.0 unx     2176 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/error-handler.js
+-rw-r--r--  2.0 unx     5682 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/localization.js
+-rw-r--r--  2.0 unx    56845 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/ui.js
+-rw-r--r--  2.0 unx     6696 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/webutil.js
+-rw-r--r--  2.0 unx     3553 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/alt.svg
+-rw-r--r--  2.0 unx     3980 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/clipboard.svg
+-rw-r--r--  2.0 unx     3430 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/connect.svg
+-rw-r--r--  2.0 unx     4381 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/ctrl.svg
+-rw-r--r--  2.0 unx     3237 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/ctrlaltdel.svg
+-rw-r--r--  2.0 unx     5062 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/disconnect.svg
+-rw-r--r--  2.0 unx     4684 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/drag.svg
+-rw-r--r--  2.0 unx     3106 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/error.svg
+-rw-r--r--  2.0 unx     4522 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/esc.svg
+-rw-r--r--  2.0 unx     3066 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/expander.svg
+-rw-r--r--  2.0 unx     3139 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/fullscreen.svg
+-rw-r--r--  2.0 unx     2559 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/handle.svg
+-rw-r--r--  2.0 unx     6386 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/handle_bg.svg
+-rw-r--r--  2.0 unx     3204 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/info.svg
+-rw-r--r--  2.0 unx     6404 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/keyboard.svg
+-rw-r--r--  2.0 unx     7000 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/mouse_left.svg
+-rw-r--r--  2.0 unx     7002 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/mouse_middle.svg
+-rw-r--r--  2.0 unx     6993 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/mouse_none.svg
+-rw-r--r--  2.0 unx     7001 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/mouse_right.svg
+-rw-r--r--  2.0 unx     3985 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/power.svg
+-rw-r--r--  2.0 unx     3082 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/settings.svg
+-rw-r--r--  2.0 unx     2953 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/tab.svg
+-rw-r--r--  2.0 unx     4441 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/toggleextrakeys.svg
+-rw-r--r--  2.0 unx     3869 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/warning.svg
+-rw-r--r--  2.0 unx     3178 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/windows.svg
+-rw-r--r--  2.0 unx      871 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/Makefile
+-rw-r--r--  2.0 unx     4028 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-120x120.png
+-rw-r--r--  2.0 unx     4582 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-144x144.png
+-rw-r--r--  2.0 unx     5216 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-152x152.png
+-rw-r--r--  2.0 unx      675 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-16x16.png
+-rw-r--r--  2.0 unx     5787 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-192x192.png
+-rw-r--r--  2.0 unx     1000 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-24x24.png
+-rw-r--r--  2.0 unx     1064 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-32x32.png
+-rw-r--r--  2.0 unx     1397 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-48x48.png
+-rw-r--r--  2.0 unx     1932 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-60x60.png
+-rw-r--r--  2.0 unx     1946 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-64x64.png
+-rw-r--r--  2.0 unx     2699 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-72x72.png
+-rw-r--r--  2.0 unx     2874 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-76x76.png
+-rw-r--r--  2.0 unx     2351 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-96x96.png
+-rw-r--r--  2.0 unx    11685 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-icon-sm.svg
+-rw-r--r--  2.0 unx    11549 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/images/icons/novnc-icon.svg
+-rw-r--r--  2.0 unx     2885 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/locale/cs.json
+-rw-r--r--  2.0 unx     2854 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/locale/de.json
+-rw-r--r--  2.0 unx     3906 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/locale/el.json
+-rw-r--r--  2.0 unx     2671 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/locale/es.json
+-rw-r--r--  2.0 unx     3354 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/locale/ja.json
+-rw-r--r--  2.0 unx     2961 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/locale/ko.json
+-rw-r--r--  2.0 unx     3035 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/locale/nl.json
+-rw-r--r--  2.0 unx     2830 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/locale/pl.json
+-rw-r--r--  2.0 unx     3825 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/locale/ru.json
+-rw-r--r--  2.0 unx     2845 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/locale/sv.json
+-rw-r--r--  2.0 unx     2811 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/locale/tr.json
+-rw-r--r--  2.0 unx     2597 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/locale/zh_CN.json
+-rw-r--r--  2.0 unx     2606 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/locale/zh_TW.json
+-rw-r--r--  2.0 unx      157 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/sounds/CREDITS
+-rw-r--r--  2.0 unx     4531 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/sounds/bell.mp3
+-rw-r--r--  2.0 unx     8495 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/sounds/bell.oga
+-rw-r--r--  2.0 unx    38580 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/styles/Orbitron700.ttf
+-rw-r--r--  2.0 unx    17472 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/styles/Orbitron700.woff
+-rw-r--r--  2.0 unx    18450 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/app/styles/base.css
+-rw-r--r--  2.0 unx     4189 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/base64.js
+-rw-r--r--  2.0 unx    11241 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/des.js
+-rw-r--r--  2.0 unx    20381 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/display.js
+-rw-r--r--  2.0 unx     1374 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/encodings.js
+-rw-r--r--  2.0 unx     1170 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/inflator.js
+-rw-r--r--  2.0 unx    74196 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/rfb.js
+-rw-r--r--  2.0 unx     9130 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/websock.js
+-rw-r--r--  2.0 unx      628 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/decoders/copyrect.js
+-rw-r--r--  2.0 unx     4814 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/decoders/hextile.js
+-rw-r--r--  2.0 unx     1739 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/decoders/raw.js
+-rw-r--r--  2.0 unx     1210 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/decoders/rre.js
+-rw-r--r--  2.0 unx     9662 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/decoders/tight.js
+-rw-r--r--  2.0 unx      768 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/decoders/tightpng.js
+-rw-r--r--  2.0 unx    11438 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/input/domkeytable.js
+-rw-r--r--  2.0 unx     3804 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/input/fixedkeys.js
+-rw-r--r--  2.0 unx    13090 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/input/keyboard.js
+-rw-r--r--  2.0 unx    34609 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/input/keysym.js
+-rw-r--r--  2.0 unx    25374 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/input/keysymdef.js
+-rw-r--r--  2.0 unx     9995 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/input/mouse.js
+-rw-r--r--  2.0 unx     5283 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/input/util.js
+-rw-r--r--  2.0 unx     2580 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/input/vkeys.js
+-rw-r--r--  2.0 unx    14256 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/input/xtscancodes.js
+-rw-r--r--  2.0 unx     3155 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/util/browser.js
+-rw-r--r--  2.0 unx     7556 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/util/cursor.js
+-rw-r--r--  2.0 unx     4221 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/util/events.js
+-rw-r--r--  2.0 unx      896 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/util/eventtarget.js
+-rw-r--r--  2.0 unx     1358 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/util/logging.js
+-rw-r--r--  2.0 unx     1866 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/util/polyfill.js
+-rw-r--r--  2.0 unx      301 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/core/util/strings.js
+-rw-r--r--  2.0 unx     7388 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/promise.js
+-rw-r--r--  2.0 unx      419 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/browser-es-module-loader/README.md
+-rw-r--r--  2.0 unx      295 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/browser-es-module-loader/rollup.config.js
+-rw-r--r--  2.0 unx     1113 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/browser-es-module-loader/src/babel-worker.js
+-rw-r--r--  2.0 unx     8498 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/browser-es-module-loader/src/browser-es-module-loader.js
+-rw-r--r--  2.0 unx     1084 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/pako/LICENSE
+-rw-r--r--  2.0 unx      301 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/pako/README.md
+-rw-r--r--  2.0 unx     1062 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/pako/lib/utils/common.js
+-rw-r--r--  2.0 unx      666 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/pako/lib/zlib/adler32.js
+-rw-r--r--  2.0 unx     1334 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/pako/lib/zlib/constants.js
+-rw-r--r--  2.0 unx      764 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/pako/lib/zlib/crc32.js
+-rw-r--r--  2.0 unx    60016 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/pako/lib/zlib/deflate.js
+-rw-r--r--  2.0 unx     1251 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/pako/lib/zlib/gzheader.js
+-rw-r--r--  2.0 unx    11690 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/pako/lib/zlib/inffast.js
+-rw-r--r--  2.0 unx    47128 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/pako/lib/zlib/inflate.js
+-rw-r--r--  2.0 unx    11527 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/pako/lib/zlib/inftrees.js
+-rw-r--r--  2.0 unx      560 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/pako/lib/zlib/messages.js
+-rw-r--r--  2.0 unx    38767 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/pako/lib/zlib/trees.js
+-rw-r--r--  2.0 unx      823 b- defN 23-Jun-11 14:09 kvirt/web/static/vnc/vendor/pako/lib/zlib/zstream.js
+-rw-r--r--  2.0 unx     2509 b- defN 23-Jun-11 14:09 kvirt/web/templates/bootstrap.html
+-rw-r--r--  2.0 unx    14595 b- defN 23-Jun-11 14:09 kvirt/web/templates/console.html
+-rw-r--r--  2.0 unx      717 b- defN 23-Jun-11 14:09 kvirt/web/templates/containercreate.html
+-rw-r--r--  2.0 unx      493 b- defN 23-Jun-11 14:09 kvirt/web/templates/containerprofiles.html
+-rw-r--r--  2.0 unx     1050 b- defN 23-Jun-11 14:09 kvirt/web/templates/containerprofilestable.html
+-rw-r--r--  2.0 unx      490 b- defN 23-Jun-11 14:09 kvirt/web/templates/containers.html
+-rw-r--r--  2.0 unx     1746 b- defN 23-Jun-11 14:09 kvirt/web/templates/containerstable.html
+-rw-r--r--  2.0 unx     2123 b- defN 23-Jun-11 14:09 kvirt/web/templates/head.html
+-rw-r--r--  2.0 unx      473 b- defN 23-Jun-11 14:09 kvirt/web/templates/hosts.html
+-rw-r--r--  2.0 unx     1705 b- defN 23-Jun-11 14:09 kvirt/web/templates/hoststable.html
+-rw-r--r--  2.0 unx     1119 b- defN 23-Jun-11 14:09 kvirt/web/templates/imagecreate.html
+-rw-r--r--  2.0 unx      478 b- defN 23-Jun-11 14:09 kvirt/web/templates/images.html
+-rw-r--r--  2.0 unx      646 b- defN 23-Jun-11 14:09 kvirt/web/templates/imagestable.html
+-rw-r--r--  2.0 unx      472 b- defN 23-Jun-11 14:09 kvirt/web/templates/isos.html
+-rw-r--r--  2.0 unx      261 b- defN 23-Jun-11 14:09 kvirt/web/templates/isostable.html
+-rw-r--r--  2.0 unx      609 b- defN 23-Jun-11 14:09 kvirt/web/templates/kubecreate.html
+-rw-r--r--  2.0 unx      622 b- defN 23-Jun-11 14:09 kvirt/web/templates/kubeinfo.html
+-rw-r--r--  2.0 unx      488 b- defN 23-Jun-11 14:09 kvirt/web/templates/kubeprofiles.html
+-rw-r--r--  2.0 unx      845 b- defN 23-Jun-11 14:09 kvirt/web/templates/kubeprofilestable.html
+-rw-r--r--  2.0 unx      475 b- defN 23-Jun-11 14:09 kvirt/web/templates/kubes.html
+-rw-r--r--  2.0 unx     1850 b- defN 23-Jun-11 14:09 kvirt/web/templates/kubestable.html
+-rw-r--r--  2.0 unx      151 b- defN 23-Jun-11 14:09 kvirt/web/templates/layout.html
+-rw-r--r--  2.0 unx     5517 b- defN 23-Jun-11 14:09 kvirt/web/templates/navbar.html
+-rw-r--r--  2.0 unx      882 b- defN 23-Jun-11 14:09 kvirt/web/templates/networkcreate.html
+-rw-r--r--  2.0 unx      537 b- defN 23-Jun-11 14:09 kvirt/web/templates/networks.html
+-rw-r--r--  2.0 unx      845 b- defN 23-Jun-11 14:09 kvirt/web/templates/networkstable.html
+-rw-r--r--  2.0 unx      750 b- defN 23-Jun-11 14:09 kvirt/web/templates/plancreate.html
+-rw-r--r--  2.0 unx      475 b- defN 23-Jun-11 14:09 kvirt/web/templates/plans.html
+-rw-r--r--  2.0 unx     1525 b- defN 23-Jun-11 14:09 kvirt/web/templates/planstable.html
+-rw-r--r--  2.0 unx      859 b- defN 23-Jun-11 14:09 kvirt/web/templates/poolcreate.html
+-rw-r--r--  2.0 unx      475 b- defN 23-Jun-11 14:09 kvirt/web/templates/pools.html
+-rw-r--r--  2.0 unx      554 b- defN 23-Jun-11 14:09 kvirt/web/templates/poolstable.html
+-rw-r--r--  2.0 unx     1282 b- defN 23-Jun-11 14:09 kvirt/web/templates/productcreate.html
+-rw-r--r--  2.0 unx      484 b- defN 23-Jun-11 14:09 kvirt/web/templates/products.html
+-rw-r--r--  2.0 unx      895 b- defN 23-Jun-11 14:09 kvirt/web/templates/productstable.html
+-rw-r--r--  2.0 unx      699 b- defN 23-Jun-11 14:09 kvirt/web/templates/repocreate.html
+-rw-r--r--  2.0 unx      475 b- defN 23-Jun-11 14:09 kvirt/web/templates/repos.html
+-rw-r--r--  2.0 unx     1203 b- defN 23-Jun-11 14:09 kvirt/web/templates/repostable.html
+-rw-r--r--  2.0 unx      958 b- defN 23-Jun-11 14:09 kvirt/web/templates/vmcreate.html
+-rw-r--r--  2.0 unx      486 b- defN 23-Jun-11 14:09 kvirt/web/templates/vmprofiles.html
+-rw-r--r--  2.0 unx     1420 b- defN 23-Jun-11 14:09 kvirt/web/templates/vmprofilestable.html
+-rw-r--r--  2.0 unx      470 b- defN 23-Jun-11 14:09 kvirt/web/templates/vms.html
+-rw-r--r--  2.0 unx     4894 b- defN 23-Jun-11 14:09 kvirt/web/templates/vmstable.html
+-rw-r--r--  2.0 unx    11358 b- defN 23-Jun-11 14:12 kcli-99.0.202306111412.dist-info/LICENSE
+-rw-r--r--  2.0 unx     3024 b- defN 23-Jun-11 14:12 kcli-99.0.202306111412.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-11 14:12 kcli-99.0.202306111412.dist-info/WHEEL
+-rw-r--r--  2.0 unx      209 b- defN 23-Jun-11 14:12 kcli-99.0.202306111412.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        6 b- defN 23-Jun-11 14:12 kcli-99.0.202306111412.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx    59055 b- defN 23-Jun-11 14:12 kcli-99.0.202306111412.dist-info/RECORD
+602 files, 4562340 bytes uncompressed, 1383583 bytes compressed:  69.7%
```

## zipnote {}

```diff
@@ -1782,26 +1782,26 @@
 
 Filename: kvirt/web/templates/vms.html
 Comment: 
 
 Filename: kvirt/web/templates/vmstable.html
 Comment: 
 
-Filename: kcli-99.0.202306111411.dist-info/LICENSE
+Filename: kcli-99.0.202306111412.dist-info/LICENSE
 Comment: 
 
-Filename: kcli-99.0.202306111411.dist-info/METADATA
+Filename: kcli-99.0.202306111412.dist-info/METADATA
 Comment: 
 
-Filename: kcli-99.0.202306111411.dist-info/WHEEL
+Filename: kcli-99.0.202306111412.dist-info/WHEEL
 Comment: 
 
-Filename: kcli-99.0.202306111411.dist-info/entry_points.txt
+Filename: kcli-99.0.202306111412.dist-info/entry_points.txt
 Comment: 
 
-Filename: kcli-99.0.202306111411.dist-info/top_level.txt
+Filename: kcli-99.0.202306111412.dist-info/top_level.txt
 Comment: 
 
-Filename: kcli-99.0.202306111411.dist-info/RECORD
+Filename: kcli-99.0.202306111412.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## kvirt/config.py

```diff
@@ -9573,2224 +9573,2231 @@
 00025640: 276b 3373 273a 2027 6d79 6b33 7327 2c20  'k3s': 'myk3s', 
 00025650: 276d 6963 726f 7368 6966 7427 3a20 276d  'microshift': 'm
 00025660: 796d 6963 726f 7368 6966 7427 2c20 2767  ymicroshift', 'g
 00025670: 6b65 273a 2027 6d79 676b 6527 7d0a 2020  ke': 'mygke'}.  
 00025680: 2020 2020 2020 2020 2020 636c 7573 7465            cluste
 00025690: 7220 3d20 6465 6661 756c 745f 636c 7573  r = default_clus
 000256a0: 7465 7273 5b6b 7562 6574 7970 655d 0a20  ters[kubetype]. 
-000256b0: 2020 2020 2020 2063 6c75 7374 6572 6469         clusterdi
-000256c0: 7220 3d20 6f73 2e70 6174 682e 6578 7061  r = os.path.expa
-000256d0: 6e64 7573 6572 2866 227e 2f2e 6b63 6c69  nduser(f"~/.kcli
-000256e0: 2f63 6c75 7374 6572 732f 7b63 6c75 7374  /clusters/{clust
-000256f0: 6572 7d22 290a 2020 2020 2020 2020 6966  er}").        if
-00025700: 206f 732e 7061 7468 2e65 7869 7374 7328   os.path.exists(
-00025710: 636c 7573 7465 7264 6972 293a 0a20 2020  clusterdir):.   
-00025720: 2020 2020 2020 2020 2070 6172 616d 6574           paramet
-00025730: 6572 7366 696c 6520 3d20 6622 7b63 6c75  ersfile = f"{clu
-00025740: 7374 6572 6469 727d 2f6b 636c 695f 7061  sterdir}/kcli_pa
-00025750: 7261 6d65 7465 7273 2e79 6d6c 220a 2020  rameters.yml".  
-00025760: 2020 2020 2020 2020 2020 6966 206f 732e            if os.
-00025770: 7061 7468 2e65 7869 7374 7328 7061 7261  path.exists(para
-00025780: 6d65 7465 7273 6669 6c65 293a 0a20 2020  metersfile):.   
-00025790: 2020 2020 2020 2020 2020 2020 2077 6974               wit
-000257a0: 6820 6f70 656e 2870 6172 616d 6574 6572  h open(parameter
-000257b0: 7366 696c 6529 2061 7320 663a 0a20 2020  sfile) as f:.   
-000257c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000257d0: 2063 6c75 7374 6572 6461 7461 203d 2079   clusterdata = y
-000257e0: 616d 6c2e 7361 6665 5f6c 6f61 6428 6629  aml.safe_load(f)
-000257f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00025800: 2020 2020 206b 7562 6574 7970 6520 3d20       kubetype = 
-00025810: 636c 7573 7465 7264 6174 612e 6765 7428  clusterdata.get(
-00025820: 276b 7562 6574 7970 6527 2c20 2767 656e  'kubetype', 'gen
-00025830: 6572 6963 2729 0a20 2020 2020 2020 2020  eric').         
-00025840: 2020 2020 2020 2020 2020 2069 6620 6b75             if ku
-00025850: 6265 7479 7065 203d 3d20 2768 7970 6572  betype == 'hyper
-00025860: 7368 6966 7427 3a0a 2020 2020 2020 2020  shift':.        
-00025870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025880: 6879 7065 7273 6869 6674 203d 2054 7275  hypershift = Tru
-00025890: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-000258a0: 2020 2020 2020 2020 2020 6173 7369 7374            assist
-000258b0: 6564 203d 2063 6c75 7374 6572 6461 7461  ed = clusterdata
-000258c0: 2e67 6574 2827 6173 7369 7374 6564 272c  .get('assisted',
-000258d0: 2046 616c 7365 290a 2020 2020 2020 2020   False).        
-000258e0: 2020 2020 2020 2020 2020 2020 646f 6d61              doma
-000258f0: 696e 203d 2063 6c75 7374 6572 6461 7461  in = clusterdata
-00025900: 2e67 6574 2827 646f 6d61 696e 272c 2064  .get('domain', d
-00025910: 6f6d 6169 6e29 0a20 2020 2020 2020 2020  omain).         
-00025920: 2020 2020 2020 2020 2020 2064 6e73 636c             dnscl
-00025930: 6965 6e74 203d 2063 6c75 7374 6572 6461  ient = clusterda
-00025940: 7461 2e67 6574 2827 646e 7363 6c69 656e  ta.get('dnsclien
-00025950: 7427 290a 2020 2020 2020 2020 2020 2020  t').            
-00025960: 2020 2020 2020 2020 676b 6520 3d20 6b75          gke = ku
-00025970: 6265 7479 7065 203d 3d20 2767 6b65 270a  betype == 'gke'.
-00025980: 2020 2020 2020 2020 6465 6c65 7465 636c          deletecl
-00025990: 6965 6e74 7320 3d20 7b73 656c 662e 636c  ients = {self.cl
-000259a0: 6965 6e74 3a20 6b7d 0a20 2020 2020 2020  ient: k}.       
-000259b0: 2076 6d63 6c69 656e 7473 203d 205b 5d0a   vmclients = [].
-000259c0: 2020 2020 2020 2020 766d 636c 6965 6e74          vmclient
-000259d0: 735f 6669 6c65 203d 206f 732e 7061 7468  s_file = os.path
-000259e0: 2e65 7870 616e 6475 7365 7228 6627 7e2f  .expanduser(f'~/
-000259f0: 2e6b 636c 692f 766d 636c 6965 6e74 735f  .kcli/vmclients_
-00025a00: 7b63 6c75 7374 6572 7d27 290a 2020 2020  {cluster}').    
-00025a10: 2020 2020 6966 206f 732e 7061 7468 2e65      if os.path.e
-00025a20: 7869 7374 7328 766d 636c 6965 6e74 735f  xists(vmclients_
-00025a30: 6669 6c65 293a 0a20 2020 2020 2020 2020  file):.         
-00025a40: 2020 2076 6d63 6c69 656e 7473 203d 2079     vmclients = y
-00025a50: 616d 6c2e 7361 6665 5f6c 6f61 6428 6f70  aml.safe_load(op
-00025a60: 656e 2876 6d63 6c69 656e 7473 5f66 696c  en(vmclients_fil
-00025a70: 6529 290a 2020 2020 2020 2020 2020 2020  e)).            
-00025a80: 6f73 2e72 656d 6f76 6528 766d 636c 6965  os.remove(vmclie
-00025a90: 6e74 735f 6669 6c65 290a 2020 2020 2020  nts_file).      
-00025aa0: 2020 6966 2073 656c 662e 6578 7472 6163    if self.extrac
-00025ab0: 6c69 656e 7473 3a0a 2020 2020 2020 2020  lients:.        
-00025ac0: 2020 2020 6465 6c65 7465 636c 6965 6e74      deleteclient
-00025ad0: 732e 7570 6461 7465 2873 656c 662e 6578  s.update(self.ex
-00025ae0: 7472 6163 6c69 656e 7473 290a 2020 2020  traclients).    
-00025af0: 2020 2020 656c 6966 2076 6d63 6c69 656e      elif vmclien
-00025b00: 7473 3a0a 2020 2020 2020 2020 2020 2020  ts:.            
-00025b10: 6465 6c65 7465 636c 6965 6e74 732e 7570  deleteclients.up
-00025b20: 6461 7465 287b 636c 693a 204b 636f 6e66  date({cli: Kconf
-00025b30: 6967 2863 6c69 656e 743d 636c 6929 2e6b  ig(client=cli).k
-00025b40: 2066 6f72 2063 6c69 2069 6e20 766d 636c   for cli in vmcl
-00025b50: 6965 6e74 7320 6966 2063 6c69 2021 3d20  ients if cli != 
-00025b60: 7365 6c66 2e63 6c69 656e 747d 290a 2020  self.client}).  
-00025b70: 2020 2020 2020 666f 7220 6879 7065 7276        for hyperv
-00025b80: 6973 6f72 2069 6e20 6465 6c65 7465 636c  isor in deletecl
-00025b90: 6965 6e74 733a 0a20 2020 2020 2020 2020  ients:.         
-00025ba0: 2020 2063 203d 2064 656c 6574 6563 6c69     c = deletecli
-00025bb0: 656e 7473 5b68 7970 6572 7669 736f 725d  ents[hypervisor]
-00025bc0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-00025bd0: 2076 6d20 696e 2073 6f72 7465 6428 632e   vm in sorted(c.
-00025be0: 6c69 7374 2829 2c20 6b65 793d 6c61 6d62  list(), key=lamb
-00025bf0: 6461 2078 3a20 785b 276e 616d 6527 5d29  da x: x['name'])
-00025c00: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00025c10: 2020 6e61 6d65 203d 2076 6d5b 276e 616d    name = vm['nam
-00025c20: 6527 5d0a 2020 2020 2020 2020 2020 2020  e'].            
-00025c30: 2020 2020 646e 7363 6c69 656e 7420 3d20      dnsclient = 
-00025c40: 766d 2e67 6574 2827 646e 7363 6c69 656e  vm.get('dnsclien
-00025c50: 7427 2920 6f72 2064 6e73 636c 6965 6e74  t') or dnsclient
-00025c60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00025c70: 2063 7572 7265 6e74 636c 7573 7465 7220   currentcluster 
-00025c80: 3d20 766d 2e67 6574 2827 6b75 6265 2729  = vm.get('kube')
-00025c90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00025ca0: 206b 7562 6574 7970 6520 3d20 766d 2e67   kubetype = vm.g
-00025cb0: 6574 2827 6b75 6265 7479 7065 272c 2027  et('kubetype', '
-00025cc0: 6765 6e65 7269 6327 290a 2020 2020 2020  generic').      
-00025cd0: 2020 2020 2020 2020 2020 6966 2063 7572            if cur
-00025ce0: 7265 6e74 636c 7573 7465 7220 6973 206e  rentcluster is n
-00025cf0: 6f74 204e 6f6e 6520 616e 6420 6375 7272  ot None and curr
-00025d00: 656e 7463 6c75 7374 6572 203d 3d20 636c  entcluster == cl
-00025d10: 7573 7465 7220 616e 6420 6b75 6265 7479  uster and kubety
-00025d20: 7065 2021 3d20 2767 6b65 273a 0a20 2020  pe != 'gke':.   
+000256b0: 2020 2020 2020 2063 6c75 7374 6572 6461         clusterda
+000256c0: 7461 203d 207b 7d0a 2020 2020 2020 2020  ta = {}.        
+000256d0: 636c 7573 7465 7264 6972 203d 206f 732e  clusterdir = os.
+000256e0: 7061 7468 2e65 7870 616e 6475 7365 7228  path.expanduser(
+000256f0: 6622 7e2f 2e6b 636c 692f 636c 7573 7465  f"~/.kcli/cluste
+00025700: 7273 2f7b 636c 7573 7465 727d 2229 0a20  rs/{cluster}"). 
+00025710: 2020 2020 2020 2069 6620 6f73 2e70 6174         if os.pat
+00025720: 682e 6578 6973 7473 2863 6c75 7374 6572  h.exists(cluster
+00025730: 6469 7229 3a0a 2020 2020 2020 2020 2020  dir):.          
+00025740: 2020 7061 7261 6d65 7465 7273 6669 6c65    parametersfile
+00025750: 203d 2066 227b 636c 7573 7465 7264 6972   = f"{clusterdir
+00025760: 7d2f 6b63 6c69 5f70 6172 616d 6574 6572  }/kcli_parameter
+00025770: 732e 796d 6c22 0a20 2020 2020 2020 2020  s.yml".         
+00025780: 2020 2069 6620 6f73 2e70 6174 682e 6578     if os.path.ex
+00025790: 6973 7473 2870 6172 616d 6574 6572 7366  ists(parametersf
+000257a0: 696c 6529 3a0a 2020 2020 2020 2020 2020  ile):.          
+000257b0: 2020 2020 2020 7769 7468 206f 7065 6e28        with open(
+000257c0: 7061 7261 6d65 7465 7273 6669 6c65 2920  parametersfile) 
+000257d0: 6173 2066 3a0a 2020 2020 2020 2020 2020  as f:.          
+000257e0: 2020 2020 2020 2020 2020 636c 7573 7465            cluste
+000257f0: 7264 6174 6120 3d20 7961 6d6c 2e73 6166  rdata = yaml.saf
+00025800: 655f 6c6f 6164 2866 290a 2020 2020 2020  e_load(f).      
+00025810: 2020 2020 2020 2020 2020 2020 2020 6b75                ku
+00025820: 6265 7479 7065 203d 2063 6c75 7374 6572  betype = cluster
+00025830: 6461 7461 2e67 6574 2827 6b75 6265 7479  data.get('kubety
+00025840: 7065 272c 2027 6765 6e65 7269 6327 290a  pe', 'generic').
+00025850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025860: 2020 2020 6966 206b 7562 6574 7970 6520      if kubetype 
+00025870: 3d3d 2027 6879 7065 7273 6869 6674 273a  == 'hypershift':
+00025880: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025890: 2020 2020 2020 2020 2068 7970 6572 7368           hypersh
+000258a0: 6966 7420 3d20 5472 7565 0a20 2020 2020  ift = True.     
+000258b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000258c0: 2020 2061 7373 6973 7465 6420 3d20 636c     assisted = cl
+000258d0: 7573 7465 7264 6174 612e 6765 7428 2761  usterdata.get('a
+000258e0: 7373 6973 7465 6427 2c20 4661 6c73 6529  ssisted', False)
+000258f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025900: 2020 2020 2064 6f6d 6169 6e20 3d20 636c       domain = cl
+00025910: 7573 7465 7264 6174 612e 6765 7428 2764  usterdata.get('d
+00025920: 6f6d 6169 6e27 2c20 646f 6d61 696e 290a  omain', domain).
+00025930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025940: 2020 2020 646e 7363 6c69 656e 7420 3d20      dnsclient = 
+00025950: 636c 7573 7465 7264 6174 612e 6765 7428  clusterdata.get(
+00025960: 2764 6e73 636c 6965 6e74 2729 0a20 2020  'dnsclient').   
+00025970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025980: 2067 6b65 203d 206b 7562 6574 7970 6520   gke = kubetype 
+00025990: 3d3d 2027 676b 6527 0a20 2020 2020 2020  == 'gke'.       
+000259a0: 2064 656c 6574 6563 6c69 656e 7473 203d   deleteclients =
+000259b0: 207b 7365 6c66 2e63 6c69 656e 743a 206b   {self.client: k
+000259c0: 7d0a 2020 2020 2020 2020 766d 636c 6965  }.        vmclie
+000259d0: 6e74 7320 3d20 5b5d 0a20 2020 2020 2020  nts = [].       
+000259e0: 2076 6d63 6c69 656e 7473 5f66 696c 6520   vmclients_file 
+000259f0: 3d20 6f73 2e70 6174 682e 6578 7061 6e64  = os.path.expand
+00025a00: 7573 6572 2866 277e 2f2e 6b63 6c69 2f76  user(f'~/.kcli/v
+00025a10: 6d63 6c69 656e 7473 5f7b 636c 7573 7465  mclients_{cluste
+00025a20: 727d 2729 0a20 2020 2020 2020 2069 6620  r}').        if 
+00025a30: 6f73 2e70 6174 682e 6578 6973 7473 2876  os.path.exists(v
+00025a40: 6d63 6c69 656e 7473 5f66 696c 6529 3a0a  mclients_file):.
+00025a50: 2020 2020 2020 2020 2020 2020 766d 636c              vmcl
+00025a60: 6965 6e74 7320 3d20 7961 6d6c 2e73 6166  ients = yaml.saf
+00025a70: 655f 6c6f 6164 286f 7065 6e28 766d 636c  e_load(open(vmcl
+00025a80: 6965 6e74 735f 6669 6c65 2929 0a20 2020  ients_file)).   
+00025a90: 2020 2020 2020 2020 206f 732e 7265 6d6f           os.remo
+00025aa0: 7665 2876 6d63 6c69 656e 7473 5f66 696c  ve(vmclients_fil
+00025ab0: 6529 0a20 2020 2020 2020 2069 6620 7365  e).        if se
+00025ac0: 6c66 2e65 7874 7261 636c 6965 6e74 733a  lf.extraclients:
+00025ad0: 0a20 2020 2020 2020 2020 2020 2064 656c  .            del
+00025ae0: 6574 6563 6c69 656e 7473 2e75 7064 6174  eteclients.updat
+00025af0: 6528 7365 6c66 2e65 7874 7261 636c 6965  e(self.extraclie
+00025b00: 6e74 7329 0a20 2020 2020 2020 2065 6c69  nts).        eli
+00025b10: 6620 766d 636c 6965 6e74 733a 0a20 2020  f vmclients:.   
+00025b20: 2020 2020 2020 2020 2064 656c 6574 6563           deletec
+00025b30: 6c69 656e 7473 2e75 7064 6174 6528 7b63  lients.update({c
+00025b40: 6c69 3a20 4b63 6f6e 6669 6728 636c 6965  li: Kconfig(clie
+00025b50: 6e74 3d63 6c69 292e 6b20 666f 7220 636c  nt=cli).k for cl
+00025b60: 6920 696e 2076 6d63 6c69 656e 7473 2069  i in vmclients i
+00025b70: 6620 636c 6920 213d 2073 656c 662e 636c  f cli != self.cl
+00025b80: 6965 6e74 7d29 0a20 2020 2020 2020 2066  ient}).        f
+00025b90: 6f72 2068 7970 6572 7669 736f 7220 696e  or hypervisor in
+00025ba0: 2064 656c 6574 6563 6c69 656e 7473 3a0a   deleteclients:.
+00025bb0: 2020 2020 2020 2020 2020 2020 6320 3d20              c = 
+00025bc0: 6465 6c65 7465 636c 6965 6e74 735b 6879  deleteclients[hy
+00025bd0: 7065 7276 6973 6f72 5d0a 2020 2020 2020  pervisor].      
+00025be0: 2020 2020 2020 666f 7220 766d 2069 6e20        for vm in 
+00025bf0: 736f 7274 6564 2863 2e6c 6973 7428 292c  sorted(c.list(),
+00025c00: 206b 6579 3d6c 616d 6264 6120 783a 2078   key=lambda x: x
+00025c10: 5b27 6e61 6d65 275d 293a 0a20 2020 2020  ['name']):.     
+00025c20: 2020 2020 2020 2020 2020 206e 616d 6520             name 
+00025c30: 3d20 766d 5b27 6e61 6d65 275d 0a20 2020  = vm['name'].   
+00025c40: 2020 2020 2020 2020 2020 2020 2064 6e73               dns
+00025c50: 636c 6965 6e74 203d 2076 6d2e 6765 7428  client = vm.get(
+00025c60: 2764 6e73 636c 6965 6e74 2729 206f 7220  'dnsclient') or 
+00025c70: 646e 7363 6c69 656e 740a 2020 2020 2020  dnsclient.      
+00025c80: 2020 2020 2020 2020 2020 6375 7272 656e            curren
+00025c90: 7463 6c75 7374 6572 203d 2076 6d2e 6765  tcluster = vm.ge
+00025ca0: 7428 276b 7562 6527 290a 2020 2020 2020  t('kube').      
+00025cb0: 2020 2020 2020 2020 2020 6b75 6265 7479            kubety
+00025cc0: 7065 203d 2076 6d2e 6765 7428 276b 7562  pe = vm.get('kub
+00025cd0: 6574 7970 6527 2c20 2767 656e 6572 6963  etype', 'generic
+00025ce0: 2729 0a20 2020 2020 2020 2020 2020 2020  ').             
+00025cf0: 2020 2069 6620 6375 7272 656e 7463 6c75     if currentclu
+00025d00: 7374 6572 2069 7320 6e6f 7420 4e6f 6e65  ster is not None
+00025d10: 2061 6e64 2063 7572 7265 6e74 636c 7573   and currentclus
+00025d20: 7465 7220 3d3d 2063 6c75 7374 6572 3a0a  ter == cluster:.
 00025d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025d40: 2063 2e64 656c 6574 6528 6e61 6d65 2c20   c.delete(name, 
-00025d50: 736e 6170 7368 6f74 733d 5472 7565 290a  snapshots=True).
+00025d40: 2020 2020 6966 206b 7562 6574 7970 6520      if kubetype 
+00025d50: 3d3d 2027 676b 6527 3a0a 2020 2020 2020  == 'gke':.      
 00025d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025d70: 2020 2020 636f 6d6d 6f6e 2e64 656c 6574      common.delet
-00025d80: 655f 6c61 7374 766d 286e 616d 652c 2073  e_lastvm(name, s
-00025d90: 656c 662e 636c 6965 6e74 290a 2020 2020  elf.client).    
-00025da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025db0: 7375 6363 6573 7328 6622 7b6e 616d 657d  success(f"{name}
-00025dc0: 2064 656c 6574 6564 206f 6e20 7b68 7970   deleted on {hyp
-00025dd0: 6572 7669 736f 727d 2122 290a 2020 2020  ervisor}!").    
-00025de0: 2020 2020 6966 2073 656c 662e 7479 7065      if self.type
-00025df0: 203d 3d20 276b 7562 6576 6972 7427 3a0a   == 'kubevirt':.
-00025e00: 2020 2020 2020 2020 2020 2020 6966 2066              if f
-00025e10: 227b 636c 7573 7465 727d 2d61 7069 2220  "{cluster}-api" 
-00025e20: 696e 206b 2e6c 6973 745f 7365 7276 6963  in k.list_servic
-00025e30: 6573 286b 2e6e 616d 6573 7061 6365 293a  es(k.namespace):
-00025e40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00025e50: 206b 2e64 656c 6574 655f 7365 7276 6963   k.delete_servic
-00025e60: 6528 6622 7b63 6c75 7374 6572 7d2d 6170  e(f"{cluster}-ap
-00025e70: 6922 2c20 6b2e 6e61 6d65 7370 6163 6529  i", k.namespace)
-00025e80: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00025e90: 6622 7b63 6c75 7374 6572 7d2d 696e 6772  f"{cluster}-ingr
-00025ea0: 6573 7322 2069 6e20 6b2e 6c69 7374 5f73  ess" in k.list_s
-00025eb0: 6572 7669 6365 7328 6b2e 6e61 6d65 7370  ervices(k.namesp
-00025ec0: 6163 6529 3a0a 2020 2020 2020 2020 2020  ace):.          
-00025ed0: 2020 2020 2020 6b2e 6465 6c65 7465 5f73        k.delete_s
-00025ee0: 6572 7669 6365 2866 227b 636c 7573 7465  ervice(f"{cluste
-00025ef0: 727d 2d69 6e67 7265 7373 222c 206b 2e6e  r}-ingress", k.n
-00025f00: 616d 6573 7061 6365 290a 2020 2020 2020  amespace).      
-00025f10: 2020 6966 2073 656c 662e 7479 7065 2069    if self.type i
-00025f20: 6e20 5b27 6177 7327 2c20 2767 6370 272c  n ['aws', 'gcp',
-00025f30: 2027 6962 6d27 5d20 616e 6420 6e6f 7420   'ibm'] and not 
-00025f40: 676b 653a 0a20 2020 2020 2020 2020 2020  gke:.           
-00025f50: 206c 6273 203d 205b 2761 7069 275d 0a20   lbs = ['api']. 
-00025f60: 2020 2020 2020 2020 2020 2069 6620 6b75             if ku
-00025f70: 6265 7479 7065 206e 6f74 2069 6e20 5b27  betype not in ['
-00025f80: 6b33 7327 2c20 2767 656e 6572 6963 275d  k3s', 'generic']
-00025f90: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00025fa0: 2020 6c62 732e 6170 7065 6e64 2827 6170    lbs.append('ap
-00025fb0: 7073 2729 0a20 2020 2020 2020 2020 2020  ps').           
-00025fc0: 2066 6f72 206c 6220 696e 206c 6273 3a0a   for lb in lbs:.
-00025fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025fe0: 7365 6c66 2e64 656c 6574 655f 6c6f 6164  self.delete_load
-00025ff0: 6261 6c61 6e63 6572 2866 227b 6c62 7d2e  balancer(f"{lb}.
-00026000: 7b63 6c75 7374 6572 7d22 2c20 646f 6d61  {cluster}", doma
-00026010: 696e 3d64 6f6d 6169 6e29 0a20 2020 2020  in=domain).     
-00026020: 2020 2020 2020 2062 7563 6b65 7420 3d20         bucket = 
-00026030: 6622 7b63 6c75 7374 6572 7d2d 7b64 6f6d  f"{cluster}-{dom
-00026040: 6169 6e7d 220a 2020 2020 2020 2020 2020  ain}".          
-00026050: 2020 6966 2062 7563 6b65 7420 696e 2073    if bucket in s
-00026060: 656c 662e 6b2e 6c69 7374 5f62 7563 6b65  elf.k.list_bucke
-00026070: 7473 2829 3a0a 2020 2020 2020 2020 2020  ts():.          
-00026080: 2020 2020 2020 7070 7269 6e74 2866 2244        pprint(f"D
-00026090: 656c 6574 696e 6720 6275 636b 6574 207b  eleting bucket {
-000260a0: 6275 636b 6574 7d22 290a 2020 2020 2020  bucket}").      
-000260b0: 2020 2020 2020 2020 2020 6b2e 6465 6c65            k.dele
-000260c0: 7465 5f62 7563 6b65 7428 6275 636b 6574  te_bucket(bucket
-000260d0: 290a 2020 2020 2020 2020 656c 6966 2064  ).        elif d
-000260e0: 6e73 636c 6965 6e74 2069 7320 6e6f 7420  nsclient is not 
-000260f0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00026100: 2020 7a20 3d20 4b63 6f6e 6669 6728 636c    z = Kconfig(cl
-00026110: 6965 6e74 3d64 6e73 636c 6965 6e74 292e  ient=dnsclient).
-00026120: 6b0a 2020 2020 2020 2020 2020 2020 7a2e  k.            z.
-00026130: 6465 6c65 7465 5f64 6e73 2866 2261 7069  delete_dns(f"api
-00026140: 2e7b 636c 7573 7465 727d 222c 2064 6f6d  .{cluster}", dom
-00026150: 6169 6e29 0a20 2020 2020 2020 2020 2020  ain).           
-00026160: 207a 2e64 656c 6574 655f 646e 7328 6622   z.delete_dns(f"
-00026170: 6170 7073 2e7b 636c 7573 7465 727d 222c  apps.{cluster}",
-00026180: 2064 6f6d 6169 6e29 0a20 2020 2020 2020   domain).       
-00026190: 2069 6620 6879 7065 7273 6869 6674 3a0a   if hypershift:.
-000261a0: 2020 2020 2020 2020 2020 2020 6b75 6265              kube
-000261b0: 636f 6e66 6967 6d67 6d74 203d 2066 227b  configmgmt = f"{
-000261c0: 636c 7573 7465 7264 6972 7d2f 6b75 6265  clusterdir}/kube
-000261d0: 636f 6e66 6967 2e6d 676d 7422 0a20 2020  config.mgmt".   
-000261e0: 2020 2020 2020 2020 2063 616c 6c28 6627           call(f'
-000261f0: 4b55 4245 434f 4e46 4947 3d7b 6b75 6265  KUBECONFIG={kube
-00026200: 636f 6e66 6967 6d67 6d74 7d20 6f63 2064  configmgmt} oc d
-00026210: 656c 6574 6520 2d66 207b 636c 7573 7465  elete -f {cluste
-00026220: 7264 6972 7d2f 6175 746f 6170 7072 6f76  rdir}/autoapprov
-00026230: 6572 6372 6f6e 2e79 6d6c 272c 2073 6865  ercron.yml', she
-00026240: 6c6c 3d54 7275 6529 0a20 2020 2020 2020  ll=True).       
-00026250: 2020 2020 2063 616c 6c28 6627 4b55 4245       call(f'KUBE
-00026260: 434f 4e46 4947 3d7b 6b75 6265 636f 6e66  CONFIG={kubeconf
-00026270: 6967 6d67 6d74 7d20 6f63 2064 656c 6574  igmgmt} oc delet
-00026280: 6520 2d66 207b 636c 7573 7465 7264 6972  e -f {clusterdir
-00026290: 7d2f 6e6f 6465 706f 6f6c 2e79 616d 6c27  }/nodepool.yaml'
-000262a0: 2c20 7368 656c 6c3d 5472 7565 290a 2020  , shell=True).  
-000262b0: 2020 2020 2020 2020 2020 6361 6c6c 2866            call(f
-000262c0: 274b 5542 4543 4f4e 4649 473d 7b6b 7562  'KUBECONFIG={kub
-000262d0: 6563 6f6e 6669 676d 676d 747d 206f 6320  econfigmgmt} oc 
-000262e0: 6465 6c65 7465 202d 6620 7b63 6c75 7374  delete -f {clust
-000262f0: 6572 6469 727d 2f68 6f73 7465 6463 6c75  erdir}/hostedclu
-00026300: 7374 6572 2e79 616d 6c27 2c20 7368 656c  ster.yaml', shel
-00026310: 6c3d 5472 7565 290a 2020 2020 2020 2020  l=True).        
-00026320: 2020 2020 6966 206e 6f74 2061 7373 6973      if not assis
-00026330: 7465 6420 616e 6420 2827 6261 7265 6d65  ted and ('bareme
-00026340: 7461 6c5f 6973 6f27 2069 6e20 636c 7573  tal_iso' in clus
-00026350: 7465 7264 6174 6120 6f72 2027 6261 7265  terdata or 'bare
-00026360: 6d65 7461 6c5f 686f 7374 7327 2069 6e20  metal_hosts' in 
-00026370: 636c 7573 7465 7264 6174 6129 3a0a 2020  clusterdata):.  
-00026380: 2020 2020 2020 2020 2020 2020 2020 6361                ca
-00026390: 6c6c 2866 274b 5542 4543 4f4e 4649 473d  ll(f'KUBECONFIG=
-000263a0: 7b6b 7562 6563 6f6e 6669 676d 676d 747d  {kubeconfigmgmt}
-000263b0: 206f 6320 2d6e 2064 6566 6175 6c74 2064   oc -n default d
-000263c0: 656c 6574 6520 616c 6c20 2d6c 2061 7070  elete all -l app
-000263d0: 3d68 7474 7064 2d6b 636c 6927 2c20 7368  =httpd-kcli', sh
-000263e0: 656c 6c3d 5472 7565 290a 2020 2020 2020  ell=True).      
-000263f0: 2020 2020 2020 2020 2020 6361 6c6c 2866            call(f
-00026400: 274b 5542 4543 4f4e 4649 473d 7b6b 7562  'KUBECONFIG={kub
-00026410: 6563 6f6e 6669 676d 676d 747d 206f 6320  econfigmgmt} oc 
-00026420: 2d6e 2064 6566 6175 6c74 2064 656c 6574  -n default delet
-00026430: 6520 7076 6320 6874 7470 642d 6b63 6c69  e pvc httpd-kcli
-00026440: 2d70 7663 272c 2073 6865 6c6c 3d54 7275  -pvc', shell=Tru
-00026450: 6529 0a20 2020 2020 2020 2069 6620 676b  e).        if gk
-00026460: 653a 0a20 2020 2020 2020 2020 2020 2067  e:.            g
-00026470: 6370 636c 6965 6e74 203d 204e 6f6e 650a  cpclient = None.
-00026480: 2020 2020 2020 2020 2020 2020 6966 2027              if '
-00026490: 636c 6965 6e74 2720 696e 2063 6c75 7374  client' in clust
-000264a0: 6572 6461 7461 3a0a 2020 2020 2020 2020  erdata:.        
-000264b0: 2020 2020 2020 2020 6763 7063 6c69 656e          gcpclien
-000264c0: 7420 3d20 636c 7573 7465 7264 6174 615b  t = clusterdata[
-000264d0: 2763 6c69 656e 7427 5d0a 2020 2020 2020  'client'].      
-000264e0: 2020 2020 2020 656c 6966 2073 656c 662e        elif self.
-000264f0: 7479 7065 203d 3d20 2767 6370 273a 0a20  type == 'gcp':. 
-00026500: 2020 2020 2020 2020 2020 2020 2020 2067                 g
-00026510: 6370 636c 6965 6e74 203d 2073 656c 662e  cpclient = self.
-00026520: 636c 6965 6e74 0a20 2020 2020 2020 2020  client.         
-00026530: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00026540: 2020 2020 2020 2020 206d 7367 203d 2022           msg = "
-00026550: 4465 6c65 7469 6e67 2067 6b65 2063 6c75  Deleting gke clu
-00026560: 7374 6572 2072 6571 7569 7265 7320 746f  ster requires to
-00026570: 2069 6e73 7461 6e74 6961 7465 2067 6370   instantiate gcp
-00026580: 2070 726f 7669 6465 7222 0a20 2020 2020   provider".     
-00026590: 2020 2020 2020 2020 2020 2065 7272 6f72             error
-000265a0: 286d 7367 290a 2020 2020 2020 2020 2020  (msg).          
-000265b0: 2020 2020 2020 7265 7475 726e 207b 2772        return {'r
-000265c0: 6573 756c 7427 3a20 2766 6169 6c75 7265  esult': 'failure
-000265d0: 272c 2027 7265 6173 6f6e 273a 206d 7367  ', 'reason': msg
-000265e0: 7d0a 2020 2020 2020 2020 2020 2020 6672  }.            fr
-000265f0: 6f6d 206b 7669 7274 2e63 6c75 7374 6572  om kvirt.cluster
-00026600: 2069 6d70 6f72 7420 676b 650a 2020 2020   import gke.    
-00026610: 2020 2020 2020 2020 6375 7272 656e 7463          currentc
-00026620: 6f6e 6669 6720 3d20 4b63 6f6e 6669 6728  onfig = Kconfig(
-00026630: 636c 6965 6e74 3d67 6370 636c 6965 6e74  client=gcpclient
-00026640: 292e 6b20 6966 2067 6370 636c 6965 6e74  ).k if gcpclient
-00026650: 2021 3d20 7365 6c66 2e63 6c69 656e 7420   != self.client 
-00026660: 656c 7365 2073 656c 660a 2020 2020 2020  else self.      
-00026670: 2020 2020 2020 7a6f 6e61 6c20 3d20 636c        zonal = cl
-00026680: 7573 7465 7264 6174 612e 6765 7428 277a  usterdata.get('z
-00026690: 6f6e 616c 272c 2054 7275 6529 0a20 2020  onal', True).   
-000266a0: 2020 2020 2020 2020 2067 6b65 2e64 656c           gke.del
-000266b0: 6574 6528 6375 7272 656e 7463 6f6e 6669  ete(currentconfi
-000266c0: 672c 2063 6c75 7374 6572 2c20 7a6f 6e61  g, cluster, zona
-000266d0: 6c29 0a20 2020 2020 2020 2066 6f72 2063  l).        for c
-000266e0: 6f6e 6670 6f6f 6c20 696e 2073 656c 662e  onfpool in self.
-000266f0: 636f 6e66 706f 6f6c 733a 0a20 2020 2020  confpools:.     
-00026700: 2020 2020 2020 2069 705f 7265 7365 7276         ip_reserv
-00026710: 6174 696f 6e73 203d 2073 656c 662e 636f  ations = self.co
-00026720: 6e66 706f 6f6c 735b 636f 6e66 706f 6f6c  nfpools[confpool
-00026730: 5d2e 6765 7428 2769 705f 7265 7365 7276  ].get('ip_reserv
-00026740: 6174 696f 6e73 272c 207b 7d29 0a20 2020  ations', {}).   
-00026750: 2020 2020 2020 2020 2069 6620 636c 7573           if clus
-00026760: 7465 7220 696e 2069 705f 7265 7365 7276  ter in ip_reserv
-00026770: 6174 696f 6e73 3a0a 2020 2020 2020 2020  ations:.        
-00026780: 2020 2020 2020 2020 6465 6c20 6970 5f72          del ip_r
-00026790: 6573 6572 7661 7469 6f6e 735b 636c 7573  eservations[clus
-000267a0: 7465 725d 0a20 2020 2020 2020 2020 2020  ter].           
-000267b0: 2020 2020 2073 656c 662e 7570 6461 7465       self.update
-000267c0: 5f63 6f6e 6670 6f6f 6c28 636f 6e66 706f  _confpool(confpo
-000267d0: 6f6c 2c20 7b27 6970 5f72 6573 6572 7661  ol, {'ip_reserva
-000267e0: 7469 6f6e 7327 3a20 6970 5f72 6573 6572  tions': ip_reser
-000267f0: 7661 7469 6f6e 737d 290a 2020 2020 2020  vations}).      
-00026800: 2020 2020 2020 6e61 6d65 5f72 6573 6572        name_reser
-00026810: 7661 7469 6f6e 7320 3d20 7365 6c66 2e63  vations = self.c
-00026820: 6f6e 6670 6f6f 6c73 5b63 6f6e 6670 6f6f  onfpools[confpoo
-00026830: 6c5d 2e67 6574 2827 6e61 6d65 5f72 6573  l].get('name_res
-00026840: 6572 7661 7469 6f6e 7327 2c20 5b5d 290a  ervations', []).
-00026850: 2020 2020 2020 2020 2020 2020 6966 2063              if c
-00026860: 6c75 7374 6572 2069 6e20 6e61 6d65 5f72  luster in name_r
-00026870: 6573 6572 7661 7469 6f6e 733a 0a20 2020  eservations:.   
-00026880: 2020 2020 2020 2020 2020 2020 206e 616d               nam
-00026890: 655f 7265 7365 7276 6174 696f 6e73 2e72  e_reservations.r
-000268a0: 656d 6f76 6528 636c 7573 7465 7229 0a20  emove(cluster). 
-000268b0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000268c0: 656c 662e 7570 6461 7465 5f63 6f6e 6670  elf.update_confp
-000268d0: 6f6f 6c28 636f 6e66 706f 6f6c 2c20 7b27  ool(confpool, {'
-000268e0: 6e61 6d65 5f72 6573 6572 7661 7469 6f6e  name_reservation
-000268f0: 7327 3a20 6e61 6d65 5f72 6573 6572 7661  s': name_reserva
-00026900: 7469 6f6e 737d 290a 2020 2020 2020 2020  tions}).        
-00026910: 2020 2020 636c 7573 7465 725f 6261 7265      cluster_bare
-00026920: 6d65 7461 6c5f 7265 7365 7276 6174 696f  metal_reservatio
-00026930: 6e73 203d 2073 656c 662e 636f 6e66 706f  ns = self.confpo
-00026940: 6f6c 735b 636f 6e66 706f 6f6c 5d2e 6765  ols[confpool].ge
-00026950: 7428 2763 6c75 7374 6572 5f62 6172 656d  t('cluster_barem
-00026960: 6574 616c 5f72 6573 6572 7661 7469 6f6e  etal_reservation
-00026970: 7327 2c20 7b7d 290a 2020 2020 2020 2020  s', {}).        
-00026980: 2020 2020 6966 2063 6c75 7374 6572 2069      if cluster i
-00026990: 6e20 636c 7573 7465 725f 6261 7265 6d65  n cluster_bareme
-000269a0: 7461 6c5f 7265 7365 7276 6174 696f 6e73  tal_reservations
-000269b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000269c0: 2020 6465 6c20 636c 7573 7465 725f 6261    del cluster_ba
-000269d0: 7265 6d65 7461 6c5f 7265 7365 7276 6174  remetal_reservat
-000269e0: 696f 6e73 5b63 6c75 7374 6572 5d0a 2020  ions[cluster].  
-000269f0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00026a00: 6c66 2e75 7064 6174 655f 636f 6e66 706f  lf.update_confpo
-00026a10: 6f6c 2863 6f6e 6670 6f6f 6c2c 207b 2763  ol(confpool, {'c
-00026a20: 6c75 7374 6572 5f62 6172 656d 6574 616c  luster_baremetal
-00026a30: 5f72 6573 6572 7661 7469 6f6e 7327 3a20  _reservations': 
-00026a40: 636c 7573 7465 725f 6261 7265 6d65 7461  cluster_baremeta
-00026a50: 6c5f 7265 7365 7276 6174 696f 6e73 7d29  l_reservations})
-00026a60: 0a20 2020 2020 2020 2069 6620 6f73 2e70  .        if os.p
-00026a70: 6174 682e 6578 6973 7473 2863 6c75 7374  ath.exists(clust
-00026a80: 6572 6469 7229 3a0a 2020 2020 2020 2020  erdir):.        
-00026a90: 2020 2020 7070 7269 6e74 2866 2244 656c      pprint(f"Del
-00026aa0: 6574 696e 6720 6469 7265 6374 6f72 7920  eting directory 
-00026ab0: 7b63 6c75 7374 6572 6469 727d 2229 0a20  {clusterdir}"). 
-00026ac0: 2020 2020 2020 2020 2020 2072 6d74 7265             rmtre
-00026ad0: 6528 636c 7573 7465 7264 6972 290a 2020  e(clusterdir).  
-00026ae0: 2020 2020 2020 7265 7475 726e 207b 2772        return {'r
-00026af0: 6573 756c 7427 3a20 2773 7563 6365 7373  esult': 'success
-00026b00: 277d 0a0a 2020 2020 6465 6620 7363 616c  '}..    def scal
-00026b10: 655f 6b75 6265 2873 656c 662c 2063 6c75  e_kube(self, clu
-00026b20: 7374 6572 2c20 6b75 6265 7479 7065 2c20  ster, kubetype, 
-00026b30: 6f76 6572 7269 6465 733d 7b7d 293a 0a20  overrides={}):. 
-00026b40: 2020 2020 2020 2069 6620 6b75 6265 7479         if kubety
-00026b50: 7065 203d 3d20 2767 656e 6572 6963 273a  pe == 'generic':
-00026b60: 0a20 2020 2020 2020 2020 2020 2072 6573  .            res
-00026b70: 756c 7420 3d20 7365 6c66 2e73 6361 6c65  ult = self.scale
-00026b80: 5f6b 7562 655f 6765 6e65 7269 6328 636c  _kube_generic(cl
-00026b90: 7573 7465 722c 206f 7665 7272 6964 6573  uster, overrides
-00026ba0: 3d6f 7665 7272 6964 6573 290a 2020 2020  =overrides).    
-00026bb0: 2020 2020 656c 6966 206b 7562 6574 7970      elif kubetyp
-00026bc0: 6520 3d3d 2027 6b33 7327 3a0a 2020 2020  e == 'k3s':.    
-00026bd0: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-00026be0: 2073 656c 662e 7363 616c 655f 6b75 6265   self.scale_kube
-00026bf0: 5f6b 3373 2863 6c75 7374 6572 2c20 6f76  _k3s(cluster, ov
-00026c00: 6572 7269 6465 733d 6f76 6572 7269 6465  errides=override
-00026c10: 7329 0a20 2020 2020 2020 2065 6c69 6620  s).        elif 
-00026c20: 6b75 6265 7479 7065 203d 3d20 276f 7065  kubetype == 'ope
-00026c30: 6e73 6869 6674 273a 0a20 2020 2020 2020  nshift':.       
-00026c40: 2020 2020 2072 6573 756c 7420 3d20 7365       result = se
-00026c50: 6c66 2e73 6361 6c65 5f6b 7562 655f 6f70  lf.scale_kube_op
-00026c60: 656e 7368 6966 7428 636c 7573 7465 722c  enshift(cluster,
-00026c70: 206f 7665 7272 6964 6573 3d6f 7665 7272   overrides=overr
-00026c80: 6964 6573 290a 2020 2020 2020 2020 656c  ides).        el
-00026c90: 6966 206b 7562 6574 7970 6520 3d3d 2027  if kubetype == '
-00026ca0: 6879 7065 7273 6869 6674 273a 0a20 2020  hypershift':.   
-00026cb0: 2020 2020 2020 2020 2072 6573 756c 7420           result 
-00026cc0: 3d20 7365 6c66 2e73 6361 6c65 5f6b 7562  = self.scale_kub
-00026cd0: 655f 6879 7065 7273 6869 6674 2863 6c75  e_hypershift(clu
-00026ce0: 7374 6572 2c20 6f76 6572 7269 6465 733d  ster, overrides=
-00026cf0: 6f76 6572 7269 6465 7329 0a20 2020 2020  overrides).     
-00026d00: 2020 2065 6c69 6620 6b75 6265 7479 7065     elif kubetype
-00026d10: 203d 3d20 2767 6b65 273a 0a20 2020 2020   == 'gke':.     
+00025d70: 2020 676b 6520 3d20 5472 7565 0a20 2020    gke = True.   
+00025d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025d90: 2020 2020 2062 7265 616b 0a20 2020 2020       break.     
+00025da0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00025db0: 2e64 656c 6574 6528 6e61 6d65 2c20 736e  .delete(name, sn
+00025dc0: 6170 7368 6f74 733d 5472 7565 290a 2020  apshots=True).  
+00025dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025de0: 2020 636f 6d6d 6f6e 2e64 656c 6574 655f    common.delete_
+00025df0: 6c61 7374 766d 286e 616d 652c 2073 656c  lastvm(name, sel
+00025e00: 662e 636c 6965 6e74 290a 2020 2020 2020  f.client).      
+00025e10: 2020 2020 2020 2020 2020 2020 2020 7375                su
+00025e20: 6363 6573 7328 6622 7b6e 616d 657d 2064  ccess(f"{name} d
+00025e30: 656c 6574 6564 206f 6e20 7b68 7970 6572  eleted on {hyper
+00025e40: 7669 736f 727d 2122 290a 2020 2020 2020  visor}!").      
+00025e50: 2020 6966 2073 656c 662e 7479 7065 203d    if self.type =
+00025e60: 3d20 276b 7562 6576 6972 7427 3a0a 2020  = 'kubevirt':.  
+00025e70: 2020 2020 2020 2020 2020 6966 2066 227b            if f"{
+00025e80: 636c 7573 7465 727d 2d61 7069 2220 696e  cluster}-api" in
+00025e90: 206b 2e6c 6973 745f 7365 7276 6963 6573   k.list_services
+00025ea0: 286b 2e6e 616d 6573 7061 6365 293a 0a20  (k.namespace):. 
+00025eb0: 2020 2020 2020 2020 2020 2020 2020 206b                 k
+00025ec0: 2e64 656c 6574 655f 7365 7276 6963 6528  .delete_service(
+00025ed0: 6622 7b63 6c75 7374 6572 7d2d 6170 6922  f"{cluster}-api"
+00025ee0: 2c20 6b2e 6e61 6d65 7370 6163 6529 0a20  , k.namespace). 
+00025ef0: 2020 2020 2020 2020 2020 2069 6620 6622             if f"
+00025f00: 7b63 6c75 7374 6572 7d2d 696e 6772 6573  {cluster}-ingres
+00025f10: 7322 2069 6e20 6b2e 6c69 7374 5f73 6572  s" in k.list_ser
+00025f20: 7669 6365 7328 6b2e 6e61 6d65 7370 6163  vices(k.namespac
+00025f30: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
+00025f40: 2020 2020 6b2e 6465 6c65 7465 5f73 6572      k.delete_ser
+00025f50: 7669 6365 2866 227b 636c 7573 7465 727d  vice(f"{cluster}
+00025f60: 2d69 6e67 7265 7373 222c 206b 2e6e 616d  -ingress", k.nam
+00025f70: 6573 7061 6365 290a 2020 2020 2020 2020  espace).        
+00025f80: 6966 2073 656c 662e 7479 7065 2069 6e20  if self.type in 
+00025f90: 5b27 6177 7327 2c20 2767 6370 272c 2027  ['aws', 'gcp', '
+00025fa0: 6962 6d27 5d20 616e 6420 6e6f 7420 676b  ibm'] and not gk
+00025fb0: 653a 0a20 2020 2020 2020 2020 2020 206c  e:.            l
+00025fc0: 6273 203d 205b 2761 7069 275d 0a20 2020  bs = ['api'].   
+00025fd0: 2020 2020 2020 2020 2069 6620 6b75 6265           if kube
+00025fe0: 7479 7065 206e 6f74 2069 6e20 5b27 6b33  type not in ['k3
+00025ff0: 7327 2c20 2767 656e 6572 6963 275d 3a0a  s', 'generic']:.
+00026000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026010: 6c62 732e 6170 7065 6e64 2827 6170 7073  lbs.append('apps
+00026020: 2729 0a20 2020 2020 2020 2020 2020 2066  ').            f
+00026030: 6f72 206c 6220 696e 206c 6273 3a0a 2020  or lb in lbs:.  
+00026040: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00026050: 6c66 2e64 656c 6574 655f 6c6f 6164 6261  lf.delete_loadba
+00026060: 6c61 6e63 6572 2866 227b 6c62 7d2e 7b63  lancer(f"{lb}.{c
+00026070: 6c75 7374 6572 7d22 2c20 646f 6d61 696e  luster}", domain
+00026080: 3d64 6f6d 6169 6e29 0a20 2020 2020 2020  =domain).       
+00026090: 2020 2020 2062 7563 6b65 7420 3d20 6622       bucket = f"
+000260a0: 7b63 6c75 7374 6572 7d2d 7b64 6f6d 6169  {cluster}-{domai
+000260b0: 6e7d 220a 2020 2020 2020 2020 2020 2020  n}".            
+000260c0: 6966 2062 7563 6b65 7420 696e 2073 656c  if bucket in sel
+000260d0: 662e 6b2e 6c69 7374 5f62 7563 6b65 7473  f.k.list_buckets
+000260e0: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+000260f0: 2020 2020 7070 7269 6e74 2866 2244 656c      pprint(f"Del
+00026100: 6574 696e 6720 6275 636b 6574 207b 6275  eting bucket {bu
+00026110: 636b 6574 7d22 290a 2020 2020 2020 2020  cket}").        
+00026120: 2020 2020 2020 2020 6b2e 6465 6c65 7465          k.delete
+00026130: 5f62 7563 6b65 7428 6275 636b 6574 290a  _bucket(bucket).
+00026140: 2020 2020 2020 2020 656c 6966 2064 6e73          elif dns
+00026150: 636c 6965 6e74 2069 7320 6e6f 7420 4e6f  client is not No
+00026160: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+00026170: 7a20 3d20 4b63 6f6e 6669 6728 636c 6965  z = Kconfig(clie
+00026180: 6e74 3d64 6e73 636c 6965 6e74 292e 6b0a  nt=dnsclient).k.
+00026190: 2020 2020 2020 2020 2020 2020 7a2e 6465              z.de
+000261a0: 6c65 7465 5f64 6e73 2866 2261 7069 2e7b  lete_dns(f"api.{
+000261b0: 636c 7573 7465 727d 222c 2064 6f6d 6169  cluster}", domai
+000261c0: 6e29 0a20 2020 2020 2020 2020 2020 207a  n).            z
+000261d0: 2e64 656c 6574 655f 646e 7328 6622 6170  .delete_dns(f"ap
+000261e0: 7073 2e7b 636c 7573 7465 727d 222c 2064  ps.{cluster}", d
+000261f0: 6f6d 6169 6e29 0a20 2020 2020 2020 2069  omain).        i
+00026200: 6620 6879 7065 7273 6869 6674 3a0a 2020  f hypershift:.  
+00026210: 2020 2020 2020 2020 2020 6b75 6265 636f            kubeco
+00026220: 6e66 6967 6d67 6d74 203d 2066 227b 636c  nfigmgmt = f"{cl
+00026230: 7573 7465 7264 6972 7d2f 6b75 6265 636f  usterdir}/kubeco
+00026240: 6e66 6967 2e6d 676d 7422 0a20 2020 2020  nfig.mgmt".     
+00026250: 2020 2020 2020 2063 616c 6c28 6627 4b55         call(f'KU
+00026260: 4245 434f 4e46 4947 3d7b 6b75 6265 636f  BECONFIG={kubeco
+00026270: 6e66 6967 6d67 6d74 7d20 6f63 2064 656c  nfigmgmt} oc del
+00026280: 6574 6520 2d66 207b 636c 7573 7465 7264  ete -f {clusterd
+00026290: 6972 7d2f 6175 746f 6170 7072 6f76 6572  ir}/autoapprover
+000262a0: 6372 6f6e 2e79 6d6c 272c 2073 6865 6c6c  cron.yml', shell
+000262b0: 3d54 7275 6529 0a20 2020 2020 2020 2020  =True).         
+000262c0: 2020 2063 616c 6c28 6627 4b55 4245 434f     call(f'KUBECO
+000262d0: 4e46 4947 3d7b 6b75 6265 636f 6e66 6967  NFIG={kubeconfig
+000262e0: 6d67 6d74 7d20 6f63 2064 656c 6574 6520  mgmt} oc delete 
+000262f0: 2d66 207b 636c 7573 7465 7264 6972 7d2f  -f {clusterdir}/
+00026300: 6e6f 6465 706f 6f6c 2e79 616d 6c27 2c20  nodepool.yaml', 
+00026310: 7368 656c 6c3d 5472 7565 290a 2020 2020  shell=True).    
+00026320: 2020 2020 2020 2020 6361 6c6c 2866 274b          call(f'K
+00026330: 5542 4543 4f4e 4649 473d 7b6b 7562 6563  UBECONFIG={kubec
+00026340: 6f6e 6669 676d 676d 747d 206f 6320 6465  onfigmgmt} oc de
+00026350: 6c65 7465 202d 6620 7b63 6c75 7374 6572  lete -f {cluster
+00026360: 6469 727d 2f68 6f73 7465 6463 6c75 7374  dir}/hostedclust
+00026370: 6572 2e79 616d 6c27 2c20 7368 656c 6c3d  er.yaml', shell=
+00026380: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
+00026390: 2020 6966 206e 6f74 2061 7373 6973 7465    if not assiste
+000263a0: 6420 616e 6420 2827 6261 7265 6d65 7461  d and ('baremeta
+000263b0: 6c5f 6973 6f27 2069 6e20 636c 7573 7465  l_iso' in cluste
+000263c0: 7264 6174 6120 6f72 2027 6261 7265 6d65  rdata or 'bareme
+000263d0: 7461 6c5f 686f 7374 7327 2069 6e20 636c  tal_hosts' in cl
+000263e0: 7573 7465 7264 6174 6129 3a0a 2020 2020  usterdata):.    
+000263f0: 2020 2020 2020 2020 2020 2020 6361 6c6c              call
+00026400: 2866 274b 5542 4543 4f4e 4649 473d 7b6b  (f'KUBECONFIG={k
+00026410: 7562 6563 6f6e 6669 676d 676d 747d 206f  ubeconfigmgmt} o
+00026420: 6320 2d6e 2064 6566 6175 6c74 2064 656c  c -n default del
+00026430: 6574 6520 616c 6c20 2d6c 2061 7070 3d68  ete all -l app=h
+00026440: 7474 7064 2d6b 636c 6927 2c20 7368 656c  ttpd-kcli', shel
+00026450: 6c3d 5472 7565 290a 2020 2020 2020 2020  l=True).        
+00026460: 2020 2020 2020 2020 6361 6c6c 2866 274b          call(f'K
+00026470: 5542 4543 4f4e 4649 473d 7b6b 7562 6563  UBECONFIG={kubec
+00026480: 6f6e 6669 676d 676d 747d 206f 6320 2d6e  onfigmgmt} oc -n
+00026490: 2064 6566 6175 6c74 2064 656c 6574 6520   default delete 
+000264a0: 7076 6320 6874 7470 642d 6b63 6c69 2d70  pvc httpd-kcli-p
+000264b0: 7663 272c 2073 6865 6c6c 3d54 7275 6529  vc', shell=True)
+000264c0: 0a20 2020 2020 2020 2069 6620 676b 653a  .        if gke:
+000264d0: 0a20 2020 2020 2020 2020 2020 2067 6370  .            gcp
+000264e0: 636c 6965 6e74 203d 204e 6f6e 650a 2020  client = None.  
+000264f0: 2020 2020 2020 2020 2020 6966 2027 636c            if 'cl
+00026500: 6965 6e74 2720 696e 2063 6c75 7374 6572  ient' in cluster
+00026510: 6461 7461 3a0a 2020 2020 2020 2020 2020  data:.          
+00026520: 2020 2020 2020 6763 7063 6c69 656e 7420        gcpclient 
+00026530: 3d20 636c 7573 7465 7264 6174 615b 2763  = clusterdata['c
+00026540: 6c69 656e 7427 5d0a 2020 2020 2020 2020  lient'].        
+00026550: 2020 2020 656c 6966 2073 656c 662e 7479      elif self.ty
+00026560: 7065 203d 3d20 2767 6370 273a 0a20 2020  pe == 'gcp':.   
+00026570: 2020 2020 2020 2020 2020 2020 2067 6370               gcp
+00026580: 636c 6965 6e74 203d 2073 656c 662e 636c  client = self.cl
+00026590: 6965 6e74 0a20 2020 2020 2020 2020 2020  ient.           
+000265a0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+000265b0: 2020 2020 2020 206d 7367 203d 2022 4465         msg = "De
+000265c0: 6c65 7469 6e67 2067 6b65 2063 6c75 7374  leting gke clust
+000265d0: 6572 2072 6571 7569 7265 7320 746f 2069  er requires to i
+000265e0: 6e73 7461 6e74 6961 7465 2067 6370 2070  nstantiate gcp p
+000265f0: 726f 7669 6465 7222 0a20 2020 2020 2020  rovider".       
+00026600: 2020 2020 2020 2020 2065 7272 6f72 286d           error(m
+00026610: 7367 290a 2020 2020 2020 2020 2020 2020  sg).            
+00026620: 2020 2020 7265 7475 726e 207b 2772 6573      return {'res
+00026630: 756c 7427 3a20 2766 6169 6c75 7265 272c  ult': 'failure',
+00026640: 2027 7265 6173 6f6e 273a 206d 7367 7d0a   'reason': msg}.
+00026650: 2020 2020 2020 2020 2020 2020 6672 6f6d              from
+00026660: 206b 7669 7274 2e63 6c75 7374 6572 2069   kvirt.cluster i
+00026670: 6d70 6f72 7420 676b 650a 2020 2020 2020  mport gke.      
+00026680: 2020 2020 2020 6375 7272 656e 7463 6f6e        currentcon
+00026690: 6669 6720 3d20 4b63 6f6e 6669 6728 636c  fig = Kconfig(cl
+000266a0: 6965 6e74 3d67 6370 636c 6965 6e74 292e  ient=gcpclient).
+000266b0: 6b20 6966 2067 6370 636c 6965 6e74 2021  k if gcpclient !
+000266c0: 3d20 7365 6c66 2e63 6c69 656e 7420 656c  = self.client el
+000266d0: 7365 2073 656c 660a 2020 2020 2020 2020  se self.        
+000266e0: 2020 2020 7a6f 6e61 6c20 3d20 636c 7573      zonal = clus
+000266f0: 7465 7264 6174 612e 6765 7428 277a 6f6e  terdata.get('zon
+00026700: 616c 272c 2054 7275 6529 0a20 2020 2020  al', True).     
+00026710: 2020 2020 2020 2067 6b65 2e64 656c 6574         gke.delet
+00026720: 6528 6375 7272 656e 7463 6f6e 6669 672c  e(currentconfig,
+00026730: 2063 6c75 7374 6572 2c20 7a6f 6e61 6c29   cluster, zonal)
+00026740: 0a20 2020 2020 2020 2066 6f72 2063 6f6e  .        for con
+00026750: 6670 6f6f 6c20 696e 2073 656c 662e 636f  fpool in self.co
+00026760: 6e66 706f 6f6c 733a 0a20 2020 2020 2020  nfpools:.       
+00026770: 2020 2020 2069 705f 7265 7365 7276 6174       ip_reservat
+00026780: 696f 6e73 203d 2073 656c 662e 636f 6e66  ions = self.conf
+00026790: 706f 6f6c 735b 636f 6e66 706f 6f6c 5d2e  pools[confpool].
+000267a0: 6765 7428 2769 705f 7265 7365 7276 6174  get('ip_reservat
+000267b0: 696f 6e73 272c 207b 7d29 0a20 2020 2020  ions', {}).     
+000267c0: 2020 2020 2020 2069 6620 636c 7573 7465         if cluste
+000267d0: 7220 696e 2069 705f 7265 7365 7276 6174  r in ip_reservat
+000267e0: 696f 6e73 3a0a 2020 2020 2020 2020 2020  ions:.          
+000267f0: 2020 2020 2020 6465 6c20 6970 5f72 6573        del ip_res
+00026800: 6572 7661 7469 6f6e 735b 636c 7573 7465  ervations[cluste
+00026810: 725d 0a20 2020 2020 2020 2020 2020 2020  r].             
+00026820: 2020 2073 656c 662e 7570 6461 7465 5f63     self.update_c
+00026830: 6f6e 6670 6f6f 6c28 636f 6e66 706f 6f6c  onfpool(confpool
+00026840: 2c20 7b27 6970 5f72 6573 6572 7661 7469  , {'ip_reservati
+00026850: 6f6e 7327 3a20 6970 5f72 6573 6572 7661  ons': ip_reserva
+00026860: 7469 6f6e 737d 290a 2020 2020 2020 2020  tions}).        
+00026870: 2020 2020 6e61 6d65 5f72 6573 6572 7661      name_reserva
+00026880: 7469 6f6e 7320 3d20 7365 6c66 2e63 6f6e  tions = self.con
+00026890: 6670 6f6f 6c73 5b63 6f6e 6670 6f6f 6c5d  fpools[confpool]
+000268a0: 2e67 6574 2827 6e61 6d65 5f72 6573 6572  .get('name_reser
+000268b0: 7661 7469 6f6e 7327 2c20 5b5d 290a 2020  vations', []).  
+000268c0: 2020 2020 2020 2020 2020 6966 2063 6c75            if clu
+000268d0: 7374 6572 2069 6e20 6e61 6d65 5f72 6573  ster in name_res
+000268e0: 6572 7661 7469 6f6e 733a 0a20 2020 2020  ervations:.     
+000268f0: 2020 2020 2020 2020 2020 206e 616d 655f             name_
+00026900: 7265 7365 7276 6174 696f 6e73 2e72 656d  reservations.rem
+00026910: 6f76 6528 636c 7573 7465 7229 0a20 2020  ove(cluster).   
+00026920: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00026930: 662e 7570 6461 7465 5f63 6f6e 6670 6f6f  f.update_confpoo
+00026940: 6c28 636f 6e66 706f 6f6c 2c20 7b27 6e61  l(confpool, {'na
+00026950: 6d65 5f72 6573 6572 7661 7469 6f6e 7327  me_reservations'
+00026960: 3a20 6e61 6d65 5f72 6573 6572 7661 7469  : name_reservati
+00026970: 6f6e 737d 290a 2020 2020 2020 2020 2020  ons}).          
+00026980: 2020 636c 7573 7465 725f 6261 7265 6d65    cluster_bareme
+00026990: 7461 6c5f 7265 7365 7276 6174 696f 6e73  tal_reservations
+000269a0: 203d 2073 656c 662e 636f 6e66 706f 6f6c   = self.confpool
+000269b0: 735b 636f 6e66 706f 6f6c 5d2e 6765 7428  s[confpool].get(
+000269c0: 2763 6c75 7374 6572 5f62 6172 656d 6574  'cluster_baremet
+000269d0: 616c 5f72 6573 6572 7661 7469 6f6e 7327  al_reservations'
+000269e0: 2c20 7b7d 290a 2020 2020 2020 2020 2020  , {}).          
+000269f0: 2020 6966 2063 6c75 7374 6572 2069 6e20    if cluster in 
+00026a00: 636c 7573 7465 725f 6261 7265 6d65 7461  cluster_baremeta
+00026a10: 6c5f 7265 7365 7276 6174 696f 6e73 3a0a  l_reservations:.
+00026a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026a30: 6465 6c20 636c 7573 7465 725f 6261 7265  del cluster_bare
+00026a40: 6d65 7461 6c5f 7265 7365 7276 6174 696f  metal_reservatio
+00026a50: 6e73 5b63 6c75 7374 6572 5d0a 2020 2020  ns[cluster].    
+00026a60: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00026a70: 2e75 7064 6174 655f 636f 6e66 706f 6f6c  .update_confpool
+00026a80: 2863 6f6e 6670 6f6f 6c2c 207b 2763 6c75  (confpool, {'clu
+00026a90: 7374 6572 5f62 6172 656d 6574 616c 5f72  ster_baremetal_r
+00026aa0: 6573 6572 7661 7469 6f6e 7327 3a20 636c  eservations': cl
+00026ab0: 7573 7465 725f 6261 7265 6d65 7461 6c5f  uster_baremetal_
+00026ac0: 7265 7365 7276 6174 696f 6e73 7d29 0a20  reservations}). 
+00026ad0: 2020 2020 2020 2069 6620 6f73 2e70 6174         if os.pat
+00026ae0: 682e 6578 6973 7473 2863 6c75 7374 6572  h.exists(cluster
+00026af0: 6469 7229 3a0a 2020 2020 2020 2020 2020  dir):.          
+00026b00: 2020 7070 7269 6e74 2866 2244 656c 6574    pprint(f"Delet
+00026b10: 696e 6720 6469 7265 6374 6f72 7920 7b63  ing directory {c
+00026b20: 6c75 7374 6572 6469 727d 2229 0a20 2020  lusterdir}").   
+00026b30: 2020 2020 2020 2020 2072 6d74 7265 6528           rmtree(
+00026b40: 636c 7573 7465 7264 6972 290a 2020 2020  clusterdir).    
+00026b50: 2020 2020 7265 7475 726e 207b 2772 6573      return {'res
+00026b60: 756c 7427 3a20 2773 7563 6365 7373 277d  ult': 'success'}
+00026b70: 0a0a 2020 2020 6465 6620 7363 616c 655f  ..    def scale_
+00026b80: 6b75 6265 2873 656c 662c 2063 6c75 7374  kube(self, clust
+00026b90: 6572 2c20 6b75 6265 7479 7065 2c20 6f76  er, kubetype, ov
+00026ba0: 6572 7269 6465 733d 7b7d 293a 0a20 2020  errides={}):.   
+00026bb0: 2020 2020 2069 6620 6b75 6265 7479 7065       if kubetype
+00026bc0: 203d 3d20 2767 656e 6572 6963 273a 0a20   == 'generic':. 
+00026bd0: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+00026be0: 7420 3d20 7365 6c66 2e73 6361 6c65 5f6b  t = self.scale_k
+00026bf0: 7562 655f 6765 6e65 7269 6328 636c 7573  ube_generic(clus
+00026c00: 7465 722c 206f 7665 7272 6964 6573 3d6f  ter, overrides=o
+00026c10: 7665 7272 6964 6573 290a 2020 2020 2020  verrides).      
+00026c20: 2020 656c 6966 206b 7562 6574 7970 6520    elif kubetype 
+00026c30: 3d3d 2027 6b33 7327 3a0a 2020 2020 2020  == 'k3s':.      
+00026c40: 2020 2020 2020 7265 7375 6c74 203d 2073        result = s
+00026c50: 656c 662e 7363 616c 655f 6b75 6265 5f6b  elf.scale_kube_k
+00026c60: 3373 2863 6c75 7374 6572 2c20 6f76 6572  3s(cluster, over
+00026c70: 7269 6465 733d 6f76 6572 7269 6465 7329  rides=overrides)
+00026c80: 0a20 2020 2020 2020 2065 6c69 6620 6b75  .        elif ku
+00026c90: 6265 7479 7065 203d 3d20 276f 7065 6e73  betype == 'opens
+00026ca0: 6869 6674 273a 0a20 2020 2020 2020 2020  hift':.         
+00026cb0: 2020 2072 6573 756c 7420 3d20 7365 6c66     result = self
+00026cc0: 2e73 6361 6c65 5f6b 7562 655f 6f70 656e  .scale_kube_open
+00026cd0: 7368 6966 7428 636c 7573 7465 722c 206f  shift(cluster, o
+00026ce0: 7665 7272 6964 6573 3d6f 7665 7272 6964  verrides=overrid
+00026cf0: 6573 290a 2020 2020 2020 2020 656c 6966  es).        elif
+00026d00: 206b 7562 6574 7970 6520 3d3d 2027 6879   kubetype == 'hy
+00026d10: 7065 7273 6869 6674 273a 0a20 2020 2020  pershift':.     
 00026d20: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
 00026d30: 7365 6c66 2e73 6361 6c65 5f6b 7562 655f  self.scale_kube_
-00026d40: 676b 6528 636c 7573 7465 722c 206f 7665  gke(cluster, ove
-00026d50: 7272 6964 6573 3d6f 7665 7272 6964 6573  rrides=overrides
-00026d60: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
-00026d70: 2072 6573 756c 740a 0a20 2020 2064 6566   result..    def
-00026d80: 2073 6361 6c65 5f6b 7562 655f 6765 6e65   scale_kube_gene
-00026d90: 7269 6328 7365 6c66 2c20 636c 7573 7465  ric(self, cluste
-00026da0: 722c 206f 7665 7272 6964 6573 3d7b 7d29  r, overrides={})
-00026db0: 3a0a 2020 2020 2020 2020 706c 616e 6469  :.        plandi
-00026dc0: 7220 3d20 6f73 2e70 6174 682e 6469 726e  r = os.path.dirn
-00026dd0: 616d 6528 6b75 6265 6164 6d2e 6372 6561  ame(kubeadm.crea
-00026de0: 7465 2e5f 5f63 6f64 655f 5f2e 636f 5f66  te.__code__.co_f
-00026df0: 696c 656e 616d 6529 0a20 2020 2020 2020  ilename).       
-00026e00: 2072 6574 7572 6e20 6b75 6265 6164 6d2e   return kubeadm.
-00026e10: 7363 616c 6528 7365 6c66 2c20 706c 616e  scale(self, plan
-00026e20: 6469 722c 2063 6c75 7374 6572 2c20 6f76  dir, cluster, ov
-00026e30: 6572 7269 6465 7329 0a0a 2020 2020 6465  errides)..    de
-00026e40: 6620 7363 616c 655f 6b75 6265 5f67 6b65  f scale_kube_gke
-00026e50: 2873 656c 662c 2063 6c75 7374 6572 2c20  (self, cluster, 
-00026e60: 6f76 6572 7269 6465 733d 7b7d 293a 0a20  overrides={}):. 
-00026e70: 2020 2020 2020 2066 726f 6d20 6b76 6972         from kvir
-00026e80: 742e 636c 7573 7465 7220 696d 706f 7274  t.cluster import
-00026e90: 2067 6b65 0a20 2020 2020 2020 2072 6574   gke.        ret
-00026ea0: 7572 6e20 676b 652e 7363 616c 6528 7365  urn gke.scale(se
-00026eb0: 6c66 2c20 636c 7573 7465 722c 206f 7665  lf, cluster, ove
-00026ec0: 7272 6964 6573 290a 0a20 2020 2064 6566  rrides)..    def
-00026ed0: 2073 6361 6c65 5f6b 7562 655f 6879 7065   scale_kube_hype
-00026ee0: 7273 6869 6674 2873 656c 662c 2063 6c75  rshift(self, clu
-00026ef0: 7374 6572 2c20 6f76 6572 7269 6465 733d  ster, overrides=
-00026f00: 7b7d 293a 0a20 2020 2020 2020 2070 6c61  {}):.        pla
-00026f10: 6e64 6972 203d 206f 732e 7061 7468 2e64  ndir = os.path.d
-00026f20: 6972 6e61 6d65 2868 7970 6572 7368 6966  irname(hypershif
-00026f30: 742e 6372 6561 7465 2e5f 5f63 6f64 655f  t.create.__code_
-00026f40: 5f2e 636f 5f66 696c 656e 616d 6529 0a20  _.co_filename). 
-00026f50: 2020 2020 2020 2072 6574 7572 6e20 6879         return hy
-00026f60: 7065 7273 6869 6674 2e73 6361 6c65 2873  pershift.scale(s
-00026f70: 656c 662c 2070 6c61 6e64 6972 2c20 636c  elf, plandir, cl
-00026f80: 7573 7465 722c 206f 7665 7272 6964 6573  uster, overrides
-00026f90: 290a 0a20 2020 2064 6566 2073 6361 6c65  )..    def scale
-00026fa0: 5f6b 7562 655f 6b33 7328 7365 6c66 2c20  _kube_k3s(self, 
-00026fb0: 636c 7573 7465 722c 206f 7665 7272 6964  cluster, overrid
-00026fc0: 6573 3d7b 7d29 3a0a 2020 2020 2020 2020  es={}):.        
-00026fd0: 706c 616e 6469 7220 3d20 6f73 2e70 6174  plandir = os.pat
-00026fe0: 682e 6469 726e 616d 6528 6b33 732e 6372  h.dirname(k3s.cr
-00026ff0: 6561 7465 2e5f 5f63 6f64 655f 5f2e 636f  eate.__code__.co
-00027000: 5f66 696c 656e 616d 6529 0a20 2020 2020  _filename).     
-00027010: 2020 2072 6574 7572 6e20 6b33 732e 7363     return k3s.sc
-00027020: 616c 6528 7365 6c66 2c20 706c 616e 6469  ale(self, plandi
-00027030: 722c 2063 6c75 7374 6572 2c20 6f76 6572  r, cluster, over
-00027040: 7269 6465 7329 0a0a 2020 2020 6465 6620  rides)..    def 
-00027050: 7363 616c 655f 6b75 6265 5f6f 7065 6e73  scale_kube_opens
-00027060: 6869 6674 2873 656c 662c 2063 6c75 7374  hift(self, clust
-00027070: 6572 2c20 6f76 6572 7269 6465 733d 7b7d  er, overrides={}
-00027080: 293a 0a20 2020 2020 2020 2070 6c61 6e64  ):.        pland
-00027090: 6972 203d 206f 732e 7061 7468 2e64 6972  ir = os.path.dir
-000270a0: 6e61 6d65 286f 7065 6e73 6869 6674 2e63  name(openshift.c
-000270b0: 7265 6174 652e 5f5f 636f 6465 5f5f 2e63  reate.__code__.c
-000270c0: 6f5f 6669 6c65 6e61 6d65 290a 2020 2020  o_filename).    
-000270d0: 2020 2020 7265 7475 726e 206f 7065 6e73      return opens
-000270e0: 6869 6674 2e73 6361 6c65 2873 656c 662c  hift.scale(self,
-000270f0: 2070 6c61 6e64 6972 2c20 636c 7573 7465   plandir, cluste
-00027100: 722c 206f 7665 7272 6964 6573 290a 0a20  r, overrides).. 
-00027110: 2020 2064 6566 2075 7064 6174 655f 6b75     def update_ku
-00027120: 6265 2873 656c 662c 2063 6c75 7374 6572  be(self, cluster
-00027130: 2c20 5f74 7970 652c 206f 7665 7272 6964  , _type, overrid
-00027140: 6573 3d7b 7d2c 2070 6c61 6e3d 4e6f 6e65  es={}, plan=None
-00027150: 293a 0a20 2020 2020 2020 206f 7665 7272  ):.        overr
-00027160: 6964 6573 5b27 736b 6970 5f66 696c 6573  ides['skip_files
-00027170: 5f72 656d 6564 6961 7469 6f6e 275d 203d  _remediation'] =
-00027180: 2054 7275 650a 2020 2020 2020 2020 6f76   True.        ov
-00027190: 6572 7269 6465 735b 2773 6361 6c65 275d  errides['scale']
-000271a0: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
-000271b0: 636c 7573 7465 7264 6972 203d 206f 732e  clusterdir = os.
-000271c0: 7061 7468 2e65 7870 616e 6475 7365 7228  path.expanduser(
-000271d0: 6622 7e2f 2e6b 636c 692f 636c 7573 7465  f"~/.kcli/cluste
-000271e0: 7273 2f7b 636c 7573 7465 727d 2229 0a20  rs/{cluster}"). 
-000271f0: 2020 2020 2020 2070 6c61 6e76 6d73 203d         planvms =
-00027200: 205b 5d0a 2020 2020 2020 2020 6966 2070   [].        if p
-00027210: 6c61 6e20 6973 204e 6f6e 653a 0a20 2020  lan is None:.   
-00027220: 2020 2020 2020 2020 2070 6c61 6e20 3d20           plan = 
-00027230: 636c 7573 7465 720a 2020 2020 2020 2020  cluster.        
-00027240: 6966 205f 7479 7065 203d 3d20 2767 656e  if _type == 'gen
-00027250: 6572 6963 273a 0a20 2020 2020 2020 2020  eric':.         
-00027260: 2020 2072 6f6c 6573 203d 205b 2763 746c     roles = ['ctl
-00027270: 706c 616e 6573 272c 2027 776f 726b 6572  planes', 'worker
-00027280: 7327 5d0a 2020 2020 2020 2020 2020 2020  s'].            
-00027290: 706c 616e 6469 7220 3d20 6f73 2e70 6174  plandir = os.pat
-000272a0: 682e 6469 726e 616d 6528 6b75 6265 6164  h.dirname(kubead
-000272b0: 6d2e 6372 6561 7465 2e5f 5f63 6f64 655f  m.create.__code_
-000272c0: 5f2e 636f 5f66 696c 656e 616d 6529 0a20  _.co_filename). 
-000272d0: 2020 2020 2020 2065 6c69 6620 5f74 7970         elif _typ
-000272e0: 6520 3d3d 2027 6b33 7327 3a0a 2020 2020  e == 'k3s':.    
-000272f0: 2020 2020 2020 2020 706c 616e 6469 7220          plandir 
-00027300: 3d20 6f73 2e70 6174 682e 6469 726e 616d  = os.path.dirnam
-00027310: 6528 6b33 732e 6372 6561 7465 2e5f 5f63  e(k3s.create.__c
-00027320: 6f64 655f 5f2e 636f 5f66 696c 656e 616d  ode__.co_filenam
-00027330: 6529 0a20 2020 2020 2020 2020 2020 2072  e).            r
-00027340: 6f6c 6573 203d 205b 2762 6f6f 7473 7472  oles = ['bootstr
-00027350: 6170 272c 2027 776f 726b 6572 7327 5d20  ap', 'workers'] 
-00027360: 6966 206f 7665 7272 6964 6573 2e67 6574  if overrides.get
-00027370: 2827 6374 6c70 6c61 6e65 7327 2c20 3129  ('ctlplanes', 1)
-00027380: 203d 3d20 3120 656c 7365 205b 2762 6f6f   == 1 else ['boo
-00027390: 7473 7472 6170 272c 2027 6374 6c70 6c61  tstrap', 'ctlpla
-000273a0: 6e65 7327 2c0a 2020 2020 2020 2020 2020  nes',.          
-000273b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000273c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000273d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000273e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000273f0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00027400: 776f 726b 6572 7327 5d0a 2020 2020 2020  workers'].      
-00027410: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00027420: 2020 2020 706c 616e 6469 7220 3d20 6f73      plandir = os
-00027430: 2e70 6174 682e 6469 726e 616d 6528 6f70  .path.dirname(op
-00027440: 656e 7368 6966 742e 6372 6561 7465 2e5f  enshift.create._
-00027450: 5f63 6f64 655f 5f2e 636f 5f66 696c 656e  _code__.co_filen
-00027460: 616d 6529 0a20 2020 2020 2020 2020 2020  ame).           
-00027470: 2072 6f6c 6573 203d 205b 2763 6c6f 7564   roles = ['cloud
-00027480: 5f63 746c 706c 616e 6573 272c 2027 636c  _ctlplanes', 'cl
-00027490: 6f75 645f 776f 726b 6572 7327 5d20 6966  oud_workers'] if
-000274a0: 2073 656c 662e 7479 7065 2069 6e20 5b27   self.type in ['
-000274b0: 6177 7327 2c20 2767 6370 275d 2065 6c73  aws', 'gcp'] els
-000274c0: 6520 5b27 6374 6c70 6c61 6e65 7327 2c20  e ['ctlplanes', 
-000274d0: 2777 6f72 6b65 7273 275d 0a20 2020 2020  'workers'].     
-000274e0: 2020 2069 6620 6f76 6572 7269 6465 732e     if overrides.
-000274f0: 6765 7428 2777 6f72 6b65 7273 272c 2030  get('workers', 0
-00027500: 2920 3d3d 2030 3a0a 2020 2020 2020 2020  ) == 0:.        
-00027510: 2020 2020 6465 6c20 726f 6c65 735b 2d31      del roles[-1
-00027520: 5d0a 2020 2020 2020 2020 6966 206f 732e  ].        if os.
-00027530: 7061 7468 2e65 7869 7374 7328 6622 7b63  path.exists(f"{c
-00027540: 6c75 7374 6572 6469 727d 2f6b 636c 695f  lusterdir}/kcli_
-00027550: 7061 7261 6d65 7465 7273 2e79 6d6c 2229  parameters.yml")
-00027560: 3a0a 2020 2020 2020 2020 2020 2020 6461  :.            da
-00027570: 7461 203d 207b 2763 6c75 7374 6572 273a  ta = {'cluster':
-00027580: 2063 6c75 7374 6572 2c20 276b 7562 6527   cluster, 'kube'
-00027590: 3a20 636c 7573 7465 722c 2027 6b75 6265  : cluster, 'kube
-000275a0: 7479 7065 273a 205f 7479 7065 7d0a 2020  type': _type}.  
-000275b0: 2020 2020 2020 2020 2020 7769 7468 206f            with o
-000275c0: 7065 6e28 6622 7b63 6c75 7374 6572 6469  pen(f"{clusterdi
-000275d0: 727d 2f6b 636c 695f 7061 7261 6d65 7465  r}/kcli_paramete
-000275e0: 7273 2e79 6d6c 222c 2027 7227 2920 6173  rs.yml", 'r') as
-000275f0: 2069 6e73 7461 6c6c 3a0a 2020 2020 2020   install:.      
-00027600: 2020 2020 2020 2020 2020 696e 7374 616c            instal
-00027610: 6c70 6172 616d 203d 2079 616d 6c2e 7361  lparam = yaml.sa
-00027620: 6665 5f6c 6f61 6428 696e 7374 616c 6c29  fe_load(install)
-00027630: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00027640: 2064 6174 612e 7570 6461 7465 2869 6e73   data.update(ins
-00027650: 7461 6c6c 7061 7261 6d29 0a20 2020 2020  tallparam).     
-00027660: 2020 2020 2020 2020 2020 2070 6c61 6e20             plan 
-00027670: 3d20 696e 7374 616c 6c70 6172 616d 2e67  = installparam.g
-00027680: 6574 2827 706c 616e 272c 2070 6c61 6e29  et('plan', plan)
-00027690: 0a20 2020 2020 2020 2020 2020 2064 6174  .            dat
-000276a0: 612e 7570 6461 7465 286f 7665 7272 6964  a.update(overrid
-000276b0: 6573 290a 2020 2020 2020 2020 2020 2020  es).            
-000276c0: 7769 7468 206f 7065 6e28 6622 7b63 6c75  with open(f"{clu
-000276d0: 7374 6572 6469 727d 2f6b 636c 695f 7061  sterdir}/kcli_pa
-000276e0: 7261 6d65 7465 7273 2e79 6d6c 222c 2027  rameters.yml", '
-000276f0: 7727 2920 6173 2070 6172 616d 6669 6c65  w') as paramfile
-00027700: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00027710: 2020 7961 6d6c 2e73 6166 655f 6475 6d70    yaml.safe_dump
-00027720: 2864 6174 612c 2070 6172 616d 6669 6c65  (data, paramfile
-00027730: 290a 2020 2020 2020 2020 6f73 2e63 6864  ).        os.chd
-00027740: 6972 286f 732e 7061 7468 2e65 7870 616e  ir(os.path.expan
-00027750: 6475 7365 7228 227e 2f2e 6b63 6c69 2229  duser("~/.kcli")
-00027760: 290a 2020 2020 2020 2020 666f 7220 726f  ).        for ro
-00027770: 6c65 2069 6e20 726f 6c65 733a 0a20 2020  le in roles:.   
-00027780: 2020 2020 2020 2020 2070 7072 696e 7428           pprint(
-00027790: 6622 5570 6461 7469 6e67 2076 6d73 2077  f"Updating vms w
-000277a0: 6974 6820 7b72 6f6c 657d 2072 6f6c 6522  ith {role} role"
-000277b0: 290a 2020 2020 2020 2020 2020 2020 706c  ).            pl
-000277c0: 616e 6461 7461 203d 2073 656c 662e 706c  andata = self.pl
-000277d0: 616e 2870 6c61 6e2c 2069 6e70 7574 6669  an(plan, inputfi
-000277e0: 6c65 3d66 277b 706c 616e 6469 727d 2f7b  le=f'{plandir}/{
-000277f0: 726f 6c65 7d2e 796d 6c27 2c20 6f76 6572  role}.yml', over
-00027800: 7269 6465 733d 6f76 6572 7269 6465 732c  rides=overrides,
-00027810: 2075 7064 6174 653d 5472 7565 290a 2020   update=True).  
-00027820: 2020 2020 2020 2020 2020 706c 616e 766d            planvm
-00027830: 732e 6578 7465 6e64 2870 6c61 6e64 6174  s.extend(plandat
-00027840: 615b 276e 6577 766d 7327 5d20 2b20 706c  a['newvms'] + pl
-00027850: 616e 6461 7461 5b27 6578 6973 7469 6e67  andata['existing
-00027860: 766d 7327 5d29 0a20 2020 2020 2020 206f  vms']).        o
-00027870: 732e 656e 7669 726f 6e5b 274b 5542 4543  s.environ['KUBEC
-00027880: 4f4e 4649 4727 5d20 3d20 6622 7b63 6c75  ONFIG'] = f"{clu
-00027890: 7374 6572 6469 727d 2f61 7574 682f 6b75  sterdir}/auth/ku
-000278a0: 6265 636f 6e66 6967 220a 2020 2020 2020  beconfig".      
-000278b0: 2020 6269 6e61 7279 203d 2027 6f63 2720    binary = 'oc' 
-000278c0: 6966 2077 6869 6368 2827 6f63 2729 2069  if which('oc') i
-000278d0: 7320 6e6f 7420 4e6f 6e65 2065 6c73 6520  s not None else 
-000278e0: 276b 7562 6563 746c 270a 2020 2020 2020  'kubectl'.      
-000278f0: 2020 6e6f 6465 7363 6d64 203d 2066 277b    nodescmd = f'{
-00027900: 6269 6e61 7279 7d20 6765 7420 6e6f 6465  binary} get node
-00027910: 202d 6f20 6e61 6d65 270a 2020 2020 2020   -o name'.      
-00027920: 2020 6e6f 6465 7320 3d20 5b6e 2e73 7472    nodes = [n.str
-00027930: 6970 2829 2e72 6570 6c61 6365 2827 6e6f  ip().replace('no
-00027940: 6465 2f27 2c20 2727 2920 666f 7220 6e20  de/', '') for n 
-00027950: 696e 206f 732e 706f 7065 6e28 6e6f 6465  in os.popen(node
-00027960: 7363 6d64 292e 7265 6164 6c69 6e65 7328  scmd).readlines(
-00027970: 295d 0a20 2020 2020 2020 2066 6f72 2076  )].        for v
-00027980: 6d20 696e 2073 656c 662e 6b2e 6c69 7374  m in self.k.list
-00027990: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
-000279a0: 766d 6e61 6d65 203d 2076 6d5b 276e 616d  vmname = vm['nam
-000279b0: 6527 5d0a 2020 2020 2020 2020 2020 2020  e'].            
-000279c0: 766d 706c 616e 203d 2076 6d2e 6765 7428  vmplan = vm.get(
-000279d0: 2770 6c61 6e27 2c20 276b 7669 7274 2729  'plan', 'kvirt')
-000279e0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-000279f0: 766d 706c 616e 203d 3d20 706c 616e 2061  vmplan == plan a
-00027a00: 6e64 2076 6d6e 616d 6520 6e6f 7420 696e  nd vmname not in
-00027a10: 2070 6c61 6e76 6d73 3a0a 2020 2020 2020   planvms:.      
-00027a20: 2020 2020 2020 2020 2020 7070 7269 6e74            pprint
-00027a30: 2866 2244 656c 6574 696e 6720 766d 207b  (f"Deleting vm {
-00027a40: 766d 6e61 6d65 7d22 290a 2020 2020 2020  vmname}").      
-00027a50: 2020 2020 2020 2020 2020 7365 6c66 2e6b            self.k
-00027a60: 2e64 656c 6574 6528 766d 6e61 6d65 290a  .delete(vmname).
-00027a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027a80: 666f 7220 6e6f 6465 2069 6e20 6e6f 6465  for node in node
-00027a90: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-00027aa0: 2020 2020 2020 2069 6620 6e6f 6465 2e73         if node.s
-00027ab0: 706c 6974 2827 2e27 295b 305d 203d 3d20  plit('.')[0] == 
-00027ac0: 766d 6e61 6d65 3a0a 2020 2020 2020 2020  vmname:.        
-00027ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027ae0: 7070 7269 6e74 2866 2244 656c 6574 696e  pprint(f"Deletin
-00027af0: 6720 6e6f 6465 207b 6e6f 6465 7d20 6672  g node {node} fr
-00027b00: 6f6d 2079 6f75 7220 636c 7573 7465 7222  om your cluster"
-00027b10: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00027b20: 2020 2020 2020 2020 2020 6361 6c6c 2866            call(f
-00027b30: 277b 6269 6e61 7279 7d20 6465 6c65 7465  '{binary} delete
-00027b40: 206e 6f64 6520 7b6e 6f64 657d 272c 2073   node {node}', s
-00027b50: 6865 6c6c 3d54 7275 6529 0a20 2020 2020  hell=True).     
-00027b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027b70: 2020 2062 7265 616b 0a0a 2020 2020 6465     break..    de
-00027b80: 6620 6578 706f 7365 5f70 6c61 6e28 7365  f expose_plan(se
-00027b90: 6c66 2c20 706c 616e 2c20 696e 7075 7466  lf, plan, inputf
-00027ba0: 696c 653d 4e6f 6e65 2c20 6f76 6572 7269  ile=None, overri
-00027bb0: 6465 733d 7b7d 2c20 706f 7274 3d39 3030  des={}, port=900
-00027bc0: 302c 2070 666d 6f64 653d 4661 6c73 652c  0, pfmode=False,
-00027bd0: 2063 6c75 7374 6572 3d46 616c 7365 293a   cluster=False):
-00027be0: 0a20 2020 2020 2020 2069 6e70 7574 6669  .        inputfi
-00027bf0: 6c65 203d 206f 732e 7061 7468 2e65 7870  le = os.path.exp
-00027c00: 616e 6475 7365 7228 696e 7075 7466 696c  anduser(inputfil
-00027c10: 6529 0a20 2020 2020 2020 2069 6620 6e6f  e).        if no
-00027c20: 7420 6f73 2e70 6174 682e 6578 6973 7473  t os.path.exists
-00027c30: 2869 6e70 7574 6669 6c65 293a 0a20 2020  (inputfile):.   
-00027c40: 2020 2020 2020 2020 2065 7272 6f72 2822           error("
-00027c50: 4e6f 2069 6e70 7574 2066 696c 6520 666f  No input file fo
-00027c60: 756e 6420 6e6f 7220 6465 6661 756c 7420  und nor default 
-00027c70: 6b63 6c69 5f70 6c61 6e2e 796d 6c2e 4c65  kcli_plan.yml.Le
-00027c80: 6176 696e 672e 2e2e 2e22 290a 2020 2020  aving....").    
-00027c90: 2020 2020 2020 2020 7379 732e 6578 6974          sys.exit
-00027ca0: 2831 290a 2020 2020 2020 2020 7070 7269  (1).        ppri
-00027cb0: 6e74 2866 2248 616e 646c 696e 6720 6578  nt(f"Handling ex
-00027cc0: 706f 7365 206f 6620 706c 616e 2077 6974  pose of plan wit
-00027cd0: 6820 6e61 6d65 207b 706c 616e 7d20 616e  h name {plan} an
-00027ce0: 6420 696e 7075 7466 696c 6520 7b69 6e70  d inputfile {inp
-00027cf0: 7574 6669 6c65 7d22 290a 2020 2020 2020  utfile}").      
-00027d00: 2020 6b65 7870 6f73 6572 203d 204b 6578    kexposer = Kex
-00027d10: 706f 7365 7228 7365 6c66 2c20 706c 616e  poser(self, plan
-00027d20: 2c20 696e 7075 7466 696c 652c 206f 7665  , inputfile, ove
-00027d30: 7272 6964 6573 3d6f 7665 7272 6964 6573  rrides=overrides
-00027d40: 2c20 706f 7274 3d70 6f72 742c 2070 666d  , port=port, pfm
-00027d50: 6f64 653d 7066 6d6f 6465 2c20 636c 7573  ode=pfmode, clus
-00027d60: 7465 723d 636c 7573 7465 7229 0a20 2020  ter=cluster).   
-00027d70: 2020 2020 206b 6578 706f 7365 722e 7275       kexposer.ru
-00027d80: 6e28 290a 0a20 2020 2064 6566 2063 7265  n()..    def cre
-00027d90: 6174 655f 6f70 656e 7368 6966 745f 6973  ate_openshift_is
-00027da0: 6f28 7365 6c66 2c20 636c 7573 7465 722c  o(self, cluster,
-00027db0: 206f 7665 7272 6964 6573 3d7b 7d2c 2069   overrides={}, i
-00027dc0: 676e 6974 696f 6e66 696c 653d 4e6f 6e65  gnitionfile=None
-00027dd0: 2c20 706f 646d 616e 3d46 616c 7365 2c20  , podman=False, 
-00027de0: 696e 7374 616c 6c65 723d 4661 6c73 652c  installer=False,
-00027df0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00027e00: 2020 2020 2020 2020 2020 2020 2020 6469                di
-00027e10: 7265 6374 3d46 616c 7365 293a 0a20 2020  rect=False):.   
-00027e20: 2020 2020 206d 6574 616c 5f75 726c 203d       metal_url =
-00027e30: 204e 6f6e 650a 2020 2020 2020 2020 6973   None.        is
-00027e40: 6f5f 7665 7273 696f 6e20 3d20 7374 7228  o_version = str(
-00027e50: 6f76 6572 7269 6465 732e 6765 7428 2776  overrides.get('v
-00027e60: 6572 7369 6f6e 272c 2027 6c61 7465 7374  ersion', 'latest
-00027e70: 2729 290a 2020 2020 2020 2020 6966 206e  ')).        if n
-00027e80: 6f74 2069 6e73 7461 6c6c 6572 3a0a 2020  ot installer:.  
-00027e90: 2020 2020 2020 2020 2020 6966 2069 736f            if iso
-00027ea0: 5f76 6572 7369 6f6e 206e 6f74 2069 6e20  _version not in 
-00027eb0: 5b27 6c61 7465 7374 272c 2027 7072 652d  ['latest', 'pre-
-00027ec0: 7265 6c65 6173 6527 5d20 616e 6420 6e6f  release'] and no
-00027ed0: 7420 6973 6f5f 7665 7273 696f 6e2e 7374  t iso_version.st
-00027ee0: 6172 7473 7769 7468 2827 342e 2729 3a0a  artswith('4.'):.
-00027ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027f00: 7761 726e 696e 6728 2246 6f72 6369 6e67  warning("Forcing
-00027f10: 206c 6976 6520 6973 6f20 7665 7273 696f   live iso versio
-00027f20: 6e20 746f 206c 6174 6573 7422 290a 2020  n to latest").  
-00027f30: 2020 2020 2020 2020 2020 2020 2020 6973                is
-00027f40: 6f5f 7665 7273 696f 6e20 3d20 276c 6174  o_version = 'lat
-00027f50: 6573 7427 0a20 2020 2020 2020 2020 2020  est'.           
-00027f60: 2065 6c69 6620 6973 6f5f 7665 7273 696f   elif iso_versio
-00027f70: 6e2e 7374 6172 7473 7769 7468 2827 342e  n.startswith('4.
-00027f80: 2729 3a0a 2020 2020 2020 2020 2020 2020  '):.            
-00027f90: 2020 2020 6d69 6e6f 725f 7665 7273 696f      minor_versio
-00027fa0: 6e20 3d20 6973 6f5f 7665 7273 696f 6e2e  n = iso_version.
-00027fb0: 7370 6c69 7428 272e 2729 5b31 5d0a 2020  split('.')[1].  
-00027fc0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00027fd0: 206d 696e 6f72 5f76 6572 7369 6f6e 2e69   minor_version.i
-00027fe0: 7364 6967 6974 2829 2061 6e64 2069 6e74  sdigit() and int
-00027ff0: 286d 696e 6f72 5f76 6572 7369 6f6e 2920  (minor_version) 
-00028000: 3c20 363a 0a20 2020 2020 2020 2020 2020  < 6:.           
-00028010: 2020 2020 2020 2020 206d 6574 616c 5f75           metal_u
-00028020: 726c 203d 2066 2268 7474 7073 3a2f 2f6d  rl = f"https://m
-00028030: 6972 726f 722e 6f70 656e 7368 6966 742e  irror.openshift.
-00028040: 636f 6d2f 7075 622f 6f70 656e 7368 6966  com/pub/openshif
-00028050: 742d 7634 2f64 6570 656e 6465 6e63 6965  t-v4/dependencie
-00028060: 732f 7268 636f 732f 7b69 736f 5f76 6572  s/rhcos/{iso_ver
-00028070: 7369 6f6e 7d2f 6c61 7465 7374 220a 2020  sion}/latest".  
-00028080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028090: 2020 6d65 7461 6c5f 7572 6c20 2b3d 2022    metal_url += "
-000280a0: 2f72 6863 6f73 2d6d 6574 616c 2e78 3836  /rhcos-metal.x86
-000280b0: 5f36 342e 7261 772e 677a 220a 2020 2020  _64.raw.gz".    
-000280c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000280d0: 7761 726e 696e 6728 2245 6d62 6564 6469  warning("Embeddi
-000280e0: 6e67 206d 6574 616c 2075 726c 2069 6e20  ng metal url in 
-000280f0: 6973 6f20 666f 7220 7461 7267 6574 2076  iso for target v
-00028100: 6572 7369 6f6e 2061 6e64 2069 6e73 7461  ersion and insta
-00028110: 6c6c 696e 6720 7769 7468 2061 206d 6f72  lling with a mor
-00028120: 6520 7265 6365 6e74 2069 736f 2229 0a20  e recent iso"). 
-00028130: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00028140: 736f 5f76 6572 7369 6f6e 203d 2027 6c61  so_version = 'la
-00028150: 7465 7374 270a 2020 2020 2020 2020 6170  test'.        ap
-00028160: 695f 6970 203d 206f 7665 7272 6964 6573  i_ip = overrides
-00028170: 2e67 6574 2827 6170 695f 6970 2729 0a20  .get('api_ip'). 
-00028180: 2020 2020 2020 2069 676e 6974 696f 6e5f         ignition_
-00028190: 7665 7273 696f 6e20 3d20 6f76 6572 7269  version = overri
-000281a0: 6465 732e 6765 7428 2769 676e 6974 696f  des.get('ignitio
-000281b0: 6e5f 7665 7273 696f 6e27 2c0a 2020 2020  n_version',.    
-000281c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000281d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000281e0: 2020 2020 2063 6f6d 6d6f 6e2e 6967 6e69       common.igni
-000281f0: 7469 6f6e 5f76 6572 7369 6f6e 2822 7268  tion_version("rh
-00028200: 636f 732d 2573 2220 2520 6973 6f5f 7665  cos-%s" % iso_ve
-00028210: 7273 696f 6e2e 7265 706c 6163 6528 272e  rsion.replace('.
-00028220: 272c 2027 2729 2929 0a20 2020 2020 2020  ', ''))).       
-00028230: 2072 6f6c 6520 3d20 6f76 6572 7269 6465   role = override
-00028240: 732e 6765 7428 2772 6f6c 6527 2c20 2777  s.get('role', 'w
-00028250: 6f72 6b65 7227 290a 2020 2020 2020 2020  orker').        
-00028260: 6973 6f20 3d20 6f76 6572 7269 6465 732e  iso = overrides.
-00028270: 6765 7428 2769 736f 272c 2054 7275 6529  get('iso', True)
-00028280: 0a20 2020 2020 2020 2064 6f6d 6169 6e20  .        domain 
-00028290: 3d20 6f76 6572 7269 6465 732e 6765 7428  = overrides.get(
-000282a0: 2764 6f6d 6169 6e27 290a 2020 2020 2020  'domain').      
-000282b0: 2020 6966 2027 2e27 2069 6e20 636c 7573    if '.' in clus
-000282c0: 7465 723a 0a20 2020 2020 2020 2020 2020  ter:.           
-000282d0: 2064 6f6d 6169 6e20 3d20 272e 272e 6a6f   domain = '.'.jo
-000282e0: 696e 2863 6c75 7374 6572 2e73 706c 6974  in(cluster.split
-000282f0: 2827 2e27 295b 313a 5d29 0a20 2020 2020  ('.')[1:]).     
-00028300: 2020 2020 2020 2070 7072 696e 7428 6622         pprint(f"
-00028310: 5573 696e 6720 646f 6d61 696e 207b 646f  Using domain {do
-00028320: 6d61 696e 7d22 290a 2020 2020 2020 2020  main}").        
-00028330: 2020 2020 636c 7573 7465 7220 3d20 636c      cluster = cl
-00028340: 7573 7465 722e 7265 706c 6163 6528 6622  uster.replace(f"
-00028350: 2e7b 646f 6d61 696e 7d22 2c20 2727 290a  .{domain}", '').
-00028360: 2020 2020 2020 2020 6966 2063 6c75 7374          if clust
-00028370: 6572 2e73 7461 7274 7377 6974 6828 2761  er.startswith('a
-00028380: 7069 2e27 293a 0a20 2020 2020 2020 2020  pi.'):.         
-00028390: 2020 2063 6c75 7374 6572 203d 2063 6c75     cluster = clu
-000283a0: 7374 6572 2e72 6570 6c61 6365 2822 6170  ster.replace("ap
-000283b0: 692e 222c 2027 2729 0a20 2020 2020 2020  i.", '').       
-000283c0: 2020 2020 2070 7072 696e 7428 6622 5573       pprint(f"Us
-000283d0: 696e 6720 636c 7573 7465 7220 7b63 6c75  ing cluster {clu
-000283e0: 7374 6572 7d22 290a 2020 2020 2020 2020  ster}").        
-000283f0: 686f 7374 735f 636f 6e74 656e 7420 3d20  hosts_content = 
-00028400: 4e6f 6e65 0a20 2020 2020 2020 2066 696e  None.        fin
-00028410: 616c 6461 7461 203d 204e 6f6e 650a 2020  aldata = None.  
-00028420: 2020 2020 2020 6966 2069 676e 6974 696f        if ignitio
-00028430: 6e66 696c 6520 6973 206e 6f74 204e 6f6e  nfile is not Non
-00028440: 653a 0a20 2020 2020 2020 2020 2020 2069  e:.            i
-00028450: 6620 6e6f 7420 6f73 2e70 6174 682e 6578  f not os.path.ex
-00028460: 6973 7473 2869 676e 6974 696f 6e66 696c  ists(ignitionfil
-00028470: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-00028480: 2020 2020 6572 726f 7228 6622 7b69 676e      error(f"{ign
-00028490: 6974 696f 6e66 696c 657d 206e 6f74 2066  itionfile} not f
-000284a0: 6f75 6e64 2229 0a20 2020 2020 2020 2020  ound").         
-000284b0: 2020 2020 2020 2073 7973 2e65 7869 7428         sys.exit(
-000284c0: 3129 0a20 2020 2020 2020 2020 2020 2066  1).            f
-000284d0: 696e 616c 6461 7461 203d 206f 7065 6e28  inaldata = open(
-000284e0: 6967 6e69 7469 6f6e 6669 6c65 292e 7265  ignitionfile).re
-000284f0: 6164 2829 0a20 2020 2020 2020 2065 6c73  ad().        els
-00028500: 653a 0a20 2020 2020 2020 2020 2020 2069  e:.            i
-00028510: 676e 6974 696f 6e66 696c 6520 3d20 6622  gnitionfile = f"
-00028520: 7b72 6f6c 657d 2e69 676e 220a 2020 2020  {role}.ign".    
-00028530: 2020 2020 2020 2020 6966 206f 732e 7061          if os.pa
-00028540: 7468 2e65 7869 7374 7328 6967 6e69 7469  th.exists(igniti
-00028550: 6f6e 6669 6c65 293a 0a20 2020 2020 2020  onfile):.       
-00028560: 2020 2020 2020 2020 2077 6172 6e69 6e67           warning
-00028570: 2866 2255 7369 6e67 2065 7869 7374 696e  (f"Using existin
-00028580: 6720 7b69 676e 6974 696f 6e66 696c 657d  g {ignitionfile}
-00028590: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-000285a0: 2020 2066 696e 616c 6461 7461 203d 206f     finaldata = o
-000285b0: 7065 6e28 6967 6e69 7469 6f6e 6669 6c65  pen(ignitionfile
-000285c0: 292e 7265 6164 2829 0a20 2020 2020 2020  ).read().       
-000285d0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-000285e0: 2020 2020 2020 2020 2020 2069 6620 6170             if ap
-000285f0: 695f 6970 2069 7320 4e6f 6e65 3a0a 2020  i_ip is None:.  
-00028600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028610: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-00028620: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00028630: 7069 5f69 7020 3d20 736f 636b 6574 2e67  pi_ip = socket.g
-00028640: 6574 686f 7374 6279 6e61 6d65 2866 2761  ethostbyname(f'a
-00028650: 7069 2e7b 636c 7573 7465 727d 2e7b 646f  pi.{cluster}.{do
-00028660: 6d61 696e 7d27 290a 2020 2020 2020 2020  main}').        
-00028670: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-00028680: 7074 3a0a 2020 2020 2020 2020 2020 2020  pt:.            
-00028690: 2020 2020 2020 2020 2020 2020 7061 7373              pass
-000286a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000286b0: 2069 6620 6170 695f 6970 2069 7320 4e6f   if api_ip is No
-000286c0: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-000286d0: 2020 2020 2020 2020 6966 2064 6f6d 6169          if domai
-000286e0: 6e20 6973 204e 6f6e 653a 0a20 2020 2020  n is None:.     
-000286f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028700: 2020 2065 7272 6f72 2822 436f 756c 646e     error("Couldn
-00028710: 2774 2066 6967 7572 6520 6f75 7420 6170  't figure out ap
-00028720: 695f 6970 206e 6f72 2072 656c 7920 6f6e  i_ip nor rely on
-00028730: 2064 6e73 2073 696e 6365 2064 6f6d 6169   dns since domai
-00028740: 6e20 6973 206e 6f74 2073 6574 2229 0a20  n is not set"). 
-00028750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028760: 2020 2020 2020 2073 7973 2e65 7869 7428         sys.exit(
-00028770: 3129 0a20 2020 2020 2020 2020 2020 2020  1).             
-00028780: 2020 2020 2020 2077 6172 6e69 6e67 2822         warning("
-00028790: 436f 756c 646e 2774 2066 6967 7572 6520  Couldn't figure 
-000287a0: 6f75 7420 6170 695f 6970 2e20 5265 6c79  out api_ip. Rely
-000287b0: 696e 6720 6f6e 2064 6e73 2229 0a20 2020  ing on dns").   
+00026d40: 6879 7065 7273 6869 6674 2863 6c75 7374  hypershift(clust
+00026d50: 6572 2c20 6f76 6572 7269 6465 733d 6f76  er, overrides=ov
+00026d60: 6572 7269 6465 7329 0a20 2020 2020 2020  errides).       
+00026d70: 2065 6c69 6620 6b75 6265 7479 7065 203d   elif kubetype =
+00026d80: 3d20 2767 6b65 273a 0a20 2020 2020 2020  = 'gke':.       
+00026d90: 2020 2020 2072 6573 756c 7420 3d20 7365       result = se
+00026da0: 6c66 2e73 6361 6c65 5f6b 7562 655f 676b  lf.scale_kube_gk
+00026db0: 6528 636c 7573 7465 722c 206f 7665 7272  e(cluster, overr
+00026dc0: 6964 6573 3d6f 7665 7272 6964 6573 290a  ides=overrides).
+00026dd0: 2020 2020 2020 2020 7265 7475 726e 2072          return r
+00026de0: 6573 756c 740a 0a20 2020 2064 6566 2073  esult..    def s
+00026df0: 6361 6c65 5f6b 7562 655f 6765 6e65 7269  cale_kube_generi
+00026e00: 6328 7365 6c66 2c20 636c 7573 7465 722c  c(self, cluster,
+00026e10: 206f 7665 7272 6964 6573 3d7b 7d29 3a0a   overrides={}):.
+00026e20: 2020 2020 2020 2020 706c 616e 6469 7220          plandir 
+00026e30: 3d20 6f73 2e70 6174 682e 6469 726e 616d  = os.path.dirnam
+00026e40: 6528 6b75 6265 6164 6d2e 6372 6561 7465  e(kubeadm.create
+00026e50: 2e5f 5f63 6f64 655f 5f2e 636f 5f66 696c  .__code__.co_fil
+00026e60: 656e 616d 6529 0a20 2020 2020 2020 2072  ename).        r
+00026e70: 6574 7572 6e20 6b75 6265 6164 6d2e 7363  eturn kubeadm.sc
+00026e80: 616c 6528 7365 6c66 2c20 706c 616e 6469  ale(self, plandi
+00026e90: 722c 2063 6c75 7374 6572 2c20 6f76 6572  r, cluster, over
+00026ea0: 7269 6465 7329 0a0a 2020 2020 6465 6620  rides)..    def 
+00026eb0: 7363 616c 655f 6b75 6265 5f67 6b65 2873  scale_kube_gke(s
+00026ec0: 656c 662c 2063 6c75 7374 6572 2c20 6f76  elf, cluster, ov
+00026ed0: 6572 7269 6465 733d 7b7d 293a 0a20 2020  errides={}):.   
+00026ee0: 2020 2020 2066 726f 6d20 6b76 6972 742e       from kvirt.
+00026ef0: 636c 7573 7465 7220 696d 706f 7274 2067  cluster import g
+00026f00: 6b65 0a20 2020 2020 2020 2072 6574 7572  ke.        retur
+00026f10: 6e20 676b 652e 7363 616c 6528 7365 6c66  n gke.scale(self
+00026f20: 2c20 636c 7573 7465 722c 206f 7665 7272  , cluster, overr
+00026f30: 6964 6573 290a 0a20 2020 2064 6566 2073  ides)..    def s
+00026f40: 6361 6c65 5f6b 7562 655f 6879 7065 7273  cale_kube_hypers
+00026f50: 6869 6674 2873 656c 662c 2063 6c75 7374  hift(self, clust
+00026f60: 6572 2c20 6f76 6572 7269 6465 733d 7b7d  er, overrides={}
+00026f70: 293a 0a20 2020 2020 2020 2070 6c61 6e64  ):.        pland
+00026f80: 6972 203d 206f 732e 7061 7468 2e64 6972  ir = os.path.dir
+00026f90: 6e61 6d65 2868 7970 6572 7368 6966 742e  name(hypershift.
+00026fa0: 6372 6561 7465 2e5f 5f63 6f64 655f 5f2e  create.__code__.
+00026fb0: 636f 5f66 696c 656e 616d 6529 0a20 2020  co_filename).   
+00026fc0: 2020 2020 2072 6574 7572 6e20 6879 7065       return hype
+00026fd0: 7273 6869 6674 2e73 6361 6c65 2873 656c  rshift.scale(sel
+00026fe0: 662c 2070 6c61 6e64 6972 2c20 636c 7573  f, plandir, clus
+00026ff0: 7465 722c 206f 7665 7272 6964 6573 290a  ter, overrides).
+00027000: 0a20 2020 2064 6566 2073 6361 6c65 5f6b  .    def scale_k
+00027010: 7562 655f 6b33 7328 7365 6c66 2c20 636c  ube_k3s(self, cl
+00027020: 7573 7465 722c 206f 7665 7272 6964 6573  uster, overrides
+00027030: 3d7b 7d29 3a0a 2020 2020 2020 2020 706c  ={}):.        pl
+00027040: 616e 6469 7220 3d20 6f73 2e70 6174 682e  andir = os.path.
+00027050: 6469 726e 616d 6528 6b33 732e 6372 6561  dirname(k3s.crea
+00027060: 7465 2e5f 5f63 6f64 655f 5f2e 636f 5f66  te.__code__.co_f
+00027070: 696c 656e 616d 6529 0a20 2020 2020 2020  ilename).       
+00027080: 2072 6574 7572 6e20 6b33 732e 7363 616c   return k3s.scal
+00027090: 6528 7365 6c66 2c20 706c 616e 6469 722c  e(self, plandir,
+000270a0: 2063 6c75 7374 6572 2c20 6f76 6572 7269   cluster, overri
+000270b0: 6465 7329 0a0a 2020 2020 6465 6620 7363  des)..    def sc
+000270c0: 616c 655f 6b75 6265 5f6f 7065 6e73 6869  ale_kube_openshi
+000270d0: 6674 2873 656c 662c 2063 6c75 7374 6572  ft(self, cluster
+000270e0: 2c20 6f76 6572 7269 6465 733d 7b7d 293a  , overrides={}):
+000270f0: 0a20 2020 2020 2020 2070 6c61 6e64 6972  .        plandir
+00027100: 203d 206f 732e 7061 7468 2e64 6972 6e61   = os.path.dirna
+00027110: 6d65 286f 7065 6e73 6869 6674 2e63 7265  me(openshift.cre
+00027120: 6174 652e 5f5f 636f 6465 5f5f 2e63 6f5f  ate.__code__.co_
+00027130: 6669 6c65 6e61 6d65 290a 2020 2020 2020  filename).      
+00027140: 2020 7265 7475 726e 206f 7065 6e73 6869    return openshi
+00027150: 6674 2e73 6361 6c65 2873 656c 662c 2070  ft.scale(self, p
+00027160: 6c61 6e64 6972 2c20 636c 7573 7465 722c  landir, cluster,
+00027170: 206f 7665 7272 6964 6573 290a 0a20 2020   overrides)..   
+00027180: 2064 6566 2075 7064 6174 655f 6b75 6265   def update_kube
+00027190: 2873 656c 662c 2063 6c75 7374 6572 2c20  (self, cluster, 
+000271a0: 5f74 7970 652c 206f 7665 7272 6964 6573  _type, overrides
+000271b0: 3d7b 7d2c 2070 6c61 6e3d 4e6f 6e65 293a  ={}, plan=None):
+000271c0: 0a20 2020 2020 2020 206f 7665 7272 6964  .        overrid
+000271d0: 6573 5b27 736b 6970 5f66 696c 6573 5f72  es['skip_files_r
+000271e0: 656d 6564 6961 7469 6f6e 275d 203d 2054  emediation'] = T
+000271f0: 7275 650a 2020 2020 2020 2020 6f76 6572  rue.        over
+00027200: 7269 6465 735b 2773 6361 6c65 275d 203d  rides['scale'] =
+00027210: 2054 7275 650a 2020 2020 2020 2020 636c   True.        cl
+00027220: 7573 7465 7264 6972 203d 206f 732e 7061  usterdir = os.pa
+00027230: 7468 2e65 7870 616e 6475 7365 7228 6622  th.expanduser(f"
+00027240: 7e2f 2e6b 636c 692f 636c 7573 7465 7273  ~/.kcli/clusters
+00027250: 2f7b 636c 7573 7465 727d 2229 0a20 2020  /{cluster}").   
+00027260: 2020 2020 2070 6c61 6e76 6d73 203d 205b       planvms = [
+00027270: 5d0a 2020 2020 2020 2020 6966 2070 6c61  ].        if pla
+00027280: 6e20 6973 204e 6f6e 653a 0a20 2020 2020  n is None:.     
+00027290: 2020 2020 2020 2070 6c61 6e20 3d20 636c         plan = cl
+000272a0: 7573 7465 720a 2020 2020 2020 2020 6966  uster.        if
+000272b0: 205f 7479 7065 203d 3d20 2767 656e 6572   _type == 'gener
+000272c0: 6963 273a 0a20 2020 2020 2020 2020 2020  ic':.           
+000272d0: 2072 6f6c 6573 203d 205b 2763 746c 706c   roles = ['ctlpl
+000272e0: 616e 6573 272c 2027 776f 726b 6572 7327  anes', 'workers'
+000272f0: 5d0a 2020 2020 2020 2020 2020 2020 706c  ].            pl
+00027300: 616e 6469 7220 3d20 6f73 2e70 6174 682e  andir = os.path.
+00027310: 6469 726e 616d 6528 6b75 6265 6164 6d2e  dirname(kubeadm.
+00027320: 6372 6561 7465 2e5f 5f63 6f64 655f 5f2e  create.__code__.
+00027330: 636f 5f66 696c 656e 616d 6529 0a20 2020  co_filename).   
+00027340: 2020 2020 2065 6c69 6620 5f74 7970 6520       elif _type 
+00027350: 3d3d 2027 6b33 7327 3a0a 2020 2020 2020  == 'k3s':.      
+00027360: 2020 2020 2020 706c 616e 6469 7220 3d20        plandir = 
+00027370: 6f73 2e70 6174 682e 6469 726e 616d 6528  os.path.dirname(
+00027380: 6b33 732e 6372 6561 7465 2e5f 5f63 6f64  k3s.create.__cod
+00027390: 655f 5f2e 636f 5f66 696c 656e 616d 6529  e__.co_filename)
+000273a0: 0a20 2020 2020 2020 2020 2020 2072 6f6c  .            rol
+000273b0: 6573 203d 205b 2762 6f6f 7473 7472 6170  es = ['bootstrap
+000273c0: 272c 2027 776f 726b 6572 7327 5d20 6966  ', 'workers'] if
+000273d0: 206f 7665 7272 6964 6573 2e67 6574 2827   overrides.get('
+000273e0: 6374 6c70 6c61 6e65 7327 2c20 3129 203d  ctlplanes', 1) =
+000273f0: 3d20 3120 656c 7365 205b 2762 6f6f 7473  = 1 else ['boots
+00027400: 7472 6170 272c 2027 6374 6c70 6c61 6e65  trap', 'ctlplane
+00027410: 7327 2c0a 2020 2020 2020 2020 2020 2020  s',.            
+00027420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027460: 2020 2020 2020 2020 2020 2020 2027 776f               'wo
+00027470: 726b 6572 7327 5d0a 2020 2020 2020 2020  rkers'].        
+00027480: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00027490: 2020 706c 616e 6469 7220 3d20 6f73 2e70    plandir = os.p
+000274a0: 6174 682e 6469 726e 616d 6528 6f70 656e  ath.dirname(open
+000274b0: 7368 6966 742e 6372 6561 7465 2e5f 5f63  shift.create.__c
+000274c0: 6f64 655f 5f2e 636f 5f66 696c 656e 616d  ode__.co_filenam
+000274d0: 6529 0a20 2020 2020 2020 2020 2020 2072  e).            r
+000274e0: 6f6c 6573 203d 205b 2763 6c6f 7564 5f63  oles = ['cloud_c
+000274f0: 746c 706c 616e 6573 272c 2027 636c 6f75  tlplanes', 'clou
+00027500: 645f 776f 726b 6572 7327 5d20 6966 2073  d_workers'] if s
+00027510: 656c 662e 7479 7065 2069 6e20 5b27 6177  elf.type in ['aw
+00027520: 7327 2c20 2767 6370 275d 2065 6c73 6520  s', 'gcp'] else 
+00027530: 5b27 6374 6c70 6c61 6e65 7327 2c20 2777  ['ctlplanes', 'w
+00027540: 6f72 6b65 7273 275d 0a20 2020 2020 2020  orkers'].       
+00027550: 2069 6620 6f76 6572 7269 6465 732e 6765   if overrides.ge
+00027560: 7428 2777 6f72 6b65 7273 272c 2030 2920  t('workers', 0) 
+00027570: 3d3d 2030 3a0a 2020 2020 2020 2020 2020  == 0:.          
+00027580: 2020 6465 6c20 726f 6c65 735b 2d31 5d0a    del roles[-1].
+00027590: 2020 2020 2020 2020 6966 206f 732e 7061          if os.pa
+000275a0: 7468 2e65 7869 7374 7328 6622 7b63 6c75  th.exists(f"{clu
+000275b0: 7374 6572 6469 727d 2f6b 636c 695f 7061  sterdir}/kcli_pa
+000275c0: 7261 6d65 7465 7273 2e79 6d6c 2229 3a0a  rameters.yml"):.
+000275d0: 2020 2020 2020 2020 2020 2020 6461 7461              data
+000275e0: 203d 207b 2763 6c75 7374 6572 273a 2063   = {'cluster': c
+000275f0: 6c75 7374 6572 2c20 276b 7562 6527 3a20  luster, 'kube': 
+00027600: 636c 7573 7465 722c 2027 6b75 6265 7479  cluster, 'kubety
+00027610: 7065 273a 205f 7479 7065 7d0a 2020 2020  pe': _type}.    
+00027620: 2020 2020 2020 2020 7769 7468 206f 7065          with ope
+00027630: 6e28 6622 7b63 6c75 7374 6572 6469 727d  n(f"{clusterdir}
+00027640: 2f6b 636c 695f 7061 7261 6d65 7465 7273  /kcli_parameters
+00027650: 2e79 6d6c 222c 2027 7227 2920 6173 2069  .yml", 'r') as i
+00027660: 6e73 7461 6c6c 3a0a 2020 2020 2020 2020  nstall:.        
+00027670: 2020 2020 2020 2020 696e 7374 616c 6c70          installp
+00027680: 6172 616d 203d 2079 616d 6c2e 7361 6665  aram = yaml.safe
+00027690: 5f6c 6f61 6428 696e 7374 616c 6c29 0a20  _load(install). 
+000276a0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+000276b0: 6174 612e 7570 6461 7465 2869 6e73 7461  ata.update(insta
+000276c0: 6c6c 7061 7261 6d29 0a20 2020 2020 2020  llparam).       
+000276d0: 2020 2020 2020 2020 2070 6c61 6e20 3d20           plan = 
+000276e0: 696e 7374 616c 6c70 6172 616d 2e67 6574  installparam.get
+000276f0: 2827 706c 616e 272c 2070 6c61 6e29 0a20  ('plan', plan). 
+00027700: 2020 2020 2020 2020 2020 2064 6174 612e             data.
+00027710: 7570 6461 7465 286f 7665 7272 6964 6573  update(overrides
+00027720: 290a 2020 2020 2020 2020 2020 2020 7769  ).            wi
+00027730: 7468 206f 7065 6e28 6622 7b63 6c75 7374  th open(f"{clust
+00027740: 6572 6469 727d 2f6b 636c 695f 7061 7261  erdir}/kcli_para
+00027750: 6d65 7465 7273 2e79 6d6c 222c 2027 7727  meters.yml", 'w'
+00027760: 2920 6173 2070 6172 616d 6669 6c65 3a0a  ) as paramfile:.
+00027770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027780: 7961 6d6c 2e73 6166 655f 6475 6d70 2864  yaml.safe_dump(d
+00027790: 6174 612c 2070 6172 616d 6669 6c65 290a  ata, paramfile).
+000277a0: 2020 2020 2020 2020 6f73 2e63 6864 6972          os.chdir
+000277b0: 286f 732e 7061 7468 2e65 7870 616e 6475  (os.path.expandu
+000277c0: 7365 7228 227e 2f2e 6b63 6c69 2229 290a  ser("~/.kcli")).
+000277d0: 2020 2020 2020 2020 666f 7220 726f 6c65          for role
+000277e0: 2069 6e20 726f 6c65 733a 0a20 2020 2020   in roles:.     
+000277f0: 2020 2020 2020 2070 7072 696e 7428 6622         pprint(f"
+00027800: 5570 6461 7469 6e67 2076 6d73 2077 6974  Updating vms wit
+00027810: 6820 7b72 6f6c 657d 2072 6f6c 6522 290a  h {role} role").
+00027820: 2020 2020 2020 2020 2020 2020 706c 616e              plan
+00027830: 6461 7461 203d 2073 656c 662e 706c 616e  data = self.plan
+00027840: 2870 6c61 6e2c 2069 6e70 7574 6669 6c65  (plan, inputfile
+00027850: 3d66 277b 706c 616e 6469 727d 2f7b 726f  =f'{plandir}/{ro
+00027860: 6c65 7d2e 796d 6c27 2c20 6f76 6572 7269  le}.yml', overri
+00027870: 6465 733d 6f76 6572 7269 6465 732c 2075  des=overrides, u
+00027880: 7064 6174 653d 5472 7565 290a 2020 2020  pdate=True).    
+00027890: 2020 2020 2020 2020 706c 616e 766d 732e          planvms.
+000278a0: 6578 7465 6e64 2870 6c61 6e64 6174 615b  extend(plandata[
+000278b0: 276e 6577 766d 7327 5d20 2b20 706c 616e  'newvms'] + plan
+000278c0: 6461 7461 5b27 6578 6973 7469 6e67 766d  data['existingvm
+000278d0: 7327 5d29 0a20 2020 2020 2020 206f 732e  s']).        os.
+000278e0: 656e 7669 726f 6e5b 274b 5542 4543 4f4e  environ['KUBECON
+000278f0: 4649 4727 5d20 3d20 6622 7b63 6c75 7374  FIG'] = f"{clust
+00027900: 6572 6469 727d 2f61 7574 682f 6b75 6265  erdir}/auth/kube
+00027910: 636f 6e66 6967 220a 2020 2020 2020 2020  config".        
+00027920: 6269 6e61 7279 203d 2027 6f63 2720 6966  binary = 'oc' if
+00027930: 2077 6869 6368 2827 6f63 2729 2069 7320   which('oc') is 
+00027940: 6e6f 7420 4e6f 6e65 2065 6c73 6520 276b  not None else 'k
+00027950: 7562 6563 746c 270a 2020 2020 2020 2020  ubectl'.        
+00027960: 6e6f 6465 7363 6d64 203d 2066 277b 6269  nodescmd = f'{bi
+00027970: 6e61 7279 7d20 6765 7420 6e6f 6465 202d  nary} get node -
+00027980: 6f20 6e61 6d65 270a 2020 2020 2020 2020  o name'.        
+00027990: 6e6f 6465 7320 3d20 5b6e 2e73 7472 6970  nodes = [n.strip
+000279a0: 2829 2e72 6570 6c61 6365 2827 6e6f 6465  ().replace('node
+000279b0: 2f27 2c20 2727 2920 666f 7220 6e20 696e  /', '') for n in
+000279c0: 206f 732e 706f 7065 6e28 6e6f 6465 7363   os.popen(nodesc
+000279d0: 6d64 292e 7265 6164 6c69 6e65 7328 295d  md).readlines()]
+000279e0: 0a20 2020 2020 2020 2066 6f72 2076 6d20  .        for vm 
+000279f0: 696e 2073 656c 662e 6b2e 6c69 7374 2829  in self.k.list()
+00027a00: 3a0a 2020 2020 2020 2020 2020 2020 766d  :.            vm
+00027a10: 6e61 6d65 203d 2076 6d5b 276e 616d 6527  name = vm['name'
+00027a20: 5d0a 2020 2020 2020 2020 2020 2020 766d  ].            vm
+00027a30: 706c 616e 203d 2076 6d2e 6765 7428 2770  plan = vm.get('p
+00027a40: 6c61 6e27 2c20 276b 7669 7274 2729 0a20  lan', 'kvirt'). 
+00027a50: 2020 2020 2020 2020 2020 2069 6620 766d             if vm
+00027a60: 706c 616e 203d 3d20 706c 616e 2061 6e64  plan == plan and
+00027a70: 2076 6d6e 616d 6520 6e6f 7420 696e 2070   vmname not in p
+00027a80: 6c61 6e76 6d73 3a0a 2020 2020 2020 2020  lanvms:.        
+00027a90: 2020 2020 2020 2020 7070 7269 6e74 2866          pprint(f
+00027aa0: 2244 656c 6574 696e 6720 766d 207b 766d  "Deleting vm {vm
+00027ab0: 6e61 6d65 7d22 290a 2020 2020 2020 2020  name}").        
+00027ac0: 2020 2020 2020 2020 7365 6c66 2e6b 2e64          self.k.d
+00027ad0: 656c 6574 6528 766d 6e61 6d65 290a 2020  elete(vmname).  
+00027ae0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+00027af0: 7220 6e6f 6465 2069 6e20 6e6f 6465 733a  r node in nodes:
+00027b00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00027b10: 2020 2020 2069 6620 6e6f 6465 2e73 706c       if node.spl
+00027b20: 6974 2827 2e27 295b 305d 203d 3d20 766d  it('.')[0] == vm
+00027b30: 6e61 6d65 3a0a 2020 2020 2020 2020 2020  name:.          
+00027b40: 2020 2020 2020 2020 2020 2020 2020 7070                pp
+00027b50: 7269 6e74 2866 2244 656c 6574 696e 6720  rint(f"Deleting 
+00027b60: 6e6f 6465 207b 6e6f 6465 7d20 6672 6f6d  node {node} from
+00027b70: 2079 6f75 7220 636c 7573 7465 7222 290a   your cluster").
+00027b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027b90: 2020 2020 2020 2020 6361 6c6c 2866 277b          call(f'{
+00027ba0: 6269 6e61 7279 7d20 6465 6c65 7465 206e  binary} delete n
+00027bb0: 6f64 6520 7b6e 6f64 657d 272c 2073 6865  ode {node}', she
+00027bc0: 6c6c 3d54 7275 6529 0a20 2020 2020 2020  ll=True).       
+00027bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027be0: 2062 7265 616b 0a0a 2020 2020 6465 6620   break..    def 
+00027bf0: 6578 706f 7365 5f70 6c61 6e28 7365 6c66  expose_plan(self
+00027c00: 2c20 706c 616e 2c20 696e 7075 7466 696c  , plan, inputfil
+00027c10: 653d 4e6f 6e65 2c20 6f76 6572 7269 6465  e=None, override
+00027c20: 733d 7b7d 2c20 706f 7274 3d39 3030 302c  s={}, port=9000,
+00027c30: 2070 666d 6f64 653d 4661 6c73 652c 2063   pfmode=False, c
+00027c40: 6c75 7374 6572 3d46 616c 7365 293a 0a20  luster=False):. 
+00027c50: 2020 2020 2020 2069 6e70 7574 6669 6c65         inputfile
+00027c60: 203d 206f 732e 7061 7468 2e65 7870 616e   = os.path.expan
+00027c70: 6475 7365 7228 696e 7075 7466 696c 6529  duser(inputfile)
+00027c80: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+00027c90: 6f73 2e70 6174 682e 6578 6973 7473 2869  os.path.exists(i
+00027ca0: 6e70 7574 6669 6c65 293a 0a20 2020 2020  nputfile):.     
+00027cb0: 2020 2020 2020 2065 7272 6f72 2822 4e6f         error("No
+00027cc0: 2069 6e70 7574 2066 696c 6520 666f 756e   input file foun
+00027cd0: 6420 6e6f 7220 6465 6661 756c 7420 6b63  d nor default kc
+00027ce0: 6c69 5f70 6c61 6e2e 796d 6c2e 4c65 6176  li_plan.yml.Leav
+00027cf0: 696e 672e 2e2e 2e22 290a 2020 2020 2020  ing....").      
+00027d00: 2020 2020 2020 7379 732e 6578 6974 2831        sys.exit(1
+00027d10: 290a 2020 2020 2020 2020 7070 7269 6e74  ).        pprint
+00027d20: 2866 2248 616e 646c 696e 6720 6578 706f  (f"Handling expo
+00027d30: 7365 206f 6620 706c 616e 2077 6974 6820  se of plan with 
+00027d40: 6e61 6d65 207b 706c 616e 7d20 616e 6420  name {plan} and 
+00027d50: 696e 7075 7466 696c 6520 7b69 6e70 7574  inputfile {input
+00027d60: 6669 6c65 7d22 290a 2020 2020 2020 2020  file}").        
+00027d70: 6b65 7870 6f73 6572 203d 204b 6578 706f  kexposer = Kexpo
+00027d80: 7365 7228 7365 6c66 2c20 706c 616e 2c20  ser(self, plan, 
+00027d90: 696e 7075 7466 696c 652c 206f 7665 7272  inputfile, overr
+00027da0: 6964 6573 3d6f 7665 7272 6964 6573 2c20  ides=overrides, 
+00027db0: 706f 7274 3d70 6f72 742c 2070 666d 6f64  port=port, pfmod
+00027dc0: 653d 7066 6d6f 6465 2c20 636c 7573 7465  e=pfmode, cluste
+00027dd0: 723d 636c 7573 7465 7229 0a20 2020 2020  r=cluster).     
+00027de0: 2020 206b 6578 706f 7365 722e 7275 6e28     kexposer.run(
+00027df0: 290a 0a20 2020 2064 6566 2063 7265 6174  )..    def creat
+00027e00: 655f 6f70 656e 7368 6966 745f 6973 6f28  e_openshift_iso(
+00027e10: 7365 6c66 2c20 636c 7573 7465 722c 206f  self, cluster, o
+00027e20: 7665 7272 6964 6573 3d7b 7d2c 2069 676e  verrides={}, ign
+00027e30: 6974 696f 6e66 696c 653d 4e6f 6e65 2c20  itionfile=None, 
+00027e40: 706f 646d 616e 3d46 616c 7365 2c20 696e  podman=False, in
+00027e50: 7374 616c 6c65 723d 4661 6c73 652c 0a20  staller=False,. 
+00027e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027e70: 2020 2020 2020 2020 2020 2020 6469 7265              dire
+00027e80: 6374 3d46 616c 7365 293a 0a20 2020 2020  ct=False):.     
+00027e90: 2020 206d 6574 616c 5f75 726c 203d 204e     metal_url = N
+00027ea0: 6f6e 650a 2020 2020 2020 2020 6973 6f5f  one.        iso_
+00027eb0: 7665 7273 696f 6e20 3d20 7374 7228 6f76  version = str(ov
+00027ec0: 6572 7269 6465 732e 6765 7428 2776 6572  errides.get('ver
+00027ed0: 7369 6f6e 272c 2027 6c61 7465 7374 2729  sion', 'latest')
+00027ee0: 290a 2020 2020 2020 2020 6966 206e 6f74  ).        if not
+00027ef0: 2069 6e73 7461 6c6c 6572 3a0a 2020 2020   installer:.    
+00027f00: 2020 2020 2020 2020 6966 2069 736f 5f76          if iso_v
+00027f10: 6572 7369 6f6e 206e 6f74 2069 6e20 5b27  ersion not in ['
+00027f20: 6c61 7465 7374 272c 2027 7072 652d 7265  latest', 'pre-re
+00027f30: 6c65 6173 6527 5d20 616e 6420 6e6f 7420  lease'] and not 
+00027f40: 6973 6f5f 7665 7273 696f 6e2e 7374 6172  iso_version.star
+00027f50: 7473 7769 7468 2827 342e 2729 3a0a 2020  tswith('4.'):.  
+00027f60: 2020 2020 2020 2020 2020 2020 2020 7761                wa
+00027f70: 726e 696e 6728 2246 6f72 6369 6e67 206c  rning("Forcing l
+00027f80: 6976 6520 6973 6f20 7665 7273 696f 6e20  ive iso version 
+00027f90: 746f 206c 6174 6573 7422 290a 2020 2020  to latest").    
+00027fa0: 2020 2020 2020 2020 2020 2020 6973 6f5f              iso_
+00027fb0: 7665 7273 696f 6e20 3d20 276c 6174 6573  version = 'lates
+00027fc0: 7427 0a20 2020 2020 2020 2020 2020 2065  t'.            e
+00027fd0: 6c69 6620 6973 6f5f 7665 7273 696f 6e2e  lif iso_version.
+00027fe0: 7374 6172 7473 7769 7468 2827 342e 2729  startswith('4.')
+00027ff0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00028000: 2020 6d69 6e6f 725f 7665 7273 696f 6e20    minor_version 
+00028010: 3d20 6973 6f5f 7665 7273 696f 6e2e 7370  = iso_version.sp
+00028020: 6c69 7428 272e 2729 5b31 5d0a 2020 2020  lit('.')[1].    
+00028030: 2020 2020 2020 2020 2020 2020 6966 206d              if m
+00028040: 696e 6f72 5f76 6572 7369 6f6e 2e69 7364  inor_version.isd
+00028050: 6967 6974 2829 2061 6e64 2069 6e74 286d  igit() and int(m
+00028060: 696e 6f72 5f76 6572 7369 6f6e 2920 3c20  inor_version) < 
+00028070: 363a 0a20 2020 2020 2020 2020 2020 2020  6:.             
+00028080: 2020 2020 2020 206d 6574 616c 5f75 726c         metal_url
+00028090: 203d 2066 2268 7474 7073 3a2f 2f6d 6972   = f"https://mir
+000280a0: 726f 722e 6f70 656e 7368 6966 742e 636f  ror.openshift.co
+000280b0: 6d2f 7075 622f 6f70 656e 7368 6966 742d  m/pub/openshift-
+000280c0: 7634 2f64 6570 656e 6465 6e63 6965 732f  v4/dependencies/
+000280d0: 7268 636f 732f 7b69 736f 5f76 6572 7369  rhcos/{iso_versi
+000280e0: 6f6e 7d2f 6c61 7465 7374 220a 2020 2020  on}/latest".    
+000280f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028100: 6d65 7461 6c5f 7572 6c20 2b3d 2022 2f72  metal_url += "/r
+00028110: 6863 6f73 2d6d 6574 616c 2e78 3836 5f36  hcos-metal.x86_6
+00028120: 342e 7261 772e 677a 220a 2020 2020 2020  4.raw.gz".      
+00028130: 2020 2020 2020 2020 2020 2020 2020 7761                wa
+00028140: 726e 696e 6728 2245 6d62 6564 6469 6e67  rning("Embedding
+00028150: 206d 6574 616c 2075 726c 2069 6e20 6973   metal url in is
+00028160: 6f20 666f 7220 7461 7267 6574 2076 6572  o for target ver
+00028170: 7369 6f6e 2061 6e64 2069 6e73 7461 6c6c  sion and install
+00028180: 696e 6720 7769 7468 2061 206d 6f72 6520  ing with a more 
+00028190: 7265 6365 6e74 2069 736f 2229 0a20 2020  recent iso").   
+000281a0: 2020 2020 2020 2020 2020 2020 2069 736f               iso
+000281b0: 5f76 6572 7369 6f6e 203d 2027 6c61 7465  _version = 'late
+000281c0: 7374 270a 2020 2020 2020 2020 6170 695f  st'.        api_
+000281d0: 6970 203d 206f 7665 7272 6964 6573 2e67  ip = overrides.g
+000281e0: 6574 2827 6170 695f 6970 2729 0a20 2020  et('api_ip').   
+000281f0: 2020 2020 2069 676e 6974 696f 6e5f 7665       ignition_ve
+00028200: 7273 696f 6e20 3d20 6f76 6572 7269 6465  rsion = override
+00028210: 732e 6765 7428 2769 676e 6974 696f 6e5f  s.get('ignition_
+00028220: 7665 7273 696f 6e27 2c0a 2020 2020 2020  version',.      
+00028230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028250: 2020 2063 6f6d 6d6f 6e2e 6967 6e69 7469     common.igniti
+00028260: 6f6e 5f76 6572 7369 6f6e 2822 7268 636f  on_version("rhco
+00028270: 732d 2573 2220 2520 6973 6f5f 7665 7273  s-%s" % iso_vers
+00028280: 696f 6e2e 7265 706c 6163 6528 272e 272c  ion.replace('.',
+00028290: 2027 2729 2929 0a20 2020 2020 2020 2072   ''))).        r
+000282a0: 6f6c 6520 3d20 6f76 6572 7269 6465 732e  ole = overrides.
+000282b0: 6765 7428 2772 6f6c 6527 2c20 2777 6f72  get('role', 'wor
+000282c0: 6b65 7227 290a 2020 2020 2020 2020 6973  ker').        is
+000282d0: 6f20 3d20 6f76 6572 7269 6465 732e 6765  o = overrides.ge
+000282e0: 7428 2769 736f 272c 2054 7275 6529 0a20  t('iso', True). 
+000282f0: 2020 2020 2020 2064 6f6d 6169 6e20 3d20         domain = 
+00028300: 6f76 6572 7269 6465 732e 6765 7428 2764  overrides.get('d
+00028310: 6f6d 6169 6e27 290a 2020 2020 2020 2020  omain').        
+00028320: 6966 2027 2e27 2069 6e20 636c 7573 7465  if '.' in cluste
+00028330: 723a 0a20 2020 2020 2020 2020 2020 2064  r:.            d
+00028340: 6f6d 6169 6e20 3d20 272e 272e 6a6f 696e  omain = '.'.join
+00028350: 2863 6c75 7374 6572 2e73 706c 6974 2827  (cluster.split('
+00028360: 2e27 295b 313a 5d29 0a20 2020 2020 2020  .')[1:]).       
+00028370: 2020 2020 2070 7072 696e 7428 6622 5573       pprint(f"Us
+00028380: 696e 6720 646f 6d61 696e 207b 646f 6d61  ing domain {doma
+00028390: 696e 7d22 290a 2020 2020 2020 2020 2020  in}").          
+000283a0: 2020 636c 7573 7465 7220 3d20 636c 7573    cluster = clus
+000283b0: 7465 722e 7265 706c 6163 6528 6622 2e7b  ter.replace(f".{
+000283c0: 646f 6d61 696e 7d22 2c20 2727 290a 2020  domain}", '').  
+000283d0: 2020 2020 2020 6966 2063 6c75 7374 6572        if cluster
+000283e0: 2e73 7461 7274 7377 6974 6828 2761 7069  .startswith('api
+000283f0: 2e27 293a 0a20 2020 2020 2020 2020 2020  .'):.           
+00028400: 2063 6c75 7374 6572 203d 2063 6c75 7374   cluster = clust
+00028410: 6572 2e72 6570 6c61 6365 2822 6170 692e  er.replace("api.
+00028420: 222c 2027 2729 0a20 2020 2020 2020 2020  ", '').         
+00028430: 2020 2070 7072 696e 7428 6622 5573 696e     pprint(f"Usin
+00028440: 6720 636c 7573 7465 7220 7b63 6c75 7374  g cluster {clust
+00028450: 6572 7d22 290a 2020 2020 2020 2020 686f  er}").        ho
+00028460: 7374 735f 636f 6e74 656e 7420 3d20 4e6f  sts_content = No
+00028470: 6e65 0a20 2020 2020 2020 2066 696e 616c  ne.        final
+00028480: 6461 7461 203d 204e 6f6e 650a 2020 2020  data = None.    
+00028490: 2020 2020 6966 2069 676e 6974 696f 6e66      if ignitionf
+000284a0: 696c 6520 6973 206e 6f74 204e 6f6e 653a  ile is not None:
+000284b0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+000284c0: 6e6f 7420 6f73 2e70 6174 682e 6578 6973  not os.path.exis
+000284d0: 7473 2869 676e 6974 696f 6e66 696c 6529  ts(ignitionfile)
+000284e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000284f0: 2020 6572 726f 7228 6622 7b69 676e 6974    error(f"{ignit
+00028500: 696f 6e66 696c 657d 206e 6f74 2066 6f75  ionfile} not fou
+00028510: 6e64 2229 0a20 2020 2020 2020 2020 2020  nd").           
+00028520: 2020 2020 2073 7973 2e65 7869 7428 3129       sys.exit(1)
+00028530: 0a20 2020 2020 2020 2020 2020 2066 696e  .            fin
+00028540: 616c 6461 7461 203d 206f 7065 6e28 6967  aldata = open(ig
+00028550: 6e69 7469 6f6e 6669 6c65 292e 7265 6164  nitionfile).read
+00028560: 2829 0a20 2020 2020 2020 2065 6c73 653a  ().        else:
+00028570: 0a20 2020 2020 2020 2020 2020 2069 676e  .            ign
+00028580: 6974 696f 6e66 696c 6520 3d20 6622 7b72  itionfile = f"{r
+00028590: 6f6c 657d 2e69 676e 220a 2020 2020 2020  ole}.ign".      
+000285a0: 2020 2020 2020 6966 206f 732e 7061 7468        if os.path
+000285b0: 2e65 7869 7374 7328 6967 6e69 7469 6f6e  .exists(ignition
+000285c0: 6669 6c65 293a 0a20 2020 2020 2020 2020  file):.         
+000285d0: 2020 2020 2020 2077 6172 6e69 6e67 2866         warning(f
+000285e0: 2255 7369 6e67 2065 7869 7374 696e 6720  "Using existing 
+000285f0: 7b69 676e 6974 696f 6e66 696c 657d 2229  {ignitionfile}")
+00028600: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00028610: 2066 696e 616c 6461 7461 203d 206f 7065   finaldata = ope
+00028620: 6e28 6967 6e69 7469 6f6e 6669 6c65 292e  n(ignitionfile).
+00028630: 7265 6164 2829 0a20 2020 2020 2020 2020  read().         
+00028640: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00028650: 2020 2020 2020 2020 2069 6620 6170 695f           if api_
+00028660: 6970 2069 7320 4e6f 6e65 3a0a 2020 2020  ip is None:.    
+00028670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028680: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+00028690: 2020 2020 2020 2020 2020 2020 2061 7069               api
+000286a0: 5f69 7020 3d20 736f 636b 6574 2e67 6574  _ip = socket.get
+000286b0: 686f 7374 6279 6e61 6d65 2866 2761 7069  hostbyname(f'api
+000286c0: 2e7b 636c 7573 7465 727d 2e7b 646f 6d61  .{cluster}.{doma
+000286d0: 696e 7d27 290a 2020 2020 2020 2020 2020  in}').          
+000286e0: 2020 2020 2020 2020 2020 6578 6365 7074            except
+000286f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00028700: 2020 2020 2020 2020 2020 7061 7373 0a20            pass. 
+00028710: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00028720: 6620 6170 695f 6970 2069 7320 4e6f 6e65  f api_ip is None
+00028730: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00028740: 2020 2020 2020 6966 2064 6f6d 6169 6e20        if domain 
+00028750: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+00028760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028770: 2065 7272 6f72 2822 436f 756c 646e 2774   error("Couldn't
+00028780: 2066 6967 7572 6520 6f75 7420 6170 695f   figure out api_
+00028790: 6970 206e 6f72 2072 656c 7920 6f6e 2064  ip nor rely on d
+000287a0: 6e73 2073 696e 6365 2064 6f6d 6169 6e20  ns since domain 
+000287b0: 6973 206e 6f74 2073 6574 2229 0a20 2020  is not set").   
 000287c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000287d0: 2061 7069 5f69 7020 3d20 6622 6170 692e   api_ip = f"api.
-000287e0: 7b63 6c75 7374 6572 7d2e 7b64 6f6d 6169  {cluster}.{domai
-000287f0: 6e7d 220a 2020 2020 2020 2020 2020 2020  n}".            
-00028800: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00028810: 2020 2020 2020 2020 2020 2020 2020 686f                ho
-00028820: 7374 735f 636f 6e74 656e 7420 3d20 2231  sts_content = "1
-00028830: 3237 2e30 2e30 2e31 2020 206c 6f63 616c  27.0.0.1   local
-00028840: 686f 7374 206c 6f63 616c 686f 7374 2e6c  host localhost.l
-00028850: 6f63 616c 646f 6d61 696e 206c 6f63 616c  ocaldomain local
-00028860: 686f 7374 3420 6c6f 6361 6c68 6f73 7434  host4 localhost4
-00028870: 2e6c 6f63 616c 646f 6d61 696e 345c 6e22  .localdomain4\n"
-00028880: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00028890: 2020 2020 2068 6f73 7473 5f63 6f6e 7465       hosts_conte
-000288a0: 6e74 202b 3d20 223a 3a31 2020 2020 2020  nt += "::1      
-000288b0: 2020 206c 6f63 616c 686f 7374 206c 6f63     localhost loc
-000288c0: 616c 686f 7374 2e6c 6f63 616c 646f 6d61  alhost.localdoma
-000288d0: 696e 206c 6f63 616c 686f 7374 3620 6c6f  in localhost6 lo
-000288e0: 6361 6c68 6f73 7436 2e6c 6f63 616c 646f  calhost6.localdo
-000288f0: 6d61 696e 365c 6e22 0a20 2020 2020 2020  main6\n".       
-00028900: 2020 2020 2020 2020 2020 2020 2068 6f73               hos
-00028910: 7473 5f63 6f6e 7465 6e74 202b 3d20 6622  ts_content += f"
-00028920: 7b61 7069 5f69 707d 2061 7069 2d69 6e74  {api_ip} api-int
-00028930: 2e7b 636c 7573 7465 727d 2e7b 646f 6d61  .{cluster}.{doma
-00028940: 696e 7d20 6170 692e 7b63 6c75 7374 6572  in} api.{cluster
-00028950: 7d2e 7b64 6f6d 6169 6e7d 220a 2020 2020  }.{domain}".    
-00028960: 2020 2020 706c 616e 6469 7220 3d20 6f73      plandir = os
-00028970: 2e70 6174 682e 6469 726e 616d 6528 6f70  .path.dirname(op
-00028980: 656e 7368 6966 742e 6372 6561 7465 2e5f  enshift.create._
-00028990: 5f63 6f64 655f 5f2e 636f 5f66 696c 656e  _code__.co_filen
-000289a0: 616d 6529 0a20 2020 2020 2020 2077 6974  ame).        wit
-000289b0: 6820 6f70 656e 2822 6973 6f2e 6967 6e22  h open("iso.ign"
-000289c0: 2c20 2777 2729 2061 7320 663a 0a20 2020  , 'w') as f:.   
-000289d0: 2020 2020 2020 2020 2066 756c 6c5f 6e61           full_na
-000289e0: 6d65 203d 2066 277b 636c 7573 7465 727d  me = f'{cluster}
-000289f0: 2e7b 646f 6d61 696e 7d27 2069 6620 646f  .{domain}' if do
-00028a00: 6d61 696e 2069 7320 6e6f 7420 4e6f 6e65  main is not None
-00028a10: 2065 6c73 6520 636c 7573 7465 720a 2020   else cluster.  
-00028a20: 2020 2020 2020 2020 2020 7070 7269 6e74            pprint
-00028a30: 2866 2257 7269 7469 6e67 2066 696c 6520  (f"Writing file 
-00028a40: 6973 6f2e 6967 6e20 666f 7220 7b72 6f6c  iso.ign for {rol
-00028a50: 657d 2069 6e20 7b66 756c 6c5f 6e61 6d65  e} in {full_name
-00028a60: 7d22 290a 2020 2020 2020 2020 2020 2020  }").            
-00028a70: 6973 6f64 6972 203d 206f 732e 7061 7468  isodir = os.path
-00028a80: 2e64 6972 6e61 6d65 2863 6f6d 6d6f 6e2e  .dirname(common.
-00028a90: 5f5f 6669 6c65 5f5f 290a 2020 2020 2020  __file__).      
-00028aa0: 2020 2020 2020 6966 2066 696e 616c 6461        if finalda
-00028ab0: 7461 2069 7320 4e6f 6e65 3a0a 2020 2020  ta is None:.    
-00028ac0: 2020 2020 2020 2020 2020 2020 656e 7620              env 
-00028ad0: 3d20 456e 7669 726f 6e6d 656e 7428 6c6f  = Environment(lo
-00028ae0: 6164 6572 3d46 696c 6553 7973 7465 6d4c  ader=FileSystemL
-00028af0: 6f61 6465 7228 6973 6f64 6972 292c 2065  oader(isodir), e
-00028b00: 7874 656e 7369 6f6e 733d 5b27 6a69 6e6a  xtensions=['jinj
-00028b10: 6132 2e65 7874 2e64 6f27 5d2c 2074 7269  a2.ext.do'], tri
-00028b20: 6d5f 626c 6f63 6b73 3d54 7275 652c 0a20  m_blocks=True,. 
-00028b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028b50: 206c 7374 7269 705f 626c 6f63 6b73 3d54   lstrip_blocks=T
-00028b60: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
-00028b70: 2020 2020 2074 656d 706c 203d 2065 6e76       templ = env
-00028b80: 2e67 6574 5f74 656d 706c 6174 6528 6f73  .get_template(os
-00028b90: 2e70 6174 682e 6261 7365 6e61 6d65 2822  .path.basename("
-00028ba0: 6967 6e69 7469 6f6e 2e6a 3222 2929 0a20  ignition.j2")). 
-00028bb0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00028bc0: 6620 686f 7374 735f 636f 6e74 656e 7420  f hosts_content 
-00028bd0: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-00028be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028bf0: 2068 6f73 7473 5f63 6f6e 7465 6e74 203d   hosts_content =
-00028c00: 2062 6173 6536 342e 6236 3465 6e63 6f64   base64.b64encod
-00028c10: 6528 686f 7374 735f 636f 6e74 656e 742e  e(hosts_content.
-00028c20: 656e 636f 6465 2829 292e 6465 636f 6465  encode()).decode
-00028c30: 2822 5554 462d 3822 290a 2020 2020 2020  ("UTF-8").      
-00028c40: 2020 2020 2020 2020 2020 6966 2027 3a27            if ':'
-00028c50: 2069 6e20 6170 695f 6970 3a20 2020 2320   in api_ip:   # 
-00028c60: 4950 7636 2061 6464 7265 7373 0a20 2020  IPv6 address.   
-00028c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028c80: 2069 676e 6974 696f 6e5f 7572 6c20 3d20   ignition_url = 
-00028c90: 6622 6874 7470 3a2f 2f5b 7b61 7069 5f69  f"http://[{api_i
-00028ca0: 707d 5d3a 3232 3632 342f 636f 6e66 6967  p}]:22624/config
-00028cb0: 2f7b 726f 6c65 7d22 0a20 2020 2020 2020  /{role}".       
-00028cc0: 2020 2020 2020 2020 2065 6c73 653a 2020           else:  
-00028cd0: 2020 2020 2020 2020 2020 2020 2023 2049               # I
-00028ce0: 5076 3420 6164 6472 6573 730a 2020 2020  Pv4 address.    
-00028cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028d00: 6967 6e69 7469 6f6e 5f75 726c 203d 2066  ignition_url = f
-00028d10: 2268 7474 703a 2f2f 7b61 7069 5f69 707d  "http://{api_ip}
-00028d20: 3a32 3236 3234 2f63 6f6e 6669 672f 7b72  :22624/config/{r
-00028d30: 6f6c 657d 220a 2020 2020 2020 2020 2020  ole}".          
-00028d40: 2020 2020 2020 6669 6e61 6c64 6174 6120        finaldata 
-00028d50: 3d20 7465 6d70 6c2e 7265 6e64 6572 2869  = templ.render(i
-00028d60: 676e 6974 696f 6e5f 7572 6c3d 6967 6e69  gnition_url=igni
-00028d70: 7469 6f6e 5f75 726c 2c20 686f 7374 735f  tion_url, hosts_
-00028d80: 636f 6e74 656e 743d 686f 7374 735f 636f  content=hosts_co
-00028d90: 6e74 656e 742c 0a20 2020 2020 2020 2020  ntent,.         
-00028da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028dc0: 6967 6e69 7469 6f6e 5f76 6572 7369 6f6e  ignition_version
-00028dd0: 3d69 676e 6974 696f 6e5f 7665 7273 696f  =ignition_versio
-00028de0: 6e29 0a20 2020 2020 2020 2020 2020 2069  n).            i
-00028df0: 6620 6469 7265 6374 3a0a 2020 2020 2020  f direct:.      
-00028e00: 2020 2020 2020 2020 2020 662e 7772 6974            f.writ
-00028e10: 6528 6669 6e61 6c64 6174 6129 0a20 2020  e(finaldata).   
-00028e20: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00028e30: 2020 2020 2020 2020 2020 2020 2020 205f                 _
-00028e40: 6669 6c65 7320 3d20 5b7b 2270 6174 6822  files = [{"path"
-00028e50: 3a20 222f 726f 6f74 2f63 6f6e 6669 672e  : "/root/config.
-00028e60: 6967 6e22 2c20 2263 6f6e 7465 6e74 223a  ign", "content":
-00028e70: 2066 696e 616c 6461 7461 7d5d 0a20 2020   finaldata}].   
-00028e80: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00028e90: 6f73 2e70 6174 682e 6578 6973 7473 2827  os.path.exists('
-00028ea0: 6973 6f2e 7368 2729 3a0a 2020 2020 2020  iso.sh'):.      
-00028eb0: 2020 2020 2020 2020 2020 2020 2020 7070                pp
-00028ec0: 7269 6e74 2822 5573 696e 6720 6c6f 6361  rint("Using loca
-00028ed0: 6c20 6973 6f2e 7368 2073 6372 6970 7422  l iso.sh script"
-00028ee0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00028ef0: 2020 2020 2020 6973 6f73 6372 6970 7420        isoscript 
-00028f00: 3d20 2769 736f 2e73 6827 0a20 2020 2020  = 'iso.sh'.     
-00028f10: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00028f20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00028f30: 2020 2020 2069 736f 7363 7269 7074 203d       isoscript =
-00028f40: 2066 277b 706c 616e 6469 727d 2f69 736f   f'{plandir}/iso
-00028f50: 2e73 6827 0a20 2020 2020 2020 2020 2020  .sh'.           
-00028f60: 2020 2020 2069 6620 6f73 2e70 6174 682e       if os.path.
-00028f70: 6578 6973 7473 2827 6d61 6373 2e74 7874  exists('macs.txt
-00028f80: 2729 3a0a 2020 2020 2020 2020 2020 2020  '):.            
-00028f90: 2020 2020 2020 2020 5f66 696c 6573 2e61          _files.a
-00028fa0: 7070 656e 6428 7b22 7061 7468 223a 2022  ppend({"path": "
-00028fb0: 2f72 6f6f 742f 6d61 6373 2e74 7874 222c  /root/macs.txt",
-00028fc0: 2022 6f72 6967 696e 223a 2027 6d61 6373   "origin": 'macs
-00028fd0: 2e74 7874 277d 290a 2020 2020 2020 2020  .txt'}).        
-00028fe0: 2020 2020 2020 2020 6973 6f5f 6f76 6572          iso_over
-00028ff0: 7269 6465 7320 3d20 7b27 7363 7269 7074  rides = {'script
-00029000: 7327 3a20 5b69 736f 7363 7269 7074 5d2c  s': [isoscript],
-00029010: 2027 6669 6c65 7327 3a20 5f66 696c 6573   'files': _files
-00029020: 2c20 276d 6574 616c 5f75 726c 273a 206d  , 'metal_url': m
-00029030: 6574 616c 5f75 726c 2c20 276e 6f6e 616d  etal_url, 'nonam
-00029040: 6527 3a20 5472 7565 2c0a 2020 2020 2020  e': True,.      
-00029050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029060: 2020 2020 2020 2020 2020 2027 696d 6167             'imag
-00029070: 6527 3a20 2772 6863 6f73 3430 3030 277d  e': 'rhcos4000'}
-00029080: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00029090: 2069 6620 6d65 7461 6c5f 7572 6c20 6973   if metal_url is
-000290a0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-000290b0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-000290c0: 736f 5f6f 7665 7272 6964 6573 5b27 6e65  so_overrides['ne
-000290d0: 6564 5f6e 6574 776f 726b 275d 203d 2054  ed_network'] = T
-000290e0: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
-000290f0: 2020 2020 6973 6f5f 6f76 6572 7269 6465      iso_override
-00029100: 732e 7570 6461 7465 286f 7665 7272 6964  s.update(overrid
-00029110: 6573 290a 2020 2020 2020 2020 2020 2020  es).            
-00029120: 2020 2020 6966 2027 6e61 6d65 2720 696e      if 'name' in
-00029130: 206f 7665 7272 6964 6573 3a0a 2020 2020   overrides:.    
-00029140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029150: 6973 6f5f 6e61 6d65 203d 206f 7665 7272  iso_name = overr
-00029160: 6964 6573 5b27 6e61 6d65 275d 0a20 2020  ides['name'].   
-00029170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029180: 2069 736f 5f6f 7665 7272 6964 6573 5b27   iso_overrides['
-00029190: 6e6f 6e61 6d65 275d 203d 2046 616c 7365  noname'] = False
-000291a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000291b0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-000291c0: 2020 2020 2020 2020 2020 2069 736f 5f6e             iso_n
-000291d0: 616d 6520 3d20 2761 7574 6f69 6e73 7461  ame = 'autoinsta
-000291e0: 6c6c 6572 270a 2020 2020 2020 2020 2020  ller'.          
-000291f0: 2020 2020 2020 7265 7375 6c74 203d 2073        result = s
-00029200: 656c 662e 6372 6561 7465 5f76 6d28 6973  elf.create_vm(is
-00029210: 6f5f 6e61 6d65 2c20 6f76 6572 7269 6465  o_name, override
-00029220: 733d 6973 6f5f 6f76 6572 7269 6465 732c  s=iso_overrides,
-00029230: 206f 6e6c 7961 7373 6574 733d 5472 7565   onlyassets=True
-00029240: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00029250: 2020 6966 2027 7265 6173 6f6e 2720 696e    if 'reason' in
-00029260: 2072 6573 756c 743a 0a20 2020 2020 2020   result:.       
-00029270: 2020 2020 2020 2020 2020 2020 2065 7272               err
-00029280: 6f72 2872 6573 756c 745b 2772 6561 736f  or(result['reaso
-00029290: 6e27 5d29 0a20 2020 2020 2020 2020 2020  n']).           
-000292a0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-000292b0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-000292c0: 2e77 7269 7465 2872 6573 756c 745b 2764  .write(result['d
-000292d0: 6174 6127 5d29 0a20 2020 2020 2020 2069  ata']).        i
-000292e0: 6620 6973 6f3a 0a20 2020 2020 2020 2020  f iso:.         
-000292f0: 2020 2069 6620 7365 6c66 2e74 7970 6520     if self.type 
-00029300: 6e6f 7420 696e 205b 276b 766d 272c 2027  not in ['kvm', '
-00029310: 6661 6b65 272c 2027 6b75 6265 7669 7274  fake', 'kubevirt
-00029320: 272c 2027 7673 7068 6572 6527 2c20 276f  ', 'vsphere', 'o
-00029330: 7065 6e73 7461 636b 275d 3a0a 2020 2020  penstack']:.    
-00029340: 2020 2020 2020 2020 2020 2020 7761 726e              warn
-00029350: 696e 6728 6622 4973 6f20 6765 6e65 7261  ing(f"Iso genera
-00029360: 7469 6f6e 206e 6f74 2073 7570 706f 7274  tion not support
-00029370: 6564 206f 6e20 7b73 656c 662e 7479 7065  ed on {self.type
-00029380: 7d22 290a 2020 2020 2020 2020 2020 2020  }").            
-00029390: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-000293a0: 2020 2020 2020 6973 6f5f 706f 6f6c 203d        iso_pool =
-000293b0: 206f 7665 7272 6964 6573 2e67 6574 2827   overrides.get('
-000293c0: 706f 6f6c 2729 206f 7220 7365 6c66 2e70  pool') or self.p
-000293d0: 6f6f 6c0a 2020 2020 2020 2020 2020 2020  ool.            
-000293e0: 2020 2020 6765 6e65 7261 7465 5f72 6863      generate_rhc
-000293f0: 6f73 5f69 736f 2873 656c 662e 6b2c 2066  os_iso(self.k, f
-00029400: 227b 636c 7573 7465 727d 2d7b 726f 6c65  "{cluster}-{role
-00029410: 7d22 2c20 6973 6f5f 706f 6f6c 2c20 7665  }", iso_pool, ve
-00029420: 7273 696f 6e3d 6973 6f5f 7665 7273 696f  rsion=iso_versio
-00029430: 6e2c 2070 6f64 6d61 6e3d 706f 646d 616e  n, podman=podman
-00029440: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00029450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029460: 2020 2020 2069 6e73 7461 6c6c 6572 3d69       installer=i
-00029470: 6e73 7461 6c6c 6572 290a 0a20 2020 2064  nstaller)..    d
-00029480: 6566 2063 7265 6174 655f 6f70 656e 7368  ef create_opensh
-00029490: 6966 745f 6469 7363 6f6e 6e65 6374 6564  ift_disconnected
-000294a0: 2873 656c 662c 2070 6c61 6e2c 206f 7665  (self, plan, ove
-000294b0: 7272 6964 6573 3d7b 7d29 3a0a 2020 2020  rrides={}):.    
-000294c0: 2020 2020 6461 7461 203d 206f 7665 7272      data = overr
-000294d0: 6964 6573 0a20 2020 2020 2020 2070 6c61  ides.        pla
-000294e0: 6e64 6972 203d 206f 732e 7061 7468 2e64  ndir = os.path.d
-000294f0: 6972 6e61 6d65 286f 7065 6e73 6869 6674  irname(openshift
-00029500: 2e63 7265 6174 652e 5f5f 636f 6465 5f5f  .create.__code__
-00029510: 2e63 6f5f 6669 6c65 6e61 6d65 290a 2020  .co_filename).  
-00029520: 2020 2020 2020 636c 7573 7465 7220 3d20        cluster = 
-00029530: 6461 7461 2e67 6574 2827 636c 7573 7465  data.get('cluste
-00029540: 7227 2c20 276d 796f 7065 6e73 6869 6674  r', 'myopenshift
-00029550: 2729 0a20 2020 2020 2020 2075 7073 7472  ').        upstr
-00029560: 6561 6d20 3d20 6461 7461 2e67 6574 2827  eam = data.get('
-00029570: 7570 7374 7265 616d 272c 2046 616c 7365  upstream', False
-00029580: 290a 2020 2020 2020 2020 7665 7273 696f  ).        versio
-00029590: 6e20 3d20 6461 7461 2e67 6574 2827 7665  n = data.get('ve
-000295a0: 7273 696f 6e27 2c20 2773 7461 626c 6527  rsion', 'stable'
-000295b0: 290a 2020 2020 2020 2020 7461 6720 3d20  ).        tag = 
-000295c0: 6461 7461 2e67 6574 2827 7461 6727 2c20  data.get('tag', 
-000295d0: 4f50 454e 5348 4946 545f 5441 4729 0a20  OPENSHIFT_TAG). 
-000295e0: 2020 2020 2020 2070 7072 696e 7428 6622         pprint(f"
-000295f0: 5573 696e 6720 7665 7273 696f 6e20 7b76  Using version {v
-00029600: 6572 7369 6f6e 7d20 616e 6420 7461 6720  ersion} and tag 
-00029610: 7b74 6167 7d22 290a 2020 2020 2020 2020  {tag}").        
-00029620: 6469 7363 6f6e 6e65 6374 6564 5f76 6d20  disconnected_vm 
-00029630: 3d20 6622 7b63 6c75 7374 6572 7d2d 6469  = f"{cluster}-di
-00029640: 7363 6f6e 6e65 6374 6564 220a 2020 2020  sconnected".    
-00029650: 2020 2020 6469 7363 6f6e 6e65 6374 6564      disconnected
-00029660: 5f72 6575 7365 203d 2064 6174 612e 6765  _reuse = data.ge
-00029670: 7428 2764 6973 636f 6e6e 6563 7465 645f  t('disconnected_
-00029680: 7265 7573 6527 2c20 4661 6c73 6529 0a20  reuse', False). 
-00029690: 2020 2020 2020 2064 6973 636f 6e6e 6563         disconnec
-000296a0: 7465 645f 7379 6e63 203d 2064 6174 612e  ted_sync = data.
-000296b0: 6765 7428 2764 6973 636f 6e6e 6563 7465  get('disconnecte
-000296c0: 645f 7379 6e63 272c 2054 7275 6529 0a20  d_sync', True). 
-000296d0: 2020 2020 2020 2070 7072 696e 7428 6622         pprint(f"
-000296e0: 4465 706c 6f79 696e 6720 6469 7363 6f6e  Deploying discon
-000296f0: 6e65 6374 6564 2076 6d20 7b64 6973 636f  nected vm {disco
-00029700: 6e6e 6563 7465 645f 766d 7d22 290a 2020  nnected_vm}").  
-00029710: 2020 2020 2020 6966 2064 6973 636f 6e6e        if disconn
-00029720: 6563 7465 645f 7379 6e63 3a0a 2020 2020  ected_sync:.    
-00029730: 2020 2020 2020 2020 7075 6c6c 5f73 6563          pull_sec
-00029740: 7265 7420 3d20 7077 645f 7061 7468 2864  ret = pwd_path(d
-00029750: 6174 612e 6765 7428 2770 756c 6c5f 7365  ata.get('pull_se
-00029760: 6372 6574 2729 2920 6966 206e 6f74 2075  cret')) if not u
-00029770: 7073 7472 6561 6d20 656c 7365 2066 227b  pstream else f"{
-00029780: 706c 616e 6469 727d 2f66 616b 655f 7075  plandir}/fake_pu
-00029790: 6c6c 2e6a 736f 6e22 0a20 2020 2020 2020  ll.json".       
-000297a0: 2020 2020 2069 6620 6e6f 7420 7570 7374       if not upst
-000297b0: 7265 616d 3a0a 2020 2020 2020 2020 2020  ream:.          
-000297c0: 2020 2020 2020 7075 6c6c 5f73 6563 7265        pull_secre
-000297d0: 7420 3d20 7077 645f 7061 7468 2864 6174  t = pwd_path(dat
-000297e0: 612e 6765 7428 2770 756c 6c5f 7365 6372  a.get('pull_secr
-000297f0: 6574 272c 2027 6f70 656e 7368 6966 745f  et', 'openshift_
-00029800: 7075 6c6c 2e6a 736f 6e27 2929 0a20 2020  pull.json')).   
-00029810: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00029820: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00029830: 756c 6c5f 7365 6372 6574 203d 2066 227b  ull_secret = f"{
-00029840: 706c 616e 6469 727d 2f66 616b 655f 7075  plandir}/fake_pu
-00029850: 6c6c 2e6a 736f 6e22 0a20 2020 2020 2020  ll.json".       
-00029860: 2020 2020 2069 6620 6e6f 7420 6f73 2e70       if not os.p
-00029870: 6174 682e 6578 6973 7473 2870 756c 6c5f  ath.exists(pull_
-00029880: 7365 6372 6574 293a 0a20 2020 2020 2020  secret):.       
-00029890: 2020 2020 2020 2020 2065 7272 6f72 2866           error(f
-000298a0: 224d 6973 7369 6e67 2070 756c 6c20 7365  "Missing pull se
-000298b0: 6372 6574 2066 696c 6520 7b70 756c 6c5f  cret file {pull_
-000298c0: 7365 6372 6574 7d22 290a 2020 2020 2020  secret}").      
-000298d0: 2020 2020 2020 2020 2020 7379 732e 6578            sys.ex
-000298e0: 6974 2831 290a 2020 2020 2020 2020 2020  it(1).          
-000298f0: 2020 6461 7461 5b27 7075 6c6c 5f73 6563    data['pull_sec
-00029900: 7265 7427 5d20 3d20 7265 2e73 7562 2872  ret'] = re.sub(r
-00029910: 225c 7322 2c20 2222 2c20 6f70 656e 2870  "\s", "", open(p
-00029920: 756c 6c5f 7365 6372 6574 292e 7265 6164  ull_secret).read
-00029930: 2829 290a 2020 2020 2020 2020 6469 7363  ()).        disc
-00029940: 6f6e 6e65 6374 6564 5f70 6c61 6e20 3d20  onnected_plan = 
-00029950: 6622 7b70 6c61 6e7d 2d72 6575 7365 2220  f"{plan}-reuse" 
-00029960: 6966 2064 6973 636f 6e6e 6563 7465 645f  if disconnected_
-00029970: 7265 7573 6520 656c 7365 2070 6c61 6e0a  reuse else plan.
-00029980: 2020 2020 2020 2020 6966 2076 6572 7369          if versi
-00029990: 6f6e 203d 3d20 2763 6927 2061 6e64 2027  on == 'ci' and '
-000299a0: 6469 7363 6f6e 6e65 6374 6564 5f6f 7269  disconnected_ori
-000299b0: 6769 6e27 206e 6f74 2069 6e20 6f76 6572  gin' not in over
-000299c0: 7269 6465 733a 0a20 2020 2020 2020 2020  rides:.         
-000299d0: 2020 2072 6567 203d 2027 7265 6769 7374     reg = 'regist
-000299e0: 7279 2e62 7569 6c64 3031 2e63 692e 6f70  ry.build01.ci.op
-000299f0: 656e 7368 6966 742e 6f72 6727 2069 6620  enshift.org' if 
-00029a00: 7374 7228 7461 6729 2e73 7461 7274 7377  str(tag).startsw
-00029a10: 6974 6828 2763 692d 2729 2065 6c73 6520  ith('ci-') else 
-00029a20: 2772 6567 6973 7472 792e 6369 2e6f 7065  'registry.ci.ope
-00029a30: 6e73 6869 6674 2e6f 7267 270a 2020 2020  nshift.org'.    
-00029a40: 2020 2020 2020 2020 7761 726e 696e 6728          warning(
-00029a50: 6622 466f 7263 696e 6720 6469 7363 6f6e  f"Forcing discon
-00029a60: 6e65 6374 6564 5f6f 7269 6769 6e20 746f  nected_origin to
-00029a70: 207b 7265 677d 2229 0a20 2020 2020 2020   {reg}").       
-00029a80: 2020 2020 2064 6174 615b 2764 6973 636f       data['disco
-00029a90: 6e6e 6563 7465 645f 6f72 6967 696e 275d  nnected_origin']
-00029aa0: 203d 2072 6567 0a20 2020 2020 2020 2072   = reg.        r
-00029ab0: 6573 756c 7420 3d20 7365 6c66 2e70 6c61  esult = self.pla
-00029ac0: 6e28 6469 7363 6f6e 6e65 6374 6564 5f70  n(disconnected_p
-00029ad0: 6c61 6e2c 2069 6e70 7574 6669 6c65 3d66  lan, inputfile=f
-00029ae0: 277b 706c 616e 6469 727d 2f64 6973 636f  '{plandir}/disco
-00029af0: 6e6e 6563 7465 642e 796d 6c27 2c20 6f76  nnected.yml', ov
-00029b00: 6572 7269 6465 733d 6461 7461 290a 2020  errides=data).  
-00029b10: 2020 2020 2020 6966 2072 6573 756c 745b        if result[
-00029b20: 2772 6573 756c 7427 5d20 213d 2027 7375  'result'] != 'su
-00029b30: 6363 6573 7327 3a0a 2020 2020 2020 2020  ccess':.        
-00029b40: 2020 2020 7379 732e 6578 6974 2831 290a      sys.exit(1).
-00029b50: 2020 2020 2020 2020 656c 6966 2064 6973          elif dis
-00029b60: 636f 6e6e 6563 7465 645f 7379 6e63 3a0a  connected_sync:.
-00029b70: 2020 2020 2020 2020 2020 2020 7070 7269              ppri
-00029b80: 6e74 2822 5573 6520 7468 6520 666f 6c6c  nt("Use the foll
-00029b90: 6f77 696e 6720 4f50 454e 5348 4946 545f  owing OPENSHIFT_
-00029ba0: 494e 5354 414c 4c5f 5245 4c45 4153 455f  INSTALL_RELEASE_
-00029bb0: 494d 4147 455f 4f56 4552 5249 4445 2229  IMAGE_OVERRIDE")
-00029bc0: 0a20 2020 2020 2020 2020 2020 206e 616d  .            nam
-00029bd0: 6520 3d20 6461 7461 2e67 6574 2827 6469  e = data.get('di
-00029be0: 7363 6f6e 6e65 6374 6564 5f72 6575 7365  sconnected_reuse
-00029bf0: 5f6e 616d 6527 2920 6f72 2063 6c75 7374  _name') or clust
-00029c00: 6572 0a20 2020 2020 2020 2020 2020 2069  er.            i
-00029c10: 702c 2076 6d70 6f72 7420 3d20 5f73 7368  p, vmport = _ssh
-00029c20: 5f63 7265 6465 6e74 6961 6c73 2873 656c  _credentials(sel
-00029c30: 662e 6b2c 2066 277b 6e61 6d65 7d2d 6469  f.k, f'{name}-di
-00029c40: 7363 6f6e 6e65 6374 6564 2729 5b31 3a5d  sconnected')[1:]
-00029c50: 0a20 2020 2020 2020 2020 2020 2063 6d64  .            cmd
-00029c60: 203d 2022 6361 7420 2f72 6f6f 742f 7665   = "cat /root/ve
-00029c70: 7273 696f 6e2e 7478 7422 0a20 2020 2020  rsion.txt".     
-00029c80: 2020 2020 2020 2073 7368 636d 6420 3d20         sshcmd = 
-00029c90: 7373 6828 6e61 6d65 2c20 6970 3d69 702c  ssh(name, ip=ip,
-00029ca0: 2075 7365 723d 2772 6f6f 7427 2c20 7475   user='root', tu
-00029cb0: 6e6e 656c 3d73 656c 662e 7475 6e6e 656c  nnel=self.tunnel
-00029cc0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00029cd0: 2020 2020 2020 2020 2020 2074 756e 6e65             tunne
-00029ce0: 6c68 6f73 743d 7365 6c66 2e74 756e 6e65  lhost=self.tunne
-00029cf0: 6c68 6f73 742c 2074 756e 6e65 6c70 6f72  lhost, tunnelpor
-00029d00: 743d 7365 6c66 2e74 756e 6e65 6c70 6f72  t=self.tunnelpor
-00029d10: 742c 0a20 2020 2020 2020 2020 2020 2020  t,.             
-00029d20: 2020 2020 2020 2020 2020 2020 7475 6e6e              tunn
-00029d30: 656c 7573 6572 3d73 656c 662e 7475 6e6e  eluser=self.tunn
-00029d40: 656c 7573 6572 2c20 696e 7365 6375 7265  eluser, insecure
-00029d50: 3d54 7275 652c 2063 6d64 3d63 6d64 2c20  =True, cmd=cmd, 
-00029d60: 766d 706f 7274 3d76 6d70 6f72 7429 0a20  vmport=vmport). 
-00029d70: 2020 2020 2020 2020 2020 206f 732e 7379             os.sy
-00029d80: 7374 656d 2873 7368 636d 6429 0a0a 2020  stem(sshcmd)..  
-00029d90: 2020 6465 6620 6861 6e64 6c65 5f66 696e    def handle_fin
-00029da0: 6973 6866 696c 6573 2873 656c 662c 206e  ishfiles(self, n
-00029db0: 616d 652c 2066 696e 6973 6866 696c 6573  ame, finishfiles
-00029dc0: 2c20 6964 656e 7469 7479 6669 6c65 3d4e  , identityfile=N
-00029dd0: 6f6e 652c 2076 6d63 6c69 656e 743d 4e6f  one, vmclient=No
-00029de0: 6e65 293a 0a20 2020 2020 2020 2063 6f6e  ne):.        con
-00029df0: 6669 6720 3d20 4b63 6f6e 6669 6728 636c  fig = Kconfig(cl
-00029e00: 6965 6e74 3d76 6d63 6c69 656e 7429 2069  ient=vmclient) i
-00029e10: 6620 766d 636c 6965 6e74 2069 7320 6e6f  f vmclient is no
-00029e20: 7420 4e6f 6e65 2065 6c73 6520 7365 6c66  t None else self
-00029e30: 0a20 2020 2020 2020 206b 203d 2063 6f6e  .        k = con
-00029e40: 6669 672e 6b0a 2020 2020 2020 2020 6375  fig.k.        cu
-00029e50: 7272 656e 745f 6970 203d 2063 6f6d 6d6f  rrent_ip = commo
-00029e60: 6e2e 5f73 7368 5f63 7265 6465 6e74 6961  n._ssh_credentia
-00029e70: 6c73 286b 2c20 6e61 6d65 295b 315d 0a20  ls(k, name)[1]. 
-00029e80: 2020 2020 2020 2066 6f72 2066 696e 6973         for finis
-00029e90: 6866 696c 6520 696e 2066 696e 6973 6866  hfile in finishf
-00029ea0: 696c 6573 3a0a 2020 2020 2020 2020 2020  iles:.          
-00029eb0: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-00029ec0: 6669 6e69 7368 6669 6c65 2c20 7374 7229  finishfile, str)
-00029ed0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00029ee0: 2020 6465 7374 696e 6174 696f 6e20 3d20    destination = 
-00029ef0: 272e 270a 2020 2020 2020 2020 2020 2020  '.'.            
-00029f00: 2020 2020 736f 7572 6365 203d 2066 696e      source = fin
-00029f10: 6973 6866 696c 6520 6966 2027 2f27 2069  ishfile if '/' i
-00029f20: 6e20 6669 6e69 7368 6669 6c65 2065 6c73  n finishfile els
-00029f30: 6520 6627 2f72 6f6f 742f 7b66 696e 6973  e f'/root/{finis
-00029f40: 6866 696c 657d 270a 2020 2020 2020 2020  hfile}'.        
-00029f50: 2020 2020 656c 6966 2069 7369 6e73 7461      elif isinsta
-00029f60: 6e63 6528 6669 6e69 7368 6669 6c65 2c20  nce(finishfile, 
-00029f70: 6469 6374 2920 616e 6420 276f 7269 6769  dict) and 'origi
-00029f80: 6e27 2069 6e20 6669 6e69 7368 6669 6c65  n' in finishfile
-00029f90: 2061 6e64 2027 7061 7468 2720 696e 2066   and 'path' in f
-00029fa0: 696e 6973 6866 696c 653a 0a20 2020 2020  inishfile:.     
-00029fb0: 2020 2020 2020 2020 2020 2073 6f75 7263             sourc
-00029fc0: 652c 2064 6573 7469 6e61 7469 6f6e 203d  e, destination =
-00029fd0: 2066 696e 6973 6866 696c 652e 6765 7428   finishfile.get(
-00029fe0: 276f 7269 6769 6e27 292c 206f 732e 7061  'origin'), os.pa
-00029ff0: 7468 2e65 7870 616e 6475 7365 7228 6669  th.expanduser(fi
-0002a000: 6e69 7368 6669 6c65 2e67 6574 2827 7061  nishfile.get('pa
-0002a010: 7468 272c 2027 2e27 2929 0a20 2020 2020  th', '.')).     
-0002a020: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0002a030: 2020 2020 2020 2020 2020 2020 2077 6172               war
-0002a040: 6e69 6e67 2866 2249 6e63 6f72 7265 6374  ning(f"Incorrect
-0002a050: 2066 696e 6973 6866 696c 6520 656e 7472   finishfile entr
-0002a060: 7920 7b66 696e 6973 6866 696c 657d 2e20  y {finishfile}. 
-0002a070: 536b 6970 7069 6e67 2229 0a20 2020 2020  Skipping").     
-0002a080: 2020 2020 2020 2020 2020 2063 6f6e 7469             conti
-0002a090: 6e75 650a 2020 2020 2020 2020 2020 2020  nue.            
-0002a0a0: 7363 7063 6d64 203d 2063 6f6d 6d6f 6e2e  scpcmd = common.
-0002a0b0: 7363 7028 6e61 6d65 2c20 6970 3d63 7572  scp(name, ip=cur
-0002a0c0: 7265 6e74 5f69 702c 2075 7365 723d 2772  rent_ip, user='r
-0002a0d0: 6f6f 7427 2c20 736f 7572 6365 3d73 6f75  oot', source=sou
-0002a0e0: 7263 652c 2064 6573 7469 6e61 7469 6f6e  rce, destination
-0002a0f0: 3d64 6573 7469 6e61 7469 6f6e 2c0a 2020  =destination,.  
-0002a100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a110: 2020 2020 2020 2020 2020 2020 2020 7475                tu
-0002a120: 6e6e 656c 3d63 6f6e 6669 672e 7475 6e6e  nnel=config.tunn
-0002a130: 656c 2c20 7475 6e6e 656c 686f 7374 3d63  el, tunnelhost=c
-0002a140: 6f6e 6669 672e 7475 6e6e 656c 686f 7374  onfig.tunnelhost
-0002a150: 2c20 7475 6e6e 656c 706f 7274 3d63 6f6e  , tunnelport=con
-0002a160: 6669 672e 7475 6e6e 656c 706f 7274 2c0a  fig.tunnelport,.
+000287d0: 2020 2020 2073 7973 2e65 7869 7428 3129       sys.exit(1)
+000287e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000287f0: 2020 2020 2077 6172 6e69 6e67 2822 436f       warning("Co
+00028800: 756c 646e 2774 2066 6967 7572 6520 6f75  uldn't figure ou
+00028810: 7420 6170 695f 6970 2e20 5265 6c79 696e  t api_ip. Relyin
+00028820: 6720 6f6e 2064 6e73 2229 0a20 2020 2020  g on dns").     
+00028830: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00028840: 7069 5f69 7020 3d20 6622 6170 692e 7b63  pi_ip = f"api.{c
+00028850: 6c75 7374 6572 7d2e 7b64 6f6d 6169 6e7d  luster}.{domain}
+00028860: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00028870: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00028880: 2020 2020 2020 2020 2020 2020 686f 7374              host
+00028890: 735f 636f 6e74 656e 7420 3d20 2231 3237  s_content = "127
+000288a0: 2e30 2e30 2e31 2020 206c 6f63 616c 686f  .0.0.1   localho
+000288b0: 7374 206c 6f63 616c 686f 7374 2e6c 6f63  st localhost.loc
+000288c0: 616c 646f 6d61 696e 206c 6f63 616c 686f  aldomain localho
+000288d0: 7374 3420 6c6f 6361 6c68 6f73 7434 2e6c  st4 localhost4.l
+000288e0: 6f63 616c 646f 6d61 696e 345c 6e22 0a20  ocaldomain4\n". 
+000288f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028900: 2020 2068 6f73 7473 5f63 6f6e 7465 6e74     hosts_content
+00028910: 202b 3d20 223a 3a31 2020 2020 2020 2020   += "::1        
+00028920: 206c 6f63 616c 686f 7374 206c 6f63 616c   localhost local
+00028930: 686f 7374 2e6c 6f63 616c 646f 6d61 696e  host.localdomain
+00028940: 206c 6f63 616c 686f 7374 3620 6c6f 6361   localhost6 loca
+00028950: 6c68 6f73 7436 2e6c 6f63 616c 646f 6d61  lhost6.localdoma
+00028960: 696e 365c 6e22 0a20 2020 2020 2020 2020  in6\n".         
+00028970: 2020 2020 2020 2020 2020 2068 6f73 7473             hosts
+00028980: 5f63 6f6e 7465 6e74 202b 3d20 6622 7b61  _content += f"{a
+00028990: 7069 5f69 707d 2061 7069 2d69 6e74 2e7b  pi_ip} api-int.{
+000289a0: 636c 7573 7465 727d 2e7b 646f 6d61 696e  cluster}.{domain
+000289b0: 7d20 6170 692e 7b63 6c75 7374 6572 7d2e  } api.{cluster}.
+000289c0: 7b64 6f6d 6169 6e7d 220a 2020 2020 2020  {domain}".      
+000289d0: 2020 706c 616e 6469 7220 3d20 6f73 2e70    plandir = os.p
+000289e0: 6174 682e 6469 726e 616d 6528 6f70 656e  ath.dirname(open
+000289f0: 7368 6966 742e 6372 6561 7465 2e5f 5f63  shift.create.__c
+00028a00: 6f64 655f 5f2e 636f 5f66 696c 656e 616d  ode__.co_filenam
+00028a10: 6529 0a20 2020 2020 2020 2077 6974 6820  e).        with 
+00028a20: 6f70 656e 2822 6973 6f2e 6967 6e22 2c20  open("iso.ign", 
+00028a30: 2777 2729 2061 7320 663a 0a20 2020 2020  'w') as f:.     
+00028a40: 2020 2020 2020 2066 756c 6c5f 6e61 6d65         full_name
+00028a50: 203d 2066 277b 636c 7573 7465 727d 2e7b   = f'{cluster}.{
+00028a60: 646f 6d61 696e 7d27 2069 6620 646f 6d61  domain}' if doma
+00028a70: 696e 2069 7320 6e6f 7420 4e6f 6e65 2065  in is not None e
+00028a80: 6c73 6520 636c 7573 7465 720a 2020 2020  lse cluster.    
+00028a90: 2020 2020 2020 2020 7070 7269 6e74 2866          pprint(f
+00028aa0: 2257 7269 7469 6e67 2066 696c 6520 6973  "Writing file is
+00028ab0: 6f2e 6967 6e20 666f 7220 7b72 6f6c 657d  o.ign for {role}
+00028ac0: 2069 6e20 7b66 756c 6c5f 6e61 6d65 7d22   in {full_name}"
+00028ad0: 290a 2020 2020 2020 2020 2020 2020 6973  ).            is
+00028ae0: 6f64 6972 203d 206f 732e 7061 7468 2e64  odir = os.path.d
+00028af0: 6972 6e61 6d65 2863 6f6d 6d6f 6e2e 5f5f  irname(common.__
+00028b00: 6669 6c65 5f5f 290a 2020 2020 2020 2020  file__).        
+00028b10: 2020 2020 6966 2066 696e 616c 6461 7461      if finaldata
+00028b20: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
+00028b30: 2020 2020 2020 2020 2020 656e 7620 3d20            env = 
+00028b40: 456e 7669 726f 6e6d 656e 7428 6c6f 6164  Environment(load
+00028b50: 6572 3d46 696c 6553 7973 7465 6d4c 6f61  er=FileSystemLoa
+00028b60: 6465 7228 6973 6f64 6972 292c 2065 7874  der(isodir), ext
+00028b70: 656e 7369 6f6e 733d 5b27 6a69 6e6a 6132  ensions=['jinja2
+00028b80: 2e65 7874 2e64 6f27 5d2c 2074 7269 6d5f  .ext.do'], trim_
+00028b90: 626c 6f63 6b73 3d54 7275 652c 0a20 2020  blocks=True,.   
+00028ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028bb0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+00028bc0: 7374 7269 705f 626c 6f63 6b73 3d54 7275  strip_blocks=Tru
+00028bd0: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+00028be0: 2020 2074 656d 706c 203d 2065 6e76 2e67     templ = env.g
+00028bf0: 6574 5f74 656d 706c 6174 6528 6f73 2e70  et_template(os.p
+00028c00: 6174 682e 6261 7365 6e61 6d65 2822 6967  ath.basename("ig
+00028c10: 6e69 7469 6f6e 2e6a 3222 2929 0a20 2020  nition.j2")).   
+00028c20: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00028c30: 686f 7374 735f 636f 6e74 656e 7420 6973  hosts_content is
+00028c40: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+00028c50: 2020 2020 2020 2020 2020 2020 2020 2068                 h
+00028c60: 6f73 7473 5f63 6f6e 7465 6e74 203d 2062  osts_content = b
+00028c70: 6173 6536 342e 6236 3465 6e63 6f64 6528  ase64.b64encode(
+00028c80: 686f 7374 735f 636f 6e74 656e 742e 656e  hosts_content.en
+00028c90: 636f 6465 2829 292e 6465 636f 6465 2822  code()).decode("
+00028ca0: 5554 462d 3822 290a 2020 2020 2020 2020  UTF-8").        
+00028cb0: 2020 2020 2020 2020 6966 2027 3a27 2069          if ':' i
+00028cc0: 6e20 6170 695f 6970 3a20 2020 2320 4950  n api_ip:   # IP
+00028cd0: 7636 2061 6464 7265 7373 0a20 2020 2020  v6 address.     
+00028ce0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00028cf0: 676e 6974 696f 6e5f 7572 6c20 3d20 6622  gnition_url = f"
+00028d00: 6874 7470 3a2f 2f5b 7b61 7069 5f69 707d  http://[{api_ip}
+00028d10: 5d3a 3232 3632 342f 636f 6e66 6967 2f7b  ]:22624/config/{
+00028d20: 726f 6c65 7d22 0a20 2020 2020 2020 2020  role}".         
+00028d30: 2020 2020 2020 2065 6c73 653a 2020 2020         else:    
+00028d40: 2020 2020 2020 2020 2020 2023 2049 5076             # IPv
+00028d50: 3420 6164 6472 6573 730a 2020 2020 2020  4 address.      
+00028d60: 2020 2020 2020 2020 2020 2020 2020 6967                ig
+00028d70: 6e69 7469 6f6e 5f75 726c 203d 2066 2268  nition_url = f"h
+00028d80: 7474 703a 2f2f 7b61 7069 5f69 707d 3a32  ttp://{api_ip}:2
+00028d90: 3236 3234 2f63 6f6e 6669 672f 7b72 6f6c  2624/config/{rol
+00028da0: 657d 220a 2020 2020 2020 2020 2020 2020  e}".            
+00028db0: 2020 2020 6669 6e61 6c64 6174 6120 3d20      finaldata = 
+00028dc0: 7465 6d70 6c2e 7265 6e64 6572 2869 676e  templ.render(ign
+00028dd0: 6974 696f 6e5f 7572 6c3d 6967 6e69 7469  ition_url=igniti
+00028de0: 6f6e 5f75 726c 2c20 686f 7374 735f 636f  on_url, hosts_co
+00028df0: 6e74 656e 743d 686f 7374 735f 636f 6e74  ntent=hosts_cont
+00028e00: 656e 742c 0a20 2020 2020 2020 2020 2020  ent,.           
+00028e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028e20: 2020 2020 2020 2020 2020 2020 2020 6967                ig
+00028e30: 6e69 7469 6f6e 5f76 6572 7369 6f6e 3d69  nition_version=i
+00028e40: 676e 6974 696f 6e5f 7665 7273 696f 6e29  gnition_version)
+00028e50: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00028e60: 6469 7265 6374 3a0a 2020 2020 2020 2020  direct:.        
+00028e70: 2020 2020 2020 2020 662e 7772 6974 6528          f.write(
+00028e80: 6669 6e61 6c64 6174 6129 0a20 2020 2020  finaldata).     
+00028e90: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00028ea0: 2020 2020 2020 2020 2020 2020 205f 6669               _fi
+00028eb0: 6c65 7320 3d20 5b7b 2270 6174 6822 3a20  les = [{"path": 
+00028ec0: 222f 726f 6f74 2f63 6f6e 6669 672e 6967  "/root/config.ig
+00028ed0: 6e22 2c20 2263 6f6e 7465 6e74 223a 2066  n", "content": f
+00028ee0: 696e 616c 6461 7461 7d5d 0a20 2020 2020  inaldata}].     
+00028ef0: 2020 2020 2020 2020 2020 2069 6620 6f73             if os
+00028f00: 2e70 6174 682e 6578 6973 7473 2827 6973  .path.exists('is
+00028f10: 6f2e 7368 2729 3a0a 2020 2020 2020 2020  o.sh'):.        
+00028f20: 2020 2020 2020 2020 2020 2020 7070 7269              ppri
+00028f30: 6e74 2822 5573 696e 6720 6c6f 6361 6c20  nt("Using local 
+00028f40: 6973 6f2e 7368 2073 6372 6970 7422 290a  iso.sh script").
+00028f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028f60: 2020 2020 6973 6f73 6372 6970 7420 3d20      isoscript = 
+00028f70: 2769 736f 2e73 6827 0a20 2020 2020 2020  'iso.sh'.       
+00028f80: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00028f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028fa0: 2020 2069 736f 7363 7269 7074 203d 2066     isoscript = f
+00028fb0: 277b 706c 616e 6469 727d 2f69 736f 2e73  '{plandir}/iso.s
+00028fc0: 6827 0a20 2020 2020 2020 2020 2020 2020  h'.             
+00028fd0: 2020 2069 6620 6f73 2e70 6174 682e 6578     if os.path.ex
+00028fe0: 6973 7473 2827 6d61 6373 2e74 7874 2729  ists('macs.txt')
+00028ff0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00029000: 2020 2020 2020 5f66 696c 6573 2e61 7070        _files.app
+00029010: 656e 6428 7b22 7061 7468 223a 2022 2f72  end({"path": "/r
+00029020: 6f6f 742f 6d61 6373 2e74 7874 222c 2022  oot/macs.txt", "
+00029030: 6f72 6967 696e 223a 2027 6d61 6373 2e74  origin": 'macs.t
+00029040: 7874 277d 290a 2020 2020 2020 2020 2020  xt'}).          
+00029050: 2020 2020 2020 6973 6f5f 6f76 6572 7269        iso_overri
+00029060: 6465 7320 3d20 7b27 7363 7269 7074 7327  des = {'scripts'
+00029070: 3a20 5b69 736f 7363 7269 7074 5d2c 2027  : [isoscript], '
+00029080: 6669 6c65 7327 3a20 5f66 696c 6573 2c20  files': _files, 
+00029090: 276d 6574 616c 5f75 726c 273a 206d 6574  'metal_url': met
+000290a0: 616c 5f75 726c 2c20 276e 6f6e 616d 6527  al_url, 'noname'
+000290b0: 3a20 5472 7565 2c0a 2020 2020 2020 2020  : True,.        
+000290c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000290d0: 2020 2020 2020 2020 2027 696d 6167 6527           'image'
+000290e0: 3a20 2772 6863 6f73 3430 3030 277d 0a20  : 'rhcos4000'}. 
+000290f0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00029100: 6620 6d65 7461 6c5f 7572 6c20 6973 206e  f metal_url is n
+00029110: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+00029120: 2020 2020 2020 2020 2020 2020 2069 736f               iso
+00029130: 5f6f 7665 7272 6964 6573 5b27 6e65 6564  _overrides['need
+00029140: 5f6e 6574 776f 726b 275d 203d 2054 7275  _network'] = Tru
+00029150: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+00029160: 2020 6973 6f5f 6f76 6572 7269 6465 732e    iso_overrides.
+00029170: 7570 6461 7465 286f 7665 7272 6964 6573  update(overrides
+00029180: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00029190: 2020 6966 2027 6e61 6d65 2720 696e 206f    if 'name' in o
+000291a0: 7665 7272 6964 6573 3a0a 2020 2020 2020  verrides:.      
+000291b0: 2020 2020 2020 2020 2020 2020 2020 6973                is
+000291c0: 6f5f 6e61 6d65 203d 206f 7665 7272 6964  o_name = overrid
+000291d0: 6573 5b27 6e61 6d65 275d 0a20 2020 2020  es['name'].     
+000291e0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+000291f0: 736f 5f6f 7665 7272 6964 6573 5b27 6e6f  so_overrides['no
+00029200: 6e61 6d65 275d 203d 2046 616c 7365 0a20  name'] = False. 
+00029210: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00029220: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00029230: 2020 2020 2020 2020 2069 736f 5f6e 616d           iso_nam
+00029240: 6520 3d20 2761 7574 6f69 6e73 7461 6c6c  e = 'autoinstall
+00029250: 6572 270a 2020 2020 2020 2020 2020 2020  er'.            
+00029260: 2020 2020 7265 7375 6c74 203d 2073 656c      result = sel
+00029270: 662e 6372 6561 7465 5f76 6d28 6973 6f5f  f.create_vm(iso_
+00029280: 6e61 6d65 2c20 6f76 6572 7269 6465 733d  name, overrides=
+00029290: 6973 6f5f 6f76 6572 7269 6465 732c 206f  iso_overrides, o
+000292a0: 6e6c 7961 7373 6574 733d 5472 7565 290a  nlyassets=True).
+000292b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000292c0: 6966 2027 7265 6173 6f6e 2720 696e 2072  if 'reason' in r
+000292d0: 6573 756c 743a 0a20 2020 2020 2020 2020  esult:.         
+000292e0: 2020 2020 2020 2020 2020 2065 7272 6f72             error
+000292f0: 2872 6573 756c 745b 2772 6561 736f 6e27  (result['reason'
+00029300: 5d29 0a20 2020 2020 2020 2020 2020 2020  ]).             
+00029310: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00029320: 2020 2020 2020 2020 2020 2020 2066 2e77               f.w
+00029330: 7269 7465 2872 6573 756c 745b 2764 6174  rite(result['dat
+00029340: 6127 5d29 0a20 2020 2020 2020 2069 6620  a']).        if 
+00029350: 6973 6f3a 0a20 2020 2020 2020 2020 2020  iso:.           
+00029360: 2069 6620 7365 6c66 2e74 7970 6520 6e6f   if self.type no
+00029370: 7420 696e 205b 276b 766d 272c 2027 6661  t in ['kvm', 'fa
+00029380: 6b65 272c 2027 6b75 6265 7669 7274 272c  ke', 'kubevirt',
+00029390: 2027 7673 7068 6572 6527 2c20 276f 7065   'vsphere', 'ope
+000293a0: 6e73 7461 636b 275d 3a0a 2020 2020 2020  nstack']:.      
+000293b0: 2020 2020 2020 2020 2020 7761 726e 696e            warnin
+000293c0: 6728 6622 4973 6f20 6765 6e65 7261 7469  g(f"Iso generati
+000293d0: 6f6e 206e 6f74 2073 7570 706f 7274 6564  on not supported
+000293e0: 206f 6e20 7b73 656c 662e 7479 7065 7d22   on {self.type}"
+000293f0: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
+00029400: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00029410: 2020 2020 6973 6f5f 706f 6f6c 203d 206f      iso_pool = o
+00029420: 7665 7272 6964 6573 2e67 6574 2827 706f  verrides.get('po
+00029430: 6f6c 2729 206f 7220 7365 6c66 2e70 6f6f  ol') or self.poo
+00029440: 6c0a 2020 2020 2020 2020 2020 2020 2020  l.              
+00029450: 2020 6765 6e65 7261 7465 5f72 6863 6f73    generate_rhcos
+00029460: 5f69 736f 2873 656c 662e 6b2c 2066 227b  _iso(self.k, f"{
+00029470: 636c 7573 7465 727d 2d7b 726f 6c65 7d22  cluster}-{role}"
+00029480: 2c20 6973 6f5f 706f 6f6c 2c20 7665 7273  , iso_pool, vers
+00029490: 696f 6e3d 6973 6f5f 7665 7273 696f 6e2c  ion=iso_version,
+000294a0: 2070 6f64 6d61 6e3d 706f 646d 616e 2c0a   podman=podman,.
+000294b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000294c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000294d0: 2020 2069 6e73 7461 6c6c 6572 3d69 6e73     installer=ins
+000294e0: 7461 6c6c 6572 290a 0a20 2020 2064 6566  taller)..    def
+000294f0: 2063 7265 6174 655f 6f70 656e 7368 6966   create_openshif
+00029500: 745f 6469 7363 6f6e 6e65 6374 6564 2873  t_disconnected(s
+00029510: 656c 662c 2070 6c61 6e2c 206f 7665 7272  elf, plan, overr
+00029520: 6964 6573 3d7b 7d29 3a0a 2020 2020 2020  ides={}):.      
+00029530: 2020 6461 7461 203d 206f 7665 7272 6964    data = overrid
+00029540: 6573 0a20 2020 2020 2020 2070 6c61 6e64  es.        pland
+00029550: 6972 203d 206f 732e 7061 7468 2e64 6972  ir = os.path.dir
+00029560: 6e61 6d65 286f 7065 6e73 6869 6674 2e63  name(openshift.c
+00029570: 7265 6174 652e 5f5f 636f 6465 5f5f 2e63  reate.__code__.c
+00029580: 6f5f 6669 6c65 6e61 6d65 290a 2020 2020  o_filename).    
+00029590: 2020 2020 636c 7573 7465 7220 3d20 6461      cluster = da
+000295a0: 7461 2e67 6574 2827 636c 7573 7465 7227  ta.get('cluster'
+000295b0: 2c20 276d 796f 7065 6e73 6869 6674 2729  , 'myopenshift')
+000295c0: 0a20 2020 2020 2020 2075 7073 7472 6561  .        upstrea
+000295d0: 6d20 3d20 6461 7461 2e67 6574 2827 7570  m = data.get('up
+000295e0: 7374 7265 616d 272c 2046 616c 7365 290a  stream', False).
+000295f0: 2020 2020 2020 2020 7665 7273 696f 6e20          version 
+00029600: 3d20 6461 7461 2e67 6574 2827 7665 7273  = data.get('vers
+00029610: 696f 6e27 2c20 2773 7461 626c 6527 290a  ion', 'stable').
+00029620: 2020 2020 2020 2020 7461 6720 3d20 6461          tag = da
+00029630: 7461 2e67 6574 2827 7461 6727 2c20 4f50  ta.get('tag', OP
+00029640: 454e 5348 4946 545f 5441 4729 0a20 2020  ENSHIFT_TAG).   
+00029650: 2020 2020 2070 7072 696e 7428 6622 5573       pprint(f"Us
+00029660: 696e 6720 7665 7273 696f 6e20 7b76 6572  ing version {ver
+00029670: 7369 6f6e 7d20 616e 6420 7461 6720 7b74  sion} and tag {t
+00029680: 6167 7d22 290a 2020 2020 2020 2020 6469  ag}").        di
+00029690: 7363 6f6e 6e65 6374 6564 5f76 6d20 3d20  sconnected_vm = 
+000296a0: 6622 7b63 6c75 7374 6572 7d2d 6469 7363  f"{cluster}-disc
+000296b0: 6f6e 6e65 6374 6564 220a 2020 2020 2020  onnected".      
+000296c0: 2020 6469 7363 6f6e 6e65 6374 6564 5f72    disconnected_r
+000296d0: 6575 7365 203d 2064 6174 612e 6765 7428  euse = data.get(
+000296e0: 2764 6973 636f 6e6e 6563 7465 645f 7265  'disconnected_re
+000296f0: 7573 6527 2c20 4661 6c73 6529 0a20 2020  use', False).   
+00029700: 2020 2020 2064 6973 636f 6e6e 6563 7465       disconnecte
+00029710: 645f 7379 6e63 203d 2064 6174 612e 6765  d_sync = data.ge
+00029720: 7428 2764 6973 636f 6e6e 6563 7465 645f  t('disconnected_
+00029730: 7379 6e63 272c 2054 7275 6529 0a20 2020  sync', True).   
+00029740: 2020 2020 2070 7072 696e 7428 6622 4465       pprint(f"De
+00029750: 706c 6f79 696e 6720 6469 7363 6f6e 6e65  ploying disconne
+00029760: 6374 6564 2076 6d20 7b64 6973 636f 6e6e  cted vm {disconn
+00029770: 6563 7465 645f 766d 7d22 290a 2020 2020  ected_vm}").    
+00029780: 2020 2020 6966 2064 6973 636f 6e6e 6563      if disconnec
+00029790: 7465 645f 7379 6e63 3a0a 2020 2020 2020  ted_sync:.      
+000297a0: 2020 2020 2020 7075 6c6c 5f73 6563 7265        pull_secre
+000297b0: 7420 3d20 7077 645f 7061 7468 2864 6174  t = pwd_path(dat
+000297c0: 612e 6765 7428 2770 756c 6c5f 7365 6372  a.get('pull_secr
+000297d0: 6574 2729 2920 6966 206e 6f74 2075 7073  et')) if not ups
+000297e0: 7472 6561 6d20 656c 7365 2066 227b 706c  tream else f"{pl
+000297f0: 616e 6469 727d 2f66 616b 655f 7075 6c6c  andir}/fake_pull
+00029800: 2e6a 736f 6e22 0a20 2020 2020 2020 2020  .json".         
+00029810: 2020 2069 6620 6e6f 7420 7570 7374 7265     if not upstre
+00029820: 616d 3a0a 2020 2020 2020 2020 2020 2020  am:.            
+00029830: 2020 2020 7075 6c6c 5f73 6563 7265 7420      pull_secret 
+00029840: 3d20 7077 645f 7061 7468 2864 6174 612e  = pwd_path(data.
+00029850: 6765 7428 2770 756c 6c5f 7365 6372 6574  get('pull_secret
+00029860: 272c 2027 6f70 656e 7368 6966 745f 7075  ', 'openshift_pu
+00029870: 6c6c 2e6a 736f 6e27 2929 0a20 2020 2020  ll.json')).     
+00029880: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00029890: 2020 2020 2020 2020 2020 2020 2070 756c               pul
+000298a0: 6c5f 7365 6372 6574 203d 2066 227b 706c  l_secret = f"{pl
+000298b0: 616e 6469 727d 2f66 616b 655f 7075 6c6c  andir}/fake_pull
+000298c0: 2e6a 736f 6e22 0a20 2020 2020 2020 2020  .json".         
+000298d0: 2020 2069 6620 6e6f 7420 6f73 2e70 6174     if not os.pat
+000298e0: 682e 6578 6973 7473 2870 756c 6c5f 7365  h.exists(pull_se
+000298f0: 6372 6574 293a 0a20 2020 2020 2020 2020  cret):.         
+00029900: 2020 2020 2020 2065 7272 6f72 2866 224d         error(f"M
+00029910: 6973 7369 6e67 2070 756c 6c20 7365 6372  issing pull secr
+00029920: 6574 2066 696c 6520 7b70 756c 6c5f 7365  et file {pull_se
+00029930: 6372 6574 7d22 290a 2020 2020 2020 2020  cret}").        
+00029940: 2020 2020 2020 2020 7379 732e 6578 6974          sys.exit
+00029950: 2831 290a 2020 2020 2020 2020 2020 2020  (1).            
+00029960: 6461 7461 5b27 7075 6c6c 5f73 6563 7265  data['pull_secre
+00029970: 7427 5d20 3d20 7265 2e73 7562 2872 225c  t'] = re.sub(r"\
+00029980: 7322 2c20 2222 2c20 6f70 656e 2870 756c  s", "", open(pul
+00029990: 6c5f 7365 6372 6574 292e 7265 6164 2829  l_secret).read()
+000299a0: 290a 2020 2020 2020 2020 6469 7363 6f6e  ).        discon
+000299b0: 6e65 6374 6564 5f70 6c61 6e20 3d20 6622  nected_plan = f"
+000299c0: 7b70 6c61 6e7d 2d72 6575 7365 2220 6966  {plan}-reuse" if
+000299d0: 2064 6973 636f 6e6e 6563 7465 645f 7265   disconnected_re
+000299e0: 7573 6520 656c 7365 2070 6c61 6e0a 2020  use else plan.  
+000299f0: 2020 2020 2020 6966 2076 6572 7369 6f6e        if version
+00029a00: 203d 3d20 2763 6927 2061 6e64 2027 6469   == 'ci' and 'di
+00029a10: 7363 6f6e 6e65 6374 6564 5f6f 7269 6769  sconnected_origi
+00029a20: 6e27 206e 6f74 2069 6e20 6f76 6572 7269  n' not in overri
+00029a30: 6465 733a 0a20 2020 2020 2020 2020 2020  des:.           
+00029a40: 2072 6567 203d 2027 7265 6769 7374 7279   reg = 'registry
+00029a50: 2e62 7569 6c64 3031 2e63 692e 6f70 656e  .build01.ci.open
+00029a60: 7368 6966 742e 6f72 6727 2069 6620 7374  shift.org' if st
+00029a70: 7228 7461 6729 2e73 7461 7274 7377 6974  r(tag).startswit
+00029a80: 6828 2763 692d 2729 2065 6c73 6520 2772  h('ci-') else 'r
+00029a90: 6567 6973 7472 792e 6369 2e6f 7065 6e73  egistry.ci.opens
+00029aa0: 6869 6674 2e6f 7267 270a 2020 2020 2020  hift.org'.      
+00029ab0: 2020 2020 2020 7761 726e 696e 6728 6622        warning(f"
+00029ac0: 466f 7263 696e 6720 6469 7363 6f6e 6e65  Forcing disconne
+00029ad0: 6374 6564 5f6f 7269 6769 6e20 746f 207b  cted_origin to {
+00029ae0: 7265 677d 2229 0a20 2020 2020 2020 2020  reg}").         
+00029af0: 2020 2064 6174 615b 2764 6973 636f 6e6e     data['disconn
+00029b00: 6563 7465 645f 6f72 6967 696e 275d 203d  ected_origin'] =
+00029b10: 2072 6567 0a20 2020 2020 2020 2072 6573   reg.        res
+00029b20: 756c 7420 3d20 7365 6c66 2e70 6c61 6e28  ult = self.plan(
+00029b30: 6469 7363 6f6e 6e65 6374 6564 5f70 6c61  disconnected_pla
+00029b40: 6e2c 2069 6e70 7574 6669 6c65 3d66 277b  n, inputfile=f'{
+00029b50: 706c 616e 6469 727d 2f64 6973 636f 6e6e  plandir}/disconn
+00029b60: 6563 7465 642e 796d 6c27 2c20 6f76 6572  ected.yml', over
+00029b70: 7269 6465 733d 6461 7461 290a 2020 2020  rides=data).    
+00029b80: 2020 2020 6966 2072 6573 756c 745b 2772      if result['r
+00029b90: 6573 756c 7427 5d20 213d 2027 7375 6363  esult'] != 'succ
+00029ba0: 6573 7327 3a0a 2020 2020 2020 2020 2020  ess':.          
+00029bb0: 2020 7379 732e 6578 6974 2831 290a 2020    sys.exit(1).  
+00029bc0: 2020 2020 2020 656c 6966 2064 6973 636f        elif disco
+00029bd0: 6e6e 6563 7465 645f 7379 6e63 3a0a 2020  nnected_sync:.  
+00029be0: 2020 2020 2020 2020 2020 7070 7269 6e74            pprint
+00029bf0: 2822 5573 6520 7468 6520 666f 6c6c 6f77  ("Use the follow
+00029c00: 696e 6720 4f50 454e 5348 4946 545f 494e  ing OPENSHIFT_IN
+00029c10: 5354 414c 4c5f 5245 4c45 4153 455f 494d  STALL_RELEASE_IM
+00029c20: 4147 455f 4f56 4552 5249 4445 2229 0a20  AGE_OVERRIDE"). 
+00029c30: 2020 2020 2020 2020 2020 206e 616d 6520             name 
+00029c40: 3d20 6461 7461 2e67 6574 2827 6469 7363  = data.get('disc
+00029c50: 6f6e 6e65 6374 6564 5f72 6575 7365 5f6e  onnected_reuse_n
+00029c60: 616d 6527 2920 6f72 2063 6c75 7374 6572  ame') or cluster
+00029c70: 0a20 2020 2020 2020 2020 2020 2069 702c  .            ip,
+00029c80: 2076 6d70 6f72 7420 3d20 5f73 7368 5f63   vmport = _ssh_c
+00029c90: 7265 6465 6e74 6961 6c73 2873 656c 662e  redentials(self.
+00029ca0: 6b2c 2066 277b 6e61 6d65 7d2d 6469 7363  k, f'{name}-disc
+00029cb0: 6f6e 6e65 6374 6564 2729 5b31 3a5d 0a20  onnected')[1:]. 
+00029cc0: 2020 2020 2020 2020 2020 2063 6d64 203d             cmd =
+00029cd0: 2022 6361 7420 2f72 6f6f 742f 7665 7273   "cat /root/vers
+00029ce0: 696f 6e2e 7478 7422 0a20 2020 2020 2020  ion.txt".       
+00029cf0: 2020 2020 2073 7368 636d 6420 3d20 7373       sshcmd = ss
+00029d00: 6828 6e61 6d65 2c20 6970 3d69 702c 2075  h(name, ip=ip, u
+00029d10: 7365 723d 2772 6f6f 7427 2c20 7475 6e6e  ser='root', tunn
+00029d20: 656c 3d73 656c 662e 7475 6e6e 656c 2c0a  el=self.tunnel,.
+00029d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029d40: 2020 2020 2020 2020 2074 756e 6e65 6c68           tunnelh
+00029d50: 6f73 743d 7365 6c66 2e74 756e 6e65 6c68  ost=self.tunnelh
+00029d60: 6f73 742c 2074 756e 6e65 6c70 6f72 743d  ost, tunnelport=
+00029d70: 7365 6c66 2e74 756e 6e65 6c70 6f72 742c  self.tunnelport,
+00029d80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00029d90: 2020 2020 2020 2020 2020 7475 6e6e 656c            tunnel
+00029da0: 7573 6572 3d73 656c 662e 7475 6e6e 656c  user=self.tunnel
+00029db0: 7573 6572 2c20 696e 7365 6375 7265 3d54  user, insecure=T
+00029dc0: 7275 652c 2063 6d64 3d63 6d64 2c20 766d  rue, cmd=cmd, vm
+00029dd0: 706f 7274 3d76 6d70 6f72 7429 0a20 2020  port=vmport).   
+00029de0: 2020 2020 2020 2020 206f 732e 7379 7374           os.syst
+00029df0: 656d 2873 7368 636d 6429 0a0a 2020 2020  em(sshcmd)..    
+00029e00: 6465 6620 6861 6e64 6c65 5f66 696e 6973  def handle_finis
+00029e10: 6866 696c 6573 2873 656c 662c 206e 616d  hfiles(self, nam
+00029e20: 652c 2066 696e 6973 6866 696c 6573 2c20  e, finishfiles, 
+00029e30: 6964 656e 7469 7479 6669 6c65 3d4e 6f6e  identityfile=Non
+00029e40: 652c 2076 6d63 6c69 656e 743d 4e6f 6e65  e, vmclient=None
+00029e50: 293a 0a20 2020 2020 2020 2063 6f6e 6669  ):.        confi
+00029e60: 6720 3d20 4b63 6f6e 6669 6728 636c 6965  g = Kconfig(clie
+00029e70: 6e74 3d76 6d63 6c69 656e 7429 2069 6620  nt=vmclient) if 
+00029e80: 766d 636c 6965 6e74 2069 7320 6e6f 7420  vmclient is not 
+00029e90: 4e6f 6e65 2065 6c73 6520 7365 6c66 0a20  None else self. 
+00029ea0: 2020 2020 2020 206b 203d 2063 6f6e 6669         k = confi
+00029eb0: 672e 6b0a 2020 2020 2020 2020 6375 7272  g.k.        curr
+00029ec0: 656e 745f 6970 203d 2063 6f6d 6d6f 6e2e  ent_ip = common.
+00029ed0: 5f73 7368 5f63 7265 6465 6e74 6961 6c73  _ssh_credentials
+00029ee0: 286b 2c20 6e61 6d65 295b 315d 0a20 2020  (k, name)[1].   
+00029ef0: 2020 2020 2066 6f72 2066 696e 6973 6866       for finishf
+00029f00: 696c 6520 696e 2066 696e 6973 6866 696c  ile in finishfil
+00029f10: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
+00029f20: 6966 2069 7369 6e73 7461 6e63 6528 6669  if isinstance(fi
+00029f30: 6e69 7368 6669 6c65 2c20 7374 7229 3a0a  nishfile, str):.
+00029f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029f50: 6465 7374 696e 6174 696f 6e20 3d20 272e  destination = '.
+00029f60: 270a 2020 2020 2020 2020 2020 2020 2020  '.              
+00029f70: 2020 736f 7572 6365 203d 2066 696e 6973    source = finis
+00029f80: 6866 696c 6520 6966 2027 2f27 2069 6e20  hfile if '/' in 
+00029f90: 6669 6e69 7368 6669 6c65 2065 6c73 6520  finishfile else 
+00029fa0: 6627 2f72 6f6f 742f 7b66 696e 6973 6866  f'/root/{finishf
+00029fb0: 696c 657d 270a 2020 2020 2020 2020 2020  ile}'.          
+00029fc0: 2020 656c 6966 2069 7369 6e73 7461 6e63    elif isinstanc
+00029fd0: 6528 6669 6e69 7368 6669 6c65 2c20 6469  e(finishfile, di
+00029fe0: 6374 2920 616e 6420 276f 7269 6769 6e27  ct) and 'origin'
+00029ff0: 2069 6e20 6669 6e69 7368 6669 6c65 2061   in finishfile a
+0002a000: 6e64 2027 7061 7468 2720 696e 2066 696e  nd 'path' in fin
+0002a010: 6973 6866 696c 653a 0a20 2020 2020 2020  ishfile:.       
+0002a020: 2020 2020 2020 2020 2073 6f75 7263 652c           source,
+0002a030: 2064 6573 7469 6e61 7469 6f6e 203d 2066   destination = f
+0002a040: 696e 6973 6866 696c 652e 6765 7428 276f  inishfile.get('o
+0002a050: 7269 6769 6e27 292c 206f 732e 7061 7468  rigin'), os.path
+0002a060: 2e65 7870 616e 6475 7365 7228 6669 6e69  .expanduser(fini
+0002a070: 7368 6669 6c65 2e67 6574 2827 7061 7468  shfile.get('path
+0002a080: 272c 2027 2e27 2929 0a20 2020 2020 2020  ', '.')).       
+0002a090: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0002a0a0: 2020 2020 2020 2020 2020 2077 6172 6e69             warni
+0002a0b0: 6e67 2866 2249 6e63 6f72 7265 6374 2066  ng(f"Incorrect f
+0002a0c0: 696e 6973 6866 696c 6520 656e 7472 7920  inishfile entry 
+0002a0d0: 7b66 696e 6973 6866 696c 657d 2e20 536b  {finishfile}. Sk
+0002a0e0: 6970 7069 6e67 2229 0a20 2020 2020 2020  ipping").       
+0002a0f0: 2020 2020 2020 2020 2063 6f6e 7469 6e75           continu
+0002a100: 650a 2020 2020 2020 2020 2020 2020 7363  e.            sc
+0002a110: 7063 6d64 203d 2063 6f6d 6d6f 6e2e 7363  pcmd = common.sc
+0002a120: 7028 6e61 6d65 2c20 6970 3d63 7572 7265  p(name, ip=curre
+0002a130: 6e74 5f69 702c 2075 7365 723d 2772 6f6f  nt_ip, user='roo
+0002a140: 7427 2c20 736f 7572 6365 3d73 6f75 7263  t', source=sourc
+0002a150: 652c 2064 6573 7469 6e61 7469 6f6e 3d64  e, destination=d
+0002a160: 6573 7469 6e61 7469 6f6e 2c0a 2020 2020  estination,.    
 0002a170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a190: 7475 6e6e 656c 7573 6572 3d73 656c 662e  tunneluser=self.
-0002a1a0: 7475 6e6e 656c 7573 6572 2c20 646f 776e  tunneluser, down
-0002a1b0: 6c6f 6164 3d54 7275 652c 2069 6e73 6563  load=True, insec
-0002a1c0: 7572 653d 5472 7565 2c20 6964 656e 7469  ure=True, identi
-0002a1d0: 7479 6669 6c65 3d69 6465 6e74 6974 7966  tyfile=identityf
-0002a1e0: 696c 6529 0a20 2020 2020 2020 2020 2020  ile).           
-0002a1f0: 206f 732e 7379 7374 656d 2873 6370 636d   os.system(scpcm
-0002a200: 6429 0a0a 2020 2020 6465 6620 6861 6e64  d)..    def hand
-0002a210: 6c65 5f6e 6f74 6966 6963 6174 696f 6e73  le_notifications
-0002a220: 2873 656c 662c 206e 616d 652c 206e 6f74  (self, name, not
-0002a230: 6966 796d 6574 686f 6473 3d5b 5d2c 2070  ifymethods=[], p
-0002a240: 7573 6862 756c 6c65 7474 6f6b 656e 3d4e  ushbullettoken=N
-0002a250: 6f6e 652c 206e 6f74 6966 7973 6372 6970  one, notifyscrip
-0002a260: 743d 4e6f 6e65 2c20 6e6f 7469 6679 636d  t=None, notifycm
-0002a270: 643d 4e6f 6e65 2c0a 2020 2020 2020 2020  d=None,.        
-0002a280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a290: 2020 2020 2073 6c61 636b 6368 616e 6e65       slackchanne
-0002a2a0: 6c3d 4e6f 6e65 2c20 736c 6163 6b74 6f6b  l=None, slacktok
-0002a2b0: 656e 3d4e 6f6e 652c 206d 6169 6c73 6572  en=None, mailser
-0002a2c0: 7665 723d 4e6f 6e65 2c20 6d61 696c 6672  ver=None, mailfr
-0002a2d0: 6f6d 3d4e 6f6e 652c 206d 6169 6c74 6f3d  om=None, mailto=
+0002a180: 2020 2020 2020 2020 2020 2020 7475 6e6e              tunn
+0002a190: 656c 3d63 6f6e 6669 672e 7475 6e6e 656c  el=config.tunnel
+0002a1a0: 2c20 7475 6e6e 656c 686f 7374 3d63 6f6e  , tunnelhost=con
+0002a1b0: 6669 672e 7475 6e6e 656c 686f 7374 2c20  fig.tunnelhost, 
+0002a1c0: 7475 6e6e 656c 706f 7274 3d63 6f6e 6669  tunnelport=confi
+0002a1d0: 672e 7475 6e6e 656c 706f 7274 2c0a 2020  g.tunnelport,.  
+0002a1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a1f0: 2020 2020 2020 2020 2020 2020 2020 7475                tu
+0002a200: 6e6e 656c 7573 6572 3d73 656c 662e 7475  nneluser=self.tu
+0002a210: 6e6e 656c 7573 6572 2c20 646f 776e 6c6f  nneluser, downlo
+0002a220: 6164 3d54 7275 652c 2069 6e73 6563 7572  ad=True, insecur
+0002a230: 653d 5472 7565 2c20 6964 656e 7469 7479  e=True, identity
+0002a240: 6669 6c65 3d69 6465 6e74 6974 7966 696c  file=identityfil
+0002a250: 6529 0a20 2020 2020 2020 2020 2020 206f  e).            o
+0002a260: 732e 7379 7374 656d 2873 6370 636d 6429  s.system(scpcmd)
+0002a270: 0a0a 2020 2020 6465 6620 6861 6e64 6c65  ..    def handle
+0002a280: 5f6e 6f74 6966 6963 6174 696f 6e73 2873  _notifications(s
+0002a290: 656c 662c 206e 616d 652c 206e 6f74 6966  elf, name, notif
+0002a2a0: 796d 6574 686f 6473 3d5b 5d2c 2070 7573  ymethods=[], pus
+0002a2b0: 6862 756c 6c65 7474 6f6b 656e 3d4e 6f6e  hbullettoken=Non
+0002a2c0: 652c 206e 6f74 6966 7973 6372 6970 743d  e, notifyscript=
+0002a2d0: 4e6f 6e65 2c20 6e6f 7469 6679 636d 643d  None, notifycmd=
 0002a2e0: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
 0002a2f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a300: 2020 2063 6c75 7374 6572 3d46 616c 7365     cluster=False
-0002a310: 293a 0a20 2020 2020 2020 205f 7479 7065  ):.        _type
-0002a320: 203d 2027 436c 7573 7465 7227 2069 6620   = 'Cluster' if 
-0002a330: 636c 7573 7465 7220 656c 7365 2027 566d  cluster else 'Vm
-0002a340: 270a 2020 2020 2020 2020 7469 746c 6520  '.        title 
-0002a350: 3d20 6622 7b5f 7479 7065 7d20 7b6e 616d  = f"{_type} {nam
-0002a360: 657d 206f 6e20 7b73 656c 662e 636c 6965  e} on {self.clie
-0002a370: 6e74 7d20 7265 706f 7274 220a 2020 2020  nt} report".    
-0002a380: 2020 2020 636d 6473 2c20 6d61 696c 636f      cmds, mailco
-0002a390: 6e74 656e 7420 3d20 5b5d 2c20 4e6f 6e65  ntent = [], None
-0002a3a0: 0a20 2020 2020 2020 2066 6f72 206e 6f74  .        for not
-0002a3b0: 6966 796d 6574 686f 6420 696e 2073 6f72  ifymethod in sor
-0002a3c0: 7465 6428 6e6f 7469 6679 6d65 7468 6f64  ted(notifymethod
-0002a3d0: 732c 2072 6576 6572 7365 3d54 7275 6529  s, reverse=True)
-0002a3e0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-0002a3f0: 206e 6f74 6966 796d 6574 686f 6420 3d3d   notifymethod ==
-0002a400: 2027 7075 7368 6275 6c6c 6574 273a 0a20   'pushbullet':. 
-0002a410: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0002a420: 6620 7075 7368 6275 6c6c 6574 746f 6b65  f pushbullettoke
-0002a430: 6e20 6973 204e 6f6e 653a 0a20 2020 2020  n is None:.     
-0002a440: 2020 2020 2020 2020 2020 2020 2020 2077                 w
-0002a450: 6172 6e69 6e67 2866 224e 6f74 6966 6963  arning(f"Notific
-0002a460: 6174 696f 6e20 7265 7175 6972 6564 2066  ation required f
-0002a470: 6f72 207b 6e61 6d65 7d20 6275 7420 6d69  or {name} but mi
-0002a480: 7373 696e 6720 7075 7368 6275 6c6c 6574  ssing pushbullet
-0002a490: 746f 6b65 6e22 290a 2020 2020 2020 2020  token").        
-0002a4a0: 2020 2020 2020 2020 656c 6966 206e 6f74          elif not
-0002a4b0: 6966 7973 6372 6970 7420 6973 204e 6f6e  ifyscript is Non
-0002a4c0: 6520 616e 6420 6e6f 7469 6679 636d 6420  e and notifycmd 
-0002a4d0: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-0002a4e0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-0002a4f0: 7469 6e75 650a 2020 2020 2020 2020 2020  tinue.          
-0002a500: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0002a510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a520: 746f 6b65 6e20 3d20 7075 7368 6275 6c6c  token = pushbull
-0002a530: 6574 746f 6b65 6e0a 2020 2020 2020 2020  ettoken.        
-0002a540: 2020 2020 2020 2020 2020 2020 7062 636d              pbcm
-0002a550: 6420 3d20 2763 7572 6c20 2d73 7520 2225  d = 'curl -su "%
-0002a560: 733a 2220 2d64 2074 7970 653d 226e 6f74  s:" -d type="not
-0002a570: 6522 202d 6420 626f 6479 3d22 6025 7320  e" -d body="`%s 
-0002a580: 323e 2631 6022 202d 6420 7469 746c 653d  2>&1`" -d title=
-0002a590: 2225 7322 2027 2025 2028 746f 6b65 6e2c  "%s" ' % (token,
-0002a5a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002a5b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a5f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a600: 2020 206e 6f74 6966 7963 6d64 2c0a 2020     notifycmd,.  
+0002a300: 2020 2073 6c61 636b 6368 616e 6e65 6c3d     slackchannel=
+0002a310: 4e6f 6e65 2c20 736c 6163 6b74 6f6b 656e  None, slacktoken
+0002a320: 3d4e 6f6e 652c 206d 6169 6c73 6572 7665  =None, mailserve
+0002a330: 723d 4e6f 6e65 2c20 6d61 696c 6672 6f6d  r=None, mailfrom
+0002a340: 3d4e 6f6e 652c 206d 6169 6c74 6f3d 4e6f  =None, mailto=No
+0002a350: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
+0002a360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a370: 2063 6c75 7374 6572 3d46 616c 7365 293a   cluster=False):
+0002a380: 0a20 2020 2020 2020 205f 7479 7065 203d  .        _type =
+0002a390: 2027 436c 7573 7465 7227 2069 6620 636c   'Cluster' if cl
+0002a3a0: 7573 7465 7220 656c 7365 2027 566d 270a  uster else 'Vm'.
+0002a3b0: 2020 2020 2020 2020 7469 746c 6520 3d20          title = 
+0002a3c0: 6622 7b5f 7479 7065 7d20 7b6e 616d 657d  f"{_type} {name}
+0002a3d0: 206f 6e20 7b73 656c 662e 636c 6965 6e74   on {self.client
+0002a3e0: 7d20 7265 706f 7274 220a 2020 2020 2020  } report".      
+0002a3f0: 2020 636d 6473 2c20 6d61 696c 636f 6e74    cmds, mailcont
+0002a400: 656e 7420 3d20 5b5d 2c20 4e6f 6e65 0a20  ent = [], None. 
+0002a410: 2020 2020 2020 2066 6f72 206e 6f74 6966         for notif
+0002a420: 796d 6574 686f 6420 696e 2073 6f72 7465  ymethod in sorte
+0002a430: 6428 6e6f 7469 6679 6d65 7468 6f64 732c  d(notifymethods,
+0002a440: 2072 6576 6572 7365 3d54 7275 6529 3a0a   reverse=True):.
+0002a450: 2020 2020 2020 2020 2020 2020 6966 206e              if n
+0002a460: 6f74 6966 796d 6574 686f 6420 3d3d 2027  otifymethod == '
+0002a470: 7075 7368 6275 6c6c 6574 273a 0a20 2020  pushbullet':.   
+0002a480: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0002a490: 7075 7368 6275 6c6c 6574 746f 6b65 6e20  pushbullettoken 
+0002a4a0: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+0002a4b0: 2020 2020 2020 2020 2020 2020 2077 6172               war
+0002a4c0: 6e69 6e67 2866 224e 6f74 6966 6963 6174  ning(f"Notificat
+0002a4d0: 696f 6e20 7265 7175 6972 6564 2066 6f72  ion required for
+0002a4e0: 207b 6e61 6d65 7d20 6275 7420 6d69 7373   {name} but miss
+0002a4f0: 696e 6720 7075 7368 6275 6c6c 6574 746f  ing pushbulletto
+0002a500: 6b65 6e22 290a 2020 2020 2020 2020 2020  ken").          
+0002a510: 2020 2020 2020 656c 6966 206e 6f74 6966        elif notif
+0002a520: 7973 6372 6970 7420 6973 204e 6f6e 6520  yscript is None 
+0002a530: 616e 6420 6e6f 7469 6679 636d 6420 6973  and notifycmd is
+0002a540: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+0002a550: 2020 2020 2020 2020 2020 2063 6f6e 7469             conti
+0002a560: 6e75 650a 2020 2020 2020 2020 2020 2020  nue.            
+0002a570: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0002a580: 2020 2020 2020 2020 2020 2020 2020 746f                to
+0002a590: 6b65 6e20 3d20 7075 7368 6275 6c6c 6574  ken = pushbullet
+0002a5a0: 746f 6b65 6e0a 2020 2020 2020 2020 2020  token.          
+0002a5b0: 2020 2020 2020 2020 2020 7062 636d 6420            pbcmd 
+0002a5c0: 3d20 2763 7572 6c20 2d73 7520 2225 733a  = 'curl -su "%s:
+0002a5d0: 2220 2d64 2074 7970 653d 226e 6f74 6522  " -d type="note"
+0002a5e0: 202d 6420 626f 6479 3d22 6025 7320 323e   -d body="`%s 2>
+0002a5f0: 2631 6022 202d 6420 7469 746c 653d 2225  &1`" -d title="%
+0002a600: 7322 2027 2025 2028 746f 6b65 6e2c 0a20  s" ' % (token,. 
 0002a610: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0002a620: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0002a630: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0002a640: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0002a650: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0002a660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a670: 7469 746c 6529 0a20 2020 2020 2020 2020  title).         
-0002a680: 2020 2020 2020 2020 2020 2070 6263 6d64             pbcmd
-0002a690: 202b 3d20 2768 7474 7073 3a2f 2f61 7069   += 'https://api
-0002a6a0: 2e70 7573 6862 756c 6c65 742e 636f 6d2f  .pushbullet.com/
-0002a6b0: 7632 2f70 7573 6865 7327 0a20 2020 2020  v2/pushes'.     
-0002a6c0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0002a6d0: 6d64 732e 6170 7065 6e64 2870 6263 6d64  mds.append(pbcmd
-0002a6e0: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
-0002a6f0: 6966 206e 6f74 6966 796d 6574 686f 6420  if notifymethod 
-0002a700: 3d3d 2027 736c 6163 6b27 3a0a 2020 2020  == 'slack':.    
-0002a710: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-0002a720: 6c61 636b 6368 616e 6e65 6c20 6973 204e  lackchannel is N
-0002a730: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-0002a740: 2020 2020 2020 2020 2077 6172 6e69 6e67           warning
-0002a750: 2866 224e 6f74 6966 6963 6174 696f 6e20  (f"Notification 
-0002a760: 7265 7175 6972 6564 2066 6f72 207b 6e61  required for {na
-0002a770: 6d65 7d20 6275 7420 6d69 7373 696e 6720  me} but missing 
-0002a780: 736c 6163 6b20 6368 616e 6e65 6c22 290a  slack channel").
-0002a790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a7a0: 656c 6966 2073 6c61 636b 746f 6b65 6e20  elif slacktoken 
-0002a7b0: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-0002a7c0: 2020 2020 2020 2020 2020 2020 2077 6172               war
-0002a7d0: 6e69 6e67 2866 224e 6f74 6966 6963 6174  ning(f"Notificat
-0002a7e0: 696f 6e20 7265 7175 6972 6564 2066 6f72  ion required for
-0002a7f0: 207b 6e61 6d65 7d20 6275 7420 6d69 7373   {name} but miss
-0002a800: 696e 6720 736c 6163 6b74 6f6b 656e 2229  ing slacktoken")
-0002a810: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002a820: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0002a830: 2020 2020 2020 2020 2020 2073 6c61 636b             slack
-0002a840: 636d 6420 3d20 6622 696e 666f 3d60 7b6e  cmd = f"info=`{n
-0002a850: 6f74 6966 7963 6d64 7d20 323e 2631 207c  otifycmd} 2>&1 |
-0002a860: 2073 6564 2027 732f 5c5c 7832 2f20 2f67   sed 's/\\x2/ /g
-0002a870: 2760 3b22 0a20 2020 2020 2020 2020 2020  '`;".           
-0002a880: 2020 2020 2020 2020 2073 6c61 636b 636d           slackcm
-0002a890: 6420 2b3d 2022 2222 6375 726c 202d 5820  d += """curl -X 
-0002a8a0: 504f 5354 202d 4820 2741 7574 686f 7269  POST -H 'Authori
-0002a8b0: 7a61 7469 6f6e 3a20 4265 6172 6572 2025  zation: Bearer %
-0002a8c0: 7327 0a20 2d48 2027 436f 6e74 656e 742d  s'. -H 'Content-
-0002a8d0: 7479 7065 3a20 6170 706c 6963 6174 696f  type: applicatio
-0002a8e0: 6e2f 6a73 6f6e 3b20 6368 6172 7365 743d  n/json; charset=
-0002a8f0: 7574 662d 3827 0a20 2d2d 6461 7461 2027  utf-8'. --data '
-0002a900: 7b22 6368 616e 6e65 6c22 3a22 2573 222c  {"channel":"%s",
-0002a910: 2274 6578 7422 3a22 2573 222c 2261 7474  "text":"%s","att
-0002a920: 6163 686d 656e 7473 223a 205b 7b22 7465  achments": [{"te
-0002a930: 7874 223a 2227 2224 696e 666f 2227 222c  xt":"'"$info"'",
-0002a940: 2266 616c 6c62 6163 6b22 3a22 6e6f 7468  "fallback":"noth
-0002a950: 696e 6722 2c0a 2263 6f6c 6f72 223a 2223  ing",."color":"#
-0002a960: 3341 4133 4533 222c 2261 7474 6163 686d  3AA3E3","attachm
-0002a970: 656e 745f 7479 7065 223a 2264 6566 6175  ent_type":"defau
-0002a980: 6c74 227d 5d7d 2720 6874 7470 733a 2f2f  lt"}]}' https://
-0002a990: 736c 6163 6b2e 636f 6d2f 6170 692f 6368  slack.com/api/ch
-0002a9a0: 6174 2e70 6f73 744d 6573 7361 6765 2222  at.postMessage""
-0002a9b0: 2220 2520 2873 6c61 636b 746f 6b65 6e2c  " % (slacktoken,
-0002a9c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002a9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a9e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a9f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002aa00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002aa10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002aa20: 736c 6163 6b63 6861 6e6e 656c 2c20 7469  slackchannel, ti
-0002aa30: 746c 6529 0a20 2020 2020 2020 2020 2020  tle).           
-0002aa40: 2020 2020 2020 2020 2073 6c61 636b 636d           slackcm
-0002aa50: 6420 3d20 736c 6163 6b63 6d64 2e72 6570  d = slackcmd.rep
-0002aa60: 6c61 6365 2827 5c6e 272c 2027 2729 0a20  lace('\n', ''). 
+0002a670: 206e 6f74 6966 7963 6d64 2c0a 2020 2020   notifycmd,.    
+0002a680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a6d0: 2020 2020 2020 2020 2020 2020 2020 7469                ti
+0002a6e0: 746c 6529 0a20 2020 2020 2020 2020 2020  tle).           
+0002a6f0: 2020 2020 2020 2020 2070 6263 6d64 202b           pbcmd +
+0002a700: 3d20 2768 7474 7073 3a2f 2f61 7069 2e70  = 'https://api.p
+0002a710: 7573 6862 756c 6c65 742e 636f 6d2f 7632  ushbullet.com/v2
+0002a720: 2f70 7573 6865 7327 0a20 2020 2020 2020  /pushes'.       
+0002a730: 2020 2020 2020 2020 2020 2020 2063 6d64               cmd
+0002a740: 732e 6170 7065 6e64 2870 6263 6d64 290a  s.append(pbcmd).
+0002a750: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+0002a760: 206e 6f74 6966 796d 6574 686f 6420 3d3d   notifymethod ==
+0002a770: 2027 736c 6163 6b27 3a0a 2020 2020 2020   'slack':.      
+0002a780: 2020 2020 2020 2020 2020 6966 2073 6c61            if sla
+0002a790: 636b 6368 616e 6e65 6c20 6973 204e 6f6e  ckchannel is Non
+0002a7a0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0002a7b0: 2020 2020 2020 2077 6172 6e69 6e67 2866         warning(f
+0002a7c0: 224e 6f74 6966 6963 6174 696f 6e20 7265  "Notification re
+0002a7d0: 7175 6972 6564 2066 6f72 207b 6e61 6d65  quired for {name
+0002a7e0: 7d20 6275 7420 6d69 7373 696e 6720 736c  } but missing sl
+0002a7f0: 6163 6b20 6368 616e 6e65 6c22 290a 2020  ack channel").  
+0002a800: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0002a810: 6966 2073 6c61 636b 746f 6b65 6e20 6973  if slacktoken is
+0002a820: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+0002a830: 2020 2020 2020 2020 2020 2077 6172 6e69             warni
+0002a840: 6e67 2866 224e 6f74 6966 6963 6174 696f  ng(f"Notificatio
+0002a850: 6e20 7265 7175 6972 6564 2066 6f72 207b  n required for {
+0002a860: 6e61 6d65 7d20 6275 7420 6d69 7373 696e  name} but missin
+0002a870: 6720 736c 6163 6b74 6f6b 656e 2229 0a20  g slacktoken"). 
+0002a880: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0002a890: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0002a8a0: 2020 2020 2020 2020 2073 6c61 636b 636d           slackcm
+0002a8b0: 6420 3d20 6622 696e 666f 3d60 7b6e 6f74  d = f"info=`{not
+0002a8c0: 6966 7963 6d64 7d20 323e 2631 207c 2073  ifycmd} 2>&1 | s
+0002a8d0: 6564 2027 732f 5c5c 7832 2f20 2f67 2760  ed 's/\\x2/ /g'`
+0002a8e0: 3b22 0a20 2020 2020 2020 2020 2020 2020  ;".             
+0002a8f0: 2020 2020 2020 2073 6c61 636b 636d 6420         slackcmd 
+0002a900: 2b3d 2022 2222 6375 726c 202d 5820 504f  += """curl -X PO
+0002a910: 5354 202d 4820 2741 7574 686f 7269 7a61  ST -H 'Authoriza
+0002a920: 7469 6f6e 3a20 4265 6172 6572 2025 7327  tion: Bearer %s'
+0002a930: 0a20 2d48 2027 436f 6e74 656e 742d 7479  . -H 'Content-ty
+0002a940: 7065 3a20 6170 706c 6963 6174 696f 6e2f  pe: application/
+0002a950: 6a73 6f6e 3b20 6368 6172 7365 743d 7574  json; charset=ut
+0002a960: 662d 3827 0a20 2d2d 6461 7461 2027 7b22  f-8'. --data '{"
+0002a970: 6368 616e 6e65 6c22 3a22 2573 222c 2274  channel":"%s","t
+0002a980: 6578 7422 3a22 2573 222c 2261 7474 6163  ext":"%s","attac
+0002a990: 686d 656e 7473 223a 205b 7b22 7465 7874  hments": [{"text
+0002a9a0: 223a 2227 2224 696e 666f 2227 222c 2266  ":"'"$info"'","f
+0002a9b0: 616c 6c62 6163 6b22 3a22 6e6f 7468 696e  allback":"nothin
+0002a9c0: 6722 2c0a 2263 6f6c 6f72 223a 2223 3341  g",."color":"#3A
+0002a9d0: 4133 4533 222c 2261 7474 6163 686d 656e  A3E3","attachmen
+0002a9e0: 745f 7479 7065 223a 2264 6566 6175 6c74  t_type":"default
+0002a9f0: 227d 5d7d 2720 6874 7470 733a 2f2f 736c  "}]}' https://sl
+0002aa00: 6163 6b2e 636f 6d2f 6170 692f 6368 6174  ack.com/api/chat
+0002aa10: 2e70 6f73 744d 6573 7361 6765 2222 2220  .postMessage""" 
+0002aa20: 2520 2873 6c61 636b 746f 6b65 6e2c 0a20  % (slacktoken,. 
+0002aa30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002aa40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002aa50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002aa60: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0002aa70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002aa80: 2020 2063 6d64 732e 6170 7065 6e64 2873     cmds.append(s
-0002aa90: 6c61 636b 636d 6429 0a20 2020 2020 2020  lackcmd).       
-0002aaa0: 2020 2020 2065 6c69 6620 6e6f 7469 6679       elif notify
-0002aab0: 6d65 7468 6f64 203d 3d20 276d 6169 6c27  method == 'mail'
-0002aac0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0002aad0: 2020 6966 206d 6169 6c73 6572 7665 7220    if mailserver 
-0002aae0: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-0002aaf0: 2020 2020 2020 2020 2020 2020 2077 6172               war
-0002ab00: 6e69 6e67 2866 224e 6f74 6966 6963 6174  ning(f"Notificat
-0002ab10: 696f 6e20 7265 7175 6972 6564 2066 6f72  ion required for
-0002ab20: 207b 6e61 6d65 7d20 6275 7420 6d69 7373   {name} but miss
-0002ab30: 696e 6720 6d61 696c 7365 7276 6572 2229  ing mailserver")
-0002ab40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002ab50: 2065 6c69 6620 6d61 696c 6672 6f6d 2069   elif mailfrom i
-0002ab60: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
-0002ab70: 2020 2020 2020 2020 2020 2020 7761 726e              warn
-0002ab80: 696e 6728 6622 4e6f 7469 6669 6361 7469  ing(f"Notificati
-0002ab90: 6f6e 2072 6571 7569 7265 6420 666f 7220  on required for 
-0002aba0: 7b6e 616d 657d 2062 7574 206d 6973 7369  {name} but missi
-0002abb0: 6e67 206d 6169 6c66 726f 6d22 290a 2020  ng mailfrom").  
-0002abc0: 2020 2020 2020 2020 2020 2020 2020 656c                el
-0002abd0: 6966 206e 6f74 206d 6169 6c74 6f3a 0a20  if not mailto:. 
-0002abe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002abf0: 2020 2077 6172 6e69 6e67 2866 224e 6f74     warning(f"Not
-0002ac00: 6966 6963 6174 696f 6e20 7265 7175 6972  ification requir
-0002ac10: 6564 2066 6f72 207b 6e61 6d65 7d20 6275  ed for {name} bu
-0002ac20: 7420 6d69 7373 696e 6720 6d61 696c 746f  t missing mailto
-0002ac30: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-0002ac40: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0002ac50: 2020 2020 2020 2020 2020 2020 206e 6f77               now
-0002ac60: 203d 2064 6174 6574 696d 652e 6e6f 7728   = datetime.now(
-0002ac70: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0002ac80: 2020 2020 2020 6e6f 7720 3d20 6e6f 772e        now = now.
-0002ac90: 2073 7472 6674 696d 6528 2225 612c 2564   strftime("%a,%d
-0002aca0: 2025 6220 2559 2025 483a 254d 3a25 5322   %b %Y %H:%M:%S"
-0002acb0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0002acc0: 2020 2020 2020 746f 7320 3d20 272c 272e        tos = ','.
-0002acd0: 6a6f 696e 285b 6622 3c7b 746f 7d3e 2220  join([f"<{to}>" 
-0002ace0: 666f 7220 746f 2069 6e20 6d61 696c 746f  for to in mailto
-0002acf0: 5d29 0a20 2020 2020 2020 2020 2020 2020  ]).             
-0002ad00: 2020 2020 2020 206d 6169 6c63 6f6e 7465         mailconte
-0002ad10: 6e74 203d 2066 2246 726f 6d3a 207b 6d61  nt = f"From: {ma
-0002ad20: 696c 6672 6f6d 7d20 3c7b 6d61 696c 6672  ilfrom} <{mailfr
-0002ad30: 6f6d 7d3e 5c6e 546f 3a20 7b74 6f73 7d5c  om}>\nTo: {tos}\
-0002ad40: 6e44 6174 653a 207b 6e6f 777d 5c6e 5375  nDate: {now}\nSu
-0002ad50: 626a 6563 743a 207b 7469 746c 657d 220a  bject: {title}".
-0002ad60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ad70: 2020 2020 6d61 696c 636d 6420 3d20 5b5d      mailcmd = []
-0002ad80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002ad90: 2020 2020 2069 6620 6e6f 7420 636c 7573       if not clus
-0002ada0: 7465 723a 0a20 2020 2020 2020 2020 2020  ter:.           
-0002adb0: 2020 2020 2020 2020 2020 2020 206d 6169               mai
-0002adc0: 6c63 6d64 2e61 7070 656e 6428 2774 6573  lcmd.append('tes
-0002add0: 7420 2d66 202f 6574 632f 6465 6269 616e  t -f /etc/debian
-0002ade0: 5f76 6572 7369 6f6e 2026 2620 6170 742d  _version && apt-
-0002adf0: 6765 7420 2d79 2069 6e73 7461 6c6c 2063  get -y install c
-0002ae00: 7572 6c27 290a 2020 2020 2020 2020 2020  url').          
-0002ae10: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
-0002ae20: 696c 636d 642e 6170 7065 6e64 2827 6563  ilcmd.append('ec
-0002ae30: 686f 2022 2220 3e3e 202f 7661 722f 746d  ho "" >> /var/tm
-0002ae40: 702f 6d61 696c 2e74 7874 2729 0a20 2020  p/mail.txt').   
-0002ae50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ae60: 206d 6169 6c63 6d64 2e61 7070 656e 6428   mailcmd.append(
-0002ae70: 6627 7b6e 6f74 6966 7963 6d64 7d20 323e  f'{notifycmd} 2>
-0002ae80: 2631 203e 3e20 2f76 6172 2f74 6d70 2f6d  &1 >> /var/tmp/m
-0002ae90: 6169 6c2e 7478 7427 290a 2020 2020 2020  ail.txt').      
-0002aea0: 2020 2020 2020 2020 2020 2020 2020 6375                cu
-0002aeb0: 726c 636d 6420 3d20 6622 6375 726c 202d  rlcmd = f"curl -
-0002aec0: 2d73 696c 656e 7420 2d2d 7572 6c20 736d  -silent --url sm
-0002aed0: 7470 3a2f 2f7b 6d61 696c 7365 7276 6572  tp://{mailserver
-0002aee0: 7d3a 3235 202d 2d6d 6169 6c2d 6672 6f6d  }:25 --mail-from
-0002aef0: 207b 6d61 696c 6672 6f6d 7d22 0a20 2020   {mailfrom}".   
-0002af00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002af10: 2066 6f72 2061 6464 7265 7373 2069 6e20   for address in 
-0002af20: 6d61 696c 746f 3a0a 2020 2020 2020 2020  mailto:.        
-0002af30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002af40: 6375 726c 636d 6420 2b3d 2066 2220 2d2d  curlcmd += f" --
-0002af50: 6d61 696c 2d72 6370 7420 7b61 6464 7265  mail-rcpt {addre
-0002af60: 7373 7d20 220a 2020 2020 2020 2020 2020  ss} ".          
-0002af70: 2020 2020 2020 2020 2020 6966 2063 6c75            if clu
-0002af80: 7374 6572 3a0a 2020 2020 2020 2020 2020  ster:.          
-0002af90: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
-0002afa0: 696c 636f 6e74 656e 7420 3d20 2222 0a20  ilcontent = "". 
-0002afb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002afc0: 2020 2020 2020 206b 7562 6563 6f6e 6669         kubeconfi
-0002afd0: 6720 3d20 6627 2f65 7463 2f6b 7562 6572  g = f'/etc/kuber
-0002afe0: 6e65 7465 732f 6b75 6265 636f 6e66 6967  netes/kubeconfig
-0002aff0: 2e7b 6e61 6d65 7d27 0a20 2020 2020 2020  .{name}'.       
-0002b000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b010: 2063 7572 6c63 6d64 202b 3d20 6627 202d   curlcmd += f' -
-0002b020: 4820 2253 7562 6a65 6374 3a20 7b74 6974  H "Subject: {tit
-0002b030: 6c65 7d22 202d 4820 2246 726f 6d3a 207b  le}" -H "From: {
-0002b040: 6d61 696c 6672 6f6d 7d20 3c7b 6d61 696c  mailfrom} <{mail
-0002b050: 6672 6f6d 7d3e 2227 0a20 2020 2020 2020  from}>"'.       
-0002b060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b070: 2066 6f72 2061 6464 7265 7373 2069 6e20   for address in 
-0002b080: 6d61 696c 746f 3a0a 2020 2020 2020 2020  mailto:.        
-0002b090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b0a0: 2020 2020 6375 726c 636d 6420 2b3d 2066      curlcmd += f
-0002b0b0: 2720 2d48 2022 546f 3a20 7b61 6464 7265  ' -H "To: {addre
-0002b0c0: 7373 7d20 3c7b 6164 6472 6573 737d 3e22  ss} <{address}>"
-0002b0d0: 270a 2020 2020 2020 2020 2020 2020 2020  '.              
-0002b0e0: 2020 2020 2020 2020 2020 6375 726c 636d            curlcm
-0002b0f0: 6420 2b3d 2027 202d 4620 223d 283b 7479  d += ' -F "=(;ty
-0002b100: 7065 3d6d 756c 7469 7061 7274 2f6d 6978  pe=multipart/mix
-0002b110: 6564 2220 2d46 2022 3d24 2863 6174 202f  ed" -F "=$(cat /
-0002b120: 7661 722f 746d 702f 6d61 696c 2e74 7874  var/tmp/mail.txt
-0002b130: 293b 7479 7065 3d74 6578 742f 706c 6169  );type=text/plai
-0002b140: 6e22 270a 2020 2020 2020 2020 2020 2020  n"'.            
-0002b150: 2020 2020 2020 2020 2020 2020 6375 726c              curl
-0002b160: 636d 6420 2b3d 2066 2720 2d46 2022 6669  cmd += f' -F "fi
-0002b170: 6c65 3d40 7b6b 7562 6563 6f6e 6669 677d  le=@{kubeconfig}
-0002b180: 3b74 7970 653d 7465 7874 2f70 6c61 696e  ;type=text/plain
-0002b190: 3b65 6e63 6f64 6572 3d62 6173 6536 3422  ;encoder=base64"
-0002b1a0: 202d 4620 223d 2922 270a 2020 2020 2020   -F "=)"'.      
-0002b1b0: 2020 2020 2020 2020 2020 2020 2020 656c                el
-0002b1c0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0002b1d0: 2020 2020 2020 2020 2020 2020 6375 726c              curl
-0002b1e0: 636d 6420 2b3d 2022 202d 2d75 706c 6f61  cmd += " --uploa
-0002b1f0: 642d 6669 6c65 202f 7661 722f 746d 702f  d-file /var/tmp/
-0002b200: 6d61 696c 2e74 7874 220a 2020 2020 2020  mail.txt".      
-0002b210: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
-0002b220: 696c 636d 642e 6170 7065 6e64 2863 7572  ilcmd.append(cur
-0002b230: 6c63 6d64 290a 2020 2020 2020 2020 2020  lcmd).          
-0002b240: 2020 2020 2020 2020 2020 636d 6473 2e65            cmds.e
-0002b250: 7874 656e 6428 6d61 696c 636d 6429 0a20  xtend(mailcmd). 
-0002b260: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0002b270: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002b280: 2065 7272 6f72 2866 2249 6e76 616c 6964   error(f"Invalid
-0002b290: 206d 6574 686f 6420 7b6e 6f74 6966 796d   method {notifym
-0002b2a0: 6574 686f 647d 2229 0a20 2020 2020 2020  ethod}").       
-0002b2b0: 2072 6574 7572 6e20 636d 6473 2c20 6d61   return cmds, ma
-0002b2c0: 696c 636f 6e74 656e 740a 0a20 2020 2064  ilcontent..    d
-0002b2d0: 6566 2068 616e 646c 655f 766d 5f72 6573  ef handle_vm_res
-0002b2e0: 756c 7428 7365 6c66 2c20 6e61 6d65 2c20  ult(self, name, 
-0002b2f0: 7072 6f66 696c 652c 2072 6573 756c 742c  profile, result,
-0002b300: 206e 6577 766d 732c 2066 6169 6c65 6476   newvms, failedv
-0002b310: 6d73 2c20 6173 796e 6377 6169 7476 6d73  ms, asyncwaitvms
-0002b320: 2c20 6f6e 6c79 6173 7365 7473 3d46 616c  , onlyassets=Fal
-0002b330: 7365 2c20 6e65 7761 7373 6574 733d 5b5d  se, newassets=[]
-0002b340: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0002b350: 2020 2020 2020 2020 2020 2076 6d63 6c69             vmcli
-0002b360: 656e 743d 4e6f 6e65 293a 0a20 2020 2020  ent=None):.     
-0002b370: 2020 2069 6620 2772 6573 756c 7427 2069     if 'result' i
-0002b380: 6e20 7265 7375 6c74 2061 6e64 2072 6573  n result and res
-0002b390: 756c 745b 2772 6573 756c 7427 5d20 3d3d  ult['result'] ==
-0002b3a0: 2027 7375 6363 6573 7327 3a0a 2020 2020   'success':.    
-0002b3b0: 2020 2020 2020 2020 6e65 7776 6d73 2e61          newvms.a
-0002b3c0: 7070 656e 6428 6e61 6d65 290a 2020 2020  ppend(name).    
-0002b3d0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0002b3e0: 2020 2020 2020 6661 696c 6564 766d 732e        failedvms.
-0002b3f0: 6170 7065 6e64 287b 276e 616d 6527 3a20  append({'name': 
-0002b400: 6e61 6d65 2c20 2772 6561 736f 6e27 3a20  name, 'reason': 
-0002b410: 7265 7375 6c74 5b27 7265 6173 6f6e 275d  result['reason']
-0002b420: 7d29 0a20 2020 2020 2020 2073 7461 7274  }).        start
-0002b430: 203d 2070 726f 6669 6c65 2e67 6574 2827   = profile.get('
-0002b440: 7374 6172 7427 2c20 5472 7565 290a 2020  start', True).  
-0002b450: 2020 2020 2020 636c 6f75 6469 6e69 7420        cloudinit 
-0002b460: 3d20 7072 6f66 696c 652e 6765 7428 2763  = profile.get('c
-0002b470: 6c6f 7564 696e 6974 272c 2054 7275 6529  loudinit', True)
-0002b480: 0a20 2020 2020 2020 2061 7379 6e63 7761  .        asyncwa
-0002b490: 6974 203d 2070 726f 6669 6c65 2e67 6574  it = profile.get
-0002b4a0: 2827 6173 796e 6377 6169 7427 2c20 4661  ('asyncwait', Fa
-0002b4b0: 6c73 6529 0a20 2020 2020 2020 2066 696e  lse).        fin
-0002b4c0: 6973 6866 696c 6573 203d 2070 726f 6669  ishfiles = profi
-0002b4d0: 6c65 2e67 6574 2827 6669 6e69 7368 6669  le.get('finishfi
-0002b4e0: 6c65 7327 2c20 5b5d 290a 2020 2020 2020  les', []).      
-0002b4f0: 2020 6966 206f 6e6c 7961 7373 6574 733a    if onlyassets:
-0002b500: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0002b510: 2764 6174 6127 2069 6e20 7265 7375 6c74  'data' in result
-0002b520: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0002b530: 2020 6e65 7761 7373 6574 732e 6170 7065    newassets.appe
-0002b540: 6e64 2872 6573 756c 745b 2764 6174 6127  nd(result['data'
-0002b550: 5d29 0a20 2020 2020 2020 2020 2020 2065  ]).            e
-0002b560: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0002b570: 2020 2020 2065 7272 6f72 2872 6573 756c       error(resul
-0002b580: 745b 2772 6561 736f 6e27 5d29 0a20 2020  t['reason']).   
-0002b590: 2020 2020 2069 6620 6e6f 7420 6173 796e       if not asyn
-0002b5a0: 6377 6169 743a 0a20 2020 2020 2020 2020  cwait:.         
-0002b5b0: 2020 2072 6574 7572 6e0a 2020 2020 2020     return.      
-0002b5c0: 2020 656c 6966 206e 6f74 2073 7461 7274    elif not start
-0002b5d0: 206f 7220 6e6f 7420 636c 6f75 6469 6e69   or not cloudini
-0002b5e0: 7420 6f72 2070 726f 6669 6c65 2e67 6574  t or profile.get
-0002b5f0: 2827 696d 6167 6527 2920 6973 204e 6f6e  ('image') is Non
-0002b600: 653a 0a20 2020 2020 2020 2020 2020 2070  e:.            p
-0002b610: 7072 696e 7428 6622 536b 6970 7069 6e67  print(f"Skipping
-0002b620: 2077 6169 7420 6f6e 207b 6e61 6d65 7d22   wait on {name}"
-0002b630: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
-0002b640: 2020 2020 2020 2020 2020 2020 7761 6974              wait
-0002b650: 636f 6d6d 616e 6420 3d20 7072 6f66 696c  command = profil
-0002b660: 652e 6765 7428 2777 6169 7463 6f6d 6d61  e.get('waitcomma
-0002b670: 6e64 2729 0a20 2020 2020 2020 2020 2020  nd').           
-0002b680: 2077 6169 7474 696d 656f 7574 203d 2070   waittimeout = p
-0002b690: 726f 6669 6c65 2e67 6574 2827 7761 6974  rofile.get('wait
-0002b6a0: 7469 6d65 6f75 7427 2c20 3029 0a20 2020  timeout', 0).   
-0002b6b0: 2020 2020 2020 2020 2061 7379 6e63 7761           asyncwa
-0002b6c0: 6974 766d 203d 207b 276e 616d 6527 3a20  itvm = {'name': 
-0002b6d0: 6e61 6d65 2c20 2766 696e 6973 6866 696c  name, 'finishfil
-0002b6e0: 6573 273a 2066 696e 6973 6866 696c 6573  es': finishfiles
-0002b6f0: 2c20 2777 6169 7463 6f6d 6d61 6e64 273a  , 'waitcommand':
-0002b700: 2077 6169 7463 6f6d 6d61 6e64 2c0a 2020   waitcommand,.  
-0002b710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b720: 2020 2020 2020 2020 2027 7761 6974 7469           'waitti
-0002b730: 6d65 6f75 7427 3a20 7761 6974 7469 6d65  meout': waittime
-0002b740: 6f75 742c 2027 766d 636c 6965 6e74 273a  out, 'vmclient':
-0002b750: 2076 6d63 6c69 656e 747d 0a20 2020 2020   vmclient}.     
-0002b760: 2020 2020 2020 2061 7379 6e63 7761 6974         asyncwait
-0002b770: 766d 732e 6170 7065 6e64 2861 7379 6e63  vms.append(async
-0002b780: 7761 6974 766d 290a 0a20 2020 2064 6566  waitvm)..    def
-0002b790: 2074 6872 6561 6465 645f 6372 6561 7465   threaded_create
-0002b7a0: 5f76 6d28 7365 6c66 2c20 6e61 6d65 2c20  _vm(self, name, 
-0002b7b0: 7072 6f66 696c 656e 616d 652c 2063 7572  profilename, cur
-0002b7c0: 7265 6e74 6f76 6572 7269 6465 732c 2070  rentoverrides, p
-0002b7d0: 726f 6669 6c65 2c20 7a2c 2070 6c61 6e2c  rofile, z, plan,
-0002b7e0: 2063 7572 7265 6e74 706c 616e 6469 722c   currentplandir,
-0002b7f0: 2076 6d63 6c69 656e 742c 0a20 2020 2020   vmclient,.     
-0002b800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b810: 2020 2020 2020 6f6e 666c 792c 206f 6e6c        onfly, onl
-0002b820: 7961 7373 6574 732c 206e 6577 766d 732c  yassets, newvms,
-0002b830: 2066 6169 6c65 6476 6d73 2c20 6173 796e   failedvms, asyn
-0002b840: 6377 6169 7476 6d73 2c20 6e65 7761 7373  cwaitvms, newass
-0002b850: 6574 7329 3a0a 2020 2020 2020 2020 7265  ets):.        re
-0002b860: 7375 6c74 203d 2073 656c 662e 6372 6561  sult = self.crea
-0002b870: 7465 5f76 6d28 6e61 6d65 2c20 7072 6f66  te_vm(name, prof
-0002b880: 696c 656e 616d 652c 206f 7665 7272 6964  ilename, overrid
-0002b890: 6573 3d63 7572 7265 6e74 6f76 6572 7269  es=currentoverri
-0002b8a0: 6465 732c 2063 7573 746f 6d70 726f 6669  des, customprofi
-0002b8b0: 6c65 3d70 726f 6669 6c65 2c20 6b3d 7a2c  le=profile, k=z,
-0002b8c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002b8d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b8e0: 2070 6c61 6e3d 706c 616e 2c20 6261 7365   plan=plan, base
-0002b8f0: 6469 723d 6375 7272 656e 7470 6c61 6e64  dir=currentpland
-0002b900: 6972 2c20 636c 6965 6e74 3d76 6d63 6c69  ir, client=vmcli
-0002b910: 656e 742c 206f 6e66 6c79 3d6f 6e66 6c79  ent, onfly=onfly
-0002b920: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0002aa80: 2020 2020 2020 2020 2020 2020 2020 736c                sl
+0002aa90: 6163 6b63 6861 6e6e 656c 2c20 7469 746c  ackchannel, titl
+0002aaa0: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+0002aab0: 2020 2020 2020 2073 6c61 636b 636d 6420         slackcmd 
+0002aac0: 3d20 736c 6163 6b63 6d64 2e72 6570 6c61  = slackcmd.repla
+0002aad0: 6365 2827 5c6e 272c 2027 2729 0a20 2020  ce('\n', '').   
+0002aae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002aaf0: 2063 6d64 732e 6170 7065 6e64 2873 6c61   cmds.append(sla
+0002ab00: 636b 636d 6429 0a20 2020 2020 2020 2020  ckcmd).         
+0002ab10: 2020 2065 6c69 6620 6e6f 7469 6679 6d65     elif notifyme
+0002ab20: 7468 6f64 203d 3d20 276d 6169 6c27 3a0a  thod == 'mail':.
+0002ab30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ab40: 6966 206d 6169 6c73 6572 7665 7220 6973  if mailserver is
+0002ab50: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+0002ab60: 2020 2020 2020 2020 2020 2077 6172 6e69             warni
+0002ab70: 6e67 2866 224e 6f74 6966 6963 6174 696f  ng(f"Notificatio
+0002ab80: 6e20 7265 7175 6972 6564 2066 6f72 207b  n required for {
+0002ab90: 6e61 6d65 7d20 6275 7420 6d69 7373 696e  name} but missin
+0002aba0: 6720 6d61 696c 7365 7276 6572 2229 0a20  g mailserver"). 
+0002abb0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0002abc0: 6c69 6620 6d61 696c 6672 6f6d 2069 7320  lif mailfrom is 
+0002abd0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+0002abe0: 2020 2020 2020 2020 2020 7761 726e 696e            warnin
+0002abf0: 6728 6622 4e6f 7469 6669 6361 7469 6f6e  g(f"Notification
+0002ac00: 2072 6571 7569 7265 6420 666f 7220 7b6e   required for {n
+0002ac10: 616d 657d 2062 7574 206d 6973 7369 6e67  ame} but missing
+0002ac20: 206d 6169 6c66 726f 6d22 290a 2020 2020   mailfrom").    
+0002ac30: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+0002ac40: 206e 6f74 206d 6169 6c74 6f3a 0a20 2020   not mailto:.   
+0002ac50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ac60: 2077 6172 6e69 6e67 2866 224e 6f74 6966   warning(f"Notif
+0002ac70: 6963 6174 696f 6e20 7265 7175 6972 6564  ication required
+0002ac80: 2066 6f72 207b 6e61 6d65 7d20 6275 7420   for {name} but 
+0002ac90: 6d69 7373 696e 6720 6d61 696c 746f 2229  missing mailto")
+0002aca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002acb0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0002acc0: 2020 2020 2020 2020 2020 206e 6f77 203d             now =
+0002acd0: 2064 6174 6574 696d 652e 6e6f 7728 290a   datetime.now().
+0002ace0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002acf0: 2020 2020 6e6f 7720 3d20 6e6f 772e 2073      now = now. s
+0002ad00: 7472 6674 696d 6528 2225 612c 2564 2025  trftime("%a,%d %
+0002ad10: 6220 2559 2025 483a 254d 3a25 5322 290a  b %Y %H:%M:%S").
+0002ad20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ad30: 2020 2020 746f 7320 3d20 272c 272e 6a6f      tos = ','.jo
+0002ad40: 696e 285b 6622 3c7b 746f 7d3e 2220 666f  in([f"<{to}>" fo
+0002ad50: 7220 746f 2069 6e20 6d61 696c 746f 5d29  r to in mailto])
+0002ad60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002ad70: 2020 2020 206d 6169 6c63 6f6e 7465 6e74       mailcontent
+0002ad80: 203d 2066 2246 726f 6d3a 207b 6d61 696c   = f"From: {mail
+0002ad90: 6672 6f6d 7d20 3c7b 6d61 696c 6672 6f6d  from} <{mailfrom
+0002ada0: 7d3e 5c6e 546f 3a20 7b74 6f73 7d5c 6e44  }>\nTo: {tos}\nD
+0002adb0: 6174 653a 207b 6e6f 777d 5c6e 5375 626a  ate: {now}\nSubj
+0002adc0: 6563 743a 207b 7469 746c 657d 220a 2020  ect: {title}".  
+0002add0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ade0: 2020 6d61 696c 636d 6420 3d20 5b5d 0a20    mailcmd = []. 
+0002adf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ae00: 2020 2069 6620 6e6f 7420 636c 7573 7465     if not cluste
+0002ae10: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
+0002ae20: 2020 2020 2020 2020 2020 206d 6169 6c63             mailc
+0002ae30: 6d64 2e61 7070 656e 6428 2774 6573 7420  md.append('test 
+0002ae40: 2d66 202f 6574 632f 6465 6269 616e 5f76  -f /etc/debian_v
+0002ae50: 6572 7369 6f6e 2026 2620 6170 742d 6765  ersion && apt-ge
+0002ae60: 7420 2d79 2069 6e73 7461 6c6c 2063 7572  t -y install cur
+0002ae70: 6c27 290a 2020 2020 2020 2020 2020 2020  l').            
+0002ae80: 2020 2020 2020 2020 2020 2020 6d61 696c              mail
+0002ae90: 636d 642e 6170 7065 6e64 2827 6563 686f  cmd.append('echo
+0002aea0: 2022 2220 3e3e 202f 7661 722f 746d 702f   "" >> /var/tmp/
+0002aeb0: 6d61 696c 2e74 7874 2729 0a20 2020 2020  mail.txt').     
+0002aec0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+0002aed0: 6169 6c63 6d64 2e61 7070 656e 6428 6627  ailcmd.append(f'
+0002aee0: 7b6e 6f74 6966 7963 6d64 7d20 323e 2631  {notifycmd} 2>&1
+0002aef0: 203e 3e20 2f76 6172 2f74 6d70 2f6d 6169   >> /var/tmp/mai
+0002af00: 6c2e 7478 7427 290a 2020 2020 2020 2020  l.txt').        
+0002af10: 2020 2020 2020 2020 2020 2020 6375 726c              curl
+0002af20: 636d 6420 3d20 6622 6375 726c 202d 2d73  cmd = f"curl --s
+0002af30: 696c 656e 7420 2d2d 7572 6c20 736d 7470  ilent --url smtp
+0002af40: 3a2f 2f7b 6d61 696c 7365 7276 6572 7d3a  ://{mailserver}:
+0002af50: 3235 202d 2d6d 6169 6c2d 6672 6f6d 207b  25 --mail-from {
+0002af60: 6d61 696c 6672 6f6d 7d22 0a20 2020 2020  mailfrom}".     
+0002af70: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0002af80: 6f72 2061 6464 7265 7373 2069 6e20 6d61  or address in ma
+0002af90: 696c 746f 3a0a 2020 2020 2020 2020 2020  ilto:.          
+0002afa0: 2020 2020 2020 2020 2020 2020 2020 6375                cu
+0002afb0: 726c 636d 6420 2b3d 2066 2220 2d2d 6d61  rlcmd += f" --ma
+0002afc0: 696c 2d72 6370 7420 7b61 6464 7265 7373  il-rcpt {address
+0002afd0: 7d20 220a 2020 2020 2020 2020 2020 2020  } ".            
+0002afe0: 2020 2020 2020 2020 6966 2063 6c75 7374          if clust
+0002aff0: 6572 3a0a 2020 2020 2020 2020 2020 2020  er:.            
+0002b000: 2020 2020 2020 2020 2020 2020 6d61 696c              mail
+0002b010: 636f 6e74 656e 7420 3d20 2222 0a20 2020  content = "".   
+0002b020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b030: 2020 2020 206b 7562 6563 6f6e 6669 6720       kubeconfig 
+0002b040: 3d20 6627 2f65 7463 2f6b 7562 6572 6e65  = f'/etc/kuberne
+0002b050: 7465 732f 6b75 6265 636f 6e66 6967 2e7b  tes/kubeconfig.{
+0002b060: 6e61 6d65 7d27 0a20 2020 2020 2020 2020  name}'.         
+0002b070: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+0002b080: 7572 6c63 6d64 202b 3d20 6627 202d 4820  urlcmd += f' -H 
+0002b090: 2253 7562 6a65 6374 3a20 7b74 6974 6c65  "Subject: {title
+0002b0a0: 7d22 202d 4820 2246 726f 6d3a 207b 6d61  }" -H "From: {ma
+0002b0b0: 696c 6672 6f6d 7d20 3c7b 6d61 696c 6672  ilfrom} <{mailfr
+0002b0c0: 6f6d 7d3e 2227 0a20 2020 2020 2020 2020  om}>"'.         
+0002b0d0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0002b0e0: 6f72 2061 6464 7265 7373 2069 6e20 6d61  or address in ma
+0002b0f0: 696c 746f 3a0a 2020 2020 2020 2020 2020  ilto:.          
+0002b100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b110: 2020 6375 726c 636d 6420 2b3d 2066 2720    curlcmd += f' 
+0002b120: 2d48 2022 546f 3a20 7b61 6464 7265 7373  -H "To: {address
+0002b130: 7d20 3c7b 6164 6472 6573 737d 3e22 270a  } <{address}>"'.
+0002b140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b150: 2020 2020 2020 2020 6375 726c 636d 6420          curlcmd 
+0002b160: 2b3d 2027 202d 4620 223d 283b 7479 7065  += ' -F "=(;type
+0002b170: 3d6d 756c 7469 7061 7274 2f6d 6978 6564  =multipart/mixed
+0002b180: 2220 2d46 2022 3d24 2863 6174 202f 7661  " -F "=$(cat /va
+0002b190: 722f 746d 702f 6d61 696c 2e74 7874 293b  r/tmp/mail.txt);
+0002b1a0: 7479 7065 3d74 6578 742f 706c 6169 6e22  type=text/plain"
+0002b1b0: 270a 2020 2020 2020 2020 2020 2020 2020  '.              
+0002b1c0: 2020 2020 2020 2020 2020 6375 726c 636d            curlcm
+0002b1d0: 6420 2b3d 2066 2720 2d46 2022 6669 6c65  d += f' -F "file
+0002b1e0: 3d40 7b6b 7562 6563 6f6e 6669 677d 3b74  =@{kubeconfig};t
+0002b1f0: 7970 653d 7465 7874 2f70 6c61 696e 3b65  ype=text/plain;e
+0002b200: 6e63 6f64 6572 3d62 6173 6536 3422 202d  ncoder=base64" -
+0002b210: 4620 223d 2922 270a 2020 2020 2020 2020  F "=)"'.        
+0002b220: 2020 2020 2020 2020 2020 2020 656c 7365              else
+0002b230: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0002b240: 2020 2020 2020 2020 2020 6375 726c 636d            curlcm
+0002b250: 6420 2b3d 2022 202d 2d75 706c 6f61 642d  d += " --upload-
+0002b260: 6669 6c65 202f 7661 722f 746d 702f 6d61  file /var/tmp/ma
+0002b270: 696c 2e74 7874 220a 2020 2020 2020 2020  il.txt".        
+0002b280: 2020 2020 2020 2020 2020 2020 6d61 696c              mail
+0002b290: 636d 642e 6170 7065 6e64 2863 7572 6c63  cmd.append(curlc
+0002b2a0: 6d64 290a 2020 2020 2020 2020 2020 2020  md).            
+0002b2b0: 2020 2020 2020 2020 636d 6473 2e65 7874          cmds.ext
+0002b2c0: 656e 6428 6d61 696c 636d 6429 0a20 2020  end(mailcmd).   
+0002b2d0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+0002b2e0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0002b2f0: 7272 6f72 2866 2249 6e76 616c 6964 206d  rror(f"Invalid m
+0002b300: 6574 686f 6420 7b6e 6f74 6966 796d 6574  ethod {notifymet
+0002b310: 686f 647d 2229 0a20 2020 2020 2020 2072  hod}").        r
+0002b320: 6574 7572 6e20 636d 6473 2c20 6d61 696c  eturn cmds, mail
+0002b330: 636f 6e74 656e 740a 0a20 2020 2064 6566  content..    def
+0002b340: 2068 616e 646c 655f 766d 5f72 6573 756c   handle_vm_resul
+0002b350: 7428 7365 6c66 2c20 6e61 6d65 2c20 7072  t(self, name, pr
+0002b360: 6f66 696c 652c 2072 6573 756c 742c 206e  ofile, result, n
+0002b370: 6577 766d 732c 2066 6169 6c65 6476 6d73  ewvms, failedvms
+0002b380: 2c20 6173 796e 6377 6169 7476 6d73 2c20  , asyncwaitvms, 
+0002b390: 6f6e 6c79 6173 7365 7473 3d46 616c 7365  onlyassets=False
+0002b3a0: 2c20 6e65 7761 7373 6574 733d 5b5d 2c0a  , newassets=[],.
+0002b3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b3c0: 2020 2020 2020 2020 2076 6d63 6c69 656e           vmclien
+0002b3d0: 743d 4e6f 6e65 293a 0a20 2020 2020 2020  t=None):.       
+0002b3e0: 2069 6620 2772 6573 756c 7427 2069 6e20   if 'result' in 
+0002b3f0: 7265 7375 6c74 2061 6e64 2072 6573 756c  result and resul
+0002b400: 745b 2772 6573 756c 7427 5d20 3d3d 2027  t['result'] == '
+0002b410: 7375 6363 6573 7327 3a0a 2020 2020 2020  success':.      
+0002b420: 2020 2020 2020 6e65 7776 6d73 2e61 7070        newvms.app
+0002b430: 656e 6428 6e61 6d65 290a 2020 2020 2020  end(name).      
+0002b440: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0002b450: 2020 2020 6661 696c 6564 766d 732e 6170      failedvms.ap
+0002b460: 7065 6e64 287b 276e 616d 6527 3a20 6e61  pend({'name': na
+0002b470: 6d65 2c20 2772 6561 736f 6e27 3a20 7265  me, 'reason': re
+0002b480: 7375 6c74 5b27 7265 6173 6f6e 275d 7d29  sult['reason']})
+0002b490: 0a20 2020 2020 2020 2073 7461 7274 203d  .        start =
+0002b4a0: 2070 726f 6669 6c65 2e67 6574 2827 7374   profile.get('st
+0002b4b0: 6172 7427 2c20 5472 7565 290a 2020 2020  art', True).    
+0002b4c0: 2020 2020 636c 6f75 6469 6e69 7420 3d20      cloudinit = 
+0002b4d0: 7072 6f66 696c 652e 6765 7428 2763 6c6f  profile.get('clo
+0002b4e0: 7564 696e 6974 272c 2054 7275 6529 0a20  udinit', True). 
+0002b4f0: 2020 2020 2020 2061 7379 6e63 7761 6974         asyncwait
+0002b500: 203d 2070 726f 6669 6c65 2e67 6574 2827   = profile.get('
+0002b510: 6173 796e 6377 6169 7427 2c20 4661 6c73  asyncwait', Fals
+0002b520: 6529 0a20 2020 2020 2020 2066 696e 6973  e).        finis
+0002b530: 6866 696c 6573 203d 2070 726f 6669 6c65  hfiles = profile
+0002b540: 2e67 6574 2827 6669 6e69 7368 6669 6c65  .get('finishfile
+0002b550: 7327 2c20 5b5d 290a 2020 2020 2020 2020  s', []).        
+0002b560: 6966 206f 6e6c 7961 7373 6574 733a 0a20  if onlyassets:. 
+0002b570: 2020 2020 2020 2020 2020 2069 6620 2764             if 'd
+0002b580: 6174 6127 2069 6e20 7265 7375 6c74 3a0a  ata' in result:.
+0002b590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b5a0: 6e65 7761 7373 6574 732e 6170 7065 6e64  newassets.append
+0002b5b0: 2872 6573 756c 745b 2764 6174 6127 5d29  (result['data'])
+0002b5c0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+0002b5d0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0002b5e0: 2020 2065 7272 6f72 2872 6573 756c 745b     error(result[
+0002b5f0: 2772 6561 736f 6e27 5d29 0a20 2020 2020  'reason']).     
+0002b600: 2020 2069 6620 6e6f 7420 6173 796e 6377     if not asyncw
+0002b610: 6169 743a 0a20 2020 2020 2020 2020 2020  ait:.           
+0002b620: 2072 6574 7572 6e0a 2020 2020 2020 2020   return.        
+0002b630: 656c 6966 206e 6f74 2073 7461 7274 206f  elif not start o
+0002b640: 7220 6e6f 7420 636c 6f75 6469 6e69 7420  r not cloudinit 
+0002b650: 6f72 2070 726f 6669 6c65 2e67 6574 2827  or profile.get('
+0002b660: 696d 6167 6527 2920 6973 204e 6f6e 653a  image') is None:
+0002b670: 0a20 2020 2020 2020 2020 2020 2070 7072  .            ppr
+0002b680: 696e 7428 6622 536b 6970 7069 6e67 2077  int(f"Skipping w
+0002b690: 6169 7420 6f6e 207b 6e61 6d65 7d22 290a  ait on {name}").
+0002b6a0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0002b6b0: 2020 2020 2020 2020 2020 7761 6974 636f            waitco
+0002b6c0: 6d6d 616e 6420 3d20 7072 6f66 696c 652e  mmand = profile.
+0002b6d0: 6765 7428 2777 6169 7463 6f6d 6d61 6e64  get('waitcommand
+0002b6e0: 2729 0a20 2020 2020 2020 2020 2020 2077  ').            w
+0002b6f0: 6169 7474 696d 656f 7574 203d 2070 726f  aittimeout = pro
+0002b700: 6669 6c65 2e67 6574 2827 7761 6974 7469  file.get('waitti
+0002b710: 6d65 6f75 7427 2c20 3029 0a20 2020 2020  meout', 0).     
+0002b720: 2020 2020 2020 2061 7379 6e63 7761 6974         asyncwait
+0002b730: 766d 203d 207b 276e 616d 6527 3a20 6e61  vm = {'name': na
+0002b740: 6d65 2c20 2766 696e 6973 6866 696c 6573  me, 'finishfiles
+0002b750: 273a 2066 696e 6973 6866 696c 6573 2c20  ': finishfiles, 
+0002b760: 2777 6169 7463 6f6d 6d61 6e64 273a 2077  'waitcommand': w
+0002b770: 6169 7463 6f6d 6d61 6e64 2c0a 2020 2020  aitcommand,.    
+0002b780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b790: 2020 2020 2020 2027 7761 6974 7469 6d65         'waittime
+0002b7a0: 6f75 7427 3a20 7761 6974 7469 6d65 6f75  out': waittimeou
+0002b7b0: 742c 2027 766d 636c 6965 6e74 273a 2076  t, 'vmclient': v
+0002b7c0: 6d63 6c69 656e 747d 0a20 2020 2020 2020  mclient}.       
+0002b7d0: 2020 2020 2061 7379 6e63 7761 6974 766d       asyncwaitvm
+0002b7e0: 732e 6170 7065 6e64 2861 7379 6e63 7761  s.append(asyncwa
+0002b7f0: 6974 766d 290a 0a20 2020 2064 6566 2074  itvm)..    def t
+0002b800: 6872 6561 6465 645f 6372 6561 7465 5f76  hreaded_create_v
+0002b810: 6d28 7365 6c66 2c20 6e61 6d65 2c20 7072  m(self, name, pr
+0002b820: 6f66 696c 656e 616d 652c 2063 7572 7265  ofilename, curre
+0002b830: 6e74 6f76 6572 7269 6465 732c 2070 726f  ntoverrides, pro
+0002b840: 6669 6c65 2c20 7a2c 2070 6c61 6e2c 2063  file, z, plan, c
+0002b850: 7572 7265 6e74 706c 616e 6469 722c 2076  urrentplandir, v
+0002b860: 6d63 6c69 656e 742c 0a20 2020 2020 2020  mclient,.       
+0002b870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b880: 2020 2020 6f6e 666c 792c 206f 6e6c 7961      onfly, onlya
+0002b890: 7373 6574 732c 206e 6577 766d 732c 2066  ssets, newvms, f
+0002b8a0: 6169 6c65 6476 6d73 2c20 6173 796e 6377  ailedvms, asyncw
+0002b8b0: 6169 7476 6d73 2c20 6e65 7761 7373 6574  aitvms, newasset
+0002b8c0: 7329 3a0a 2020 2020 2020 2020 7265 7375  s):.        resu
+0002b8d0: 6c74 203d 2073 656c 662e 6372 6561 7465  lt = self.create
+0002b8e0: 5f76 6d28 6e61 6d65 2c20 7072 6f66 696c  _vm(name, profil
+0002b8f0: 656e 616d 652c 206f 7665 7272 6964 6573  ename, overrides
+0002b900: 3d63 7572 7265 6e74 6f76 6572 7269 6465  =currentoverride
+0002b910: 732c 2063 7573 746f 6d70 726f 6669 6c65  s, customprofile
+0002b920: 3d70 726f 6669 6c65 2c20 6b3d 7a2c 0a20  =profile, k=z,. 
 0002b930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b940: 2020 6f6e 6c79 6173 7365 7473 3d6f 6e6c    onlyassets=onl
-0002b950: 7961 7373 6574 7329 0a20 2020 2020 2020  yassets).       
-0002b960: 2069 6620 6e6f 7420 6f6e 6c79 6173 7365   if not onlyasse
-0002b970: 7473 3a0a 2020 2020 2020 2020 2020 2020  ts:.            
-0002b980: 636f 6d6d 6f6e 2e68 616e 646c 655f 7265  common.handle_re
-0002b990: 7370 6f6e 7365 2872 6573 756c 742c 206e  sponse(result, n
-0002b9a0: 616d 652c 2063 6c69 656e 743d 766d 636c  ame, client=vmcl
-0002b9b0: 6965 6e74 290a 2020 2020 2020 2020 7365  ient).        se
-0002b9c0: 6c66 2e68 616e 646c 655f 766d 5f72 6573  lf.handle_vm_res
-0002b9d0: 756c 7428 6e61 6d65 2c20 7072 6f66 696c  ult(name, profil
-0002b9e0: 652c 2072 6573 756c 743d 7265 7375 6c74  e, result=result
-0002b9f0: 2c20 6e65 7776 6d73 3d6e 6577 766d 732c  , newvms=newvms,
-0002ba00: 2066 6169 6c65 6476 6d73 3d66 6169 6c65   failedvms=faile
-0002ba10: 6476 6d73 2c0a 2020 2020 2020 2020 2020  dvms,.          
-0002ba20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ba30: 2020 2020 6173 796e 6377 6169 7476 6d73      asyncwaitvms
-0002ba40: 3d61 7379 6e63 7761 6974 766d 732c 206f  =asyncwaitvms, o
-0002ba50: 6e6c 7961 7373 6574 733d 6f6e 6c79 6173  nlyassets=onlyas
-0002ba60: 7365 7473 2c20 6e65 7761 7373 6574 733d  sets, newassets=
-0002ba70: 6e65 7761 7373 6574 732c 2076 6d63 6c69  newassets, vmcli
-0002ba80: 656e 743d 766d 636c 6965 6e74 290a 0a20  ent=vmclient).. 
-0002ba90: 2020 2064 6566 2070 6172 7365 5f66 696c     def parse_fil
-0002baa0: 6573 2873 656c 662c 206e 616d 652c 2066  es(self, name, f
-0002bab0: 696c 6573 2c20 6261 7365 6469 723d 272e  iles, basedir='.
-0002bac0: 272c 206f 6e66 6c79 3d4e 6f6e 6529 3a0a  ', onfly=None):.
-0002bad0: 2020 2020 2020 2020 6966 206e 6f74 2066          if not f
-0002bae0: 696c 6573 3a0a 2020 2020 2020 2020 2020  iles:.          
-0002baf0: 2020 7265 7475 726e 0a20 2020 2020 2020    return.       
-0002bb00: 2066 6f72 2069 6e64 6578 2c20 6669 6c20   for index, fil 
-0002bb10: 696e 2065 6e75 6d65 7261 7465 2866 696c  in enumerate(fil
-0002bb20: 6573 293a 0a20 2020 2020 2020 2020 2020  es):.           
-0002bb30: 2069 6620 6973 696e 7374 616e 6365 2866   if isinstance(f
-0002bb40: 696c 2c20 7374 7229 3a0a 2020 2020 2020  il, str):.      
-0002bb50: 2020 2020 2020 2020 2020 7061 7468 203d            path =
-0002bb60: 2066 222f 726f 6f74 2f7b 6669 6c7d 220a   f"/root/{fil}".
-0002bb70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bb80: 6966 2062 6173 6564 6972 2021 3d20 272e  if basedir != '.
-0002bb90: 273a 0a20 2020 2020 2020 2020 2020 2020  ':.             
-0002bba0: 2020 2020 2020 206f 7269 6769 6e20 3d20         origin = 
-0002bbb0: 6622 7b62 6173 6564 6972 7d2f 7b70 6174  f"{basedir}/{pat
-0002bbc0: 687d 220a 2020 2020 2020 2020 2020 2020  h}".            
-0002bbd0: 2020 2020 6f72 6967 696e 203d 2066 696c      origin = fil
-0002bbe0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002bbf0: 2063 6f6e 7465 6e74 203d 204e 6f6e 650a   content = None.
-0002bc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bc10: 6669 6c65 735b 696e 6465 785d 203d 207b  files[index] = {
-0002bc20: 2770 6174 6827 3a20 7061 7468 2c20 276f  'path': path, 'o
-0002bc30: 7269 6769 6e27 3a20 6f72 6967 696e 7d0a  rigin': origin}.
-0002bc40: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-0002bc50: 2069 7369 6e73 7461 6e63 6528 6669 6c2c   isinstance(fil,
-0002bc60: 2064 6963 7429 3a0a 2020 2020 2020 2020   dict):.        
-0002bc70: 2020 2020 2020 2020 6f72 6967 696e 203d          origin =
-0002bc80: 2066 696c 2e67 6574 2827 6f72 6967 696e   fil.get('origin
-0002bc90: 2729 0a20 2020 2020 2020 2020 2020 2020  ').             
-0002bca0: 2020 2063 6f6e 7465 6e74 203d 2066 696c     content = fil
-0002bcb0: 2e67 6574 2827 636f 6e74 656e 7427 290a  .get('content').
-0002bcc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bcd0: 7061 7468 203d 2066 696c 2e67 6574 2827  path = fil.get('
-0002bce0: 7061 7468 2729 0a20 2020 2020 2020 2020  path').         
-0002bcf0: 2020 2020 2020 2069 6620 7061 7468 2069         if path i
-0002bd00: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
-0002bd10: 2020 2020 2020 2020 2020 2020 6966 206f              if o
-0002bd20: 7269 6769 6e20 6973 206e 6f74 204e 6f6e  rigin is not Non
-0002bd30: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0002bd40: 2020 2020 2020 2020 2020 2066 696c 6573             files
-0002bd50: 5b69 6e64 6578 5d5b 2770 6174 6827 5d20  [index]['path'] 
-0002bd60: 3d20 6622 2f72 6f6f 742f 7b6f 7269 6769  = f"/root/{origi
-0002bd70: 6e7d 220a 2020 2020 2020 2020 2020 2020  n}".            
-0002bd80: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0002bd90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bda0: 2020 2020 2020 6572 726f 7228 6622 496e        error(f"In
-0002bdb0: 636f 7272 6563 7420 656e 7472 7920 7b66  correct entry {f
-0002bdc0: 696c 7d2e 4c65 6176 696e 672e 2e2e 2229  il}.Leaving...")
-0002bdd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002bde0: 2020 2020 2020 2020 2073 7973 2e65 7869           sys.exi
-0002bdf0: 7428 3129 0a20 2020 2020 2020 2020 2020  t(1).           
-0002be00: 2020 2020 2065 6c69 6620 6e6f 7420 7061       elif not pa
-0002be10: 7468 2e73 7461 7274 7377 6974 6828 272f  th.startswith('/
-0002be20: 2729 3a0a 2020 2020 2020 2020 2020 2020  '):.            
-0002be30: 2020 2020 2020 2020 6572 726f 7228 6622          error(f"
-0002be40: 496e 636f 7272 6563 7420 7061 7468 207b  Incorrect path {
-0002be50: 7061 7468 7d2e 4c65 6176 696e 672e 2e2e  path}.Leaving...
-0002be60: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-0002be70: 2020 2020 2020 2073 7973 2e65 7869 7428         sys.exit(
-0002be80: 3129 0a20 2020 2020 2020 2020 2020 2065  1).            e
-0002be90: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0002bea0: 2020 2020 2072 6574 7572 6e20 7b27 7265       return {'re
-0002beb0: 7375 6c74 273a 2027 6661 696c 7572 6527  sult': 'failure'
-0002bec0: 2c20 2772 6561 736f 6e27 3a20 2249 6e63  , 'reason': "Inc
-0002bed0: 6f72 7265 6374 2066 696c 6520 656e 7472  orrect file entr
-0002bee0: 7922 7d0a 2020 2020 2020 2020 2020 2020  y"}.            
-0002bef0: 6966 206f 7269 6769 6e20 6973 206e 6f74  if origin is not
-0002bf00: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-0002bf10: 2020 2020 2020 2069 6620 6f6e 666c 7920         if onfly 
-0002bf20: 6973 206e 6f74 204e 6f6e 6520 616e 6420  is not None and 
-0002bf30: 277e 2720 6e6f 7420 696e 206f 7269 6769  '~' not in origi
-0002bf40: 6e3a 0a20 2020 2020 2020 2020 2020 2020  n:.             
-0002bf50: 2020 2020 2020 2064 6573 7464 6972 203d         destdir =
-0002bf60: 2062 6173 6564 6972 0a20 2020 2020 2020   basedir.       
-0002bf70: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0002bf80: 272f 2720 696e 206f 7269 6769 6e3a 0a20  '/' in origin:. 
-0002bf90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bfa0: 2020 2020 2020 2064 6573 7464 6972 203d         destdir =
-0002bfb0: 206f 732e 7061 7468 2e64 6972 6e61 6d65   os.path.dirname
-0002bfc0: 286f 7269 6769 6e29 0a20 2020 2020 2020  (origin).       
-0002bfd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bfe0: 206f 732e 6d61 6b65 6469 7273 2864 6573   os.makedirs(des
-0002bff0: 7464 6972 2c20 6578 6973 745f 6f6b 3d54  tdir, exist_ok=T
-0002c000: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
-0002c010: 2020 2020 2020 2020 2063 6f6d 6d6f 6e2e           common.
-0002c020: 6665 7463 6828 6622 7b6f 6e66 6c79 7d2f  fetch(f"{onfly}/
-0002c030: 7b6f 7269 6769 6e7d 222c 2064 6573 7464  {origin}", destd
-0002c040: 6972 290a 2020 2020 2020 2020 2020 2020  ir).            
-0002c050: 2020 2020 6f72 6967 696e 203d 206f 732e      origin = os.
-0002c060: 7061 7468 2e65 7870 616e 6475 7365 7228  path.expanduser(
-0002c070: 6f72 6967 696e 290a 2020 2020 2020 2020  origin).        
-0002c080: 2020 2020 2020 2020 6966 206e 6f74 206f          if not o
-0002c090: 732e 7061 7468 2e69 7361 6273 286f 7269  s.path.isabs(ori
-0002c0a0: 6769 6e29 3a0a 2020 2020 2020 2020 2020  gin):.          
-0002c0b0: 2020 2020 2020 2020 2020 6966 2069 7369            if isi
-0002c0c0: 6e73 7461 6e63 6528 6669 6c2c 2064 6963  nstance(fil, dic
-0002c0d0: 7429 2061 6e64 2066 696c 2e67 6574 2827  t) and fil.get('
-0002c0e0: 6375 7272 656e 7464 6972 272c 2046 616c  currentdir', Fal
-0002c0f0: 7365 293a 0a20 2020 2020 2020 2020 2020  se):.           
-0002c100: 2020 2020 2020 2020 2020 2020 206f 7269               ori
-0002c110: 6769 6e20 3d20 6622 7b6f 732e 6765 7463  gin = f"{os.getc
-0002c120: 7764 2829 7d2f 7b6f 7269 6769 6e7d 220a  wd()}/{origin}".
-0002c130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c140: 2020 2020 2020 2020 6669 6c65 735b 696e          files[in
-0002c150: 6465 785d 5b27 6f72 6967 696e 275d 203d  dex]['origin'] =
-0002c160: 206f 7269 6769 6e0a 2020 2020 2020 2020   origin.        
-0002c170: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-0002c180: 2062 6173 6564 6972 2021 3d20 272e 2720   basedir != '.' 
-0002c190: 616e 6420 6e6f 7420 6f72 6967 696e 2e73  and not origin.s
-0002c1a0: 7461 7274 7377 6974 6828 272e 2f27 2920  tartswith('./') 
-0002c1b0: 616e 6420 6e6f 7420 6f72 6967 696e 2e73  and not origin.s
-0002c1c0: 7461 7274 7377 6974 6828 272f 776f 726b  tartswith('/work
-0002c1d0: 6469 722f 2729 3a0a 2020 2020 2020 2020  dir/'):.        
-0002c1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c1f0: 6f72 6967 696e 203d 2066 227b 6261 7365  origin = f"{base
-0002c200: 6469 727d 2f7b 6f72 6967 696e 7d22 0a20  dir}/{origin}". 
-0002c210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c220: 2020 2020 2020 2066 696c 6573 5b69 6e64         files[ind
-0002c230: 6578 5d5b 276f 7269 6769 6e27 5d20 3d20  ex]['origin'] = 
-0002c240: 6f72 6967 696e 0a20 2020 2020 2020 2020  origin.         
-0002c250: 2020 2020 2020 2069 6620 6e6f 7420 6f73         if not os
-0002c260: 2e70 6174 682e 6578 6973 7473 286f 7269  .path.exists(ori
-0002c270: 6769 6e29 3a0a 2020 2020 2020 2020 2020  gin):.          
-0002c280: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0002c290: 207b 2772 6573 756c 7427 3a20 2766 6169   {'result': 'fai
-0002c2a0: 6c75 7265 272c 2027 7265 6173 6f6e 273a  lure', 'reason':
-0002c2b0: 2066 224f 7269 6769 6e20 6669 6c65 207b   f"Origin file {
-0002c2c0: 6f72 6967 696e 7d20 6e6f 7420 666f 756e  origin} not foun
-0002c2d0: 6420 666f 7220 7b6e 616d 657d 227d 0a20  d for {name}"}. 
-0002c2e0: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-0002c2f0: 636f 6e74 656e 7420 6973 204e 6f6e 653a  content is None:
-0002c300: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002c310: 2072 6574 7572 6e20 7b27 7265 7375 6c74   return {'result
-0002c320: 273a 2027 6661 696c 7572 6527 2c20 2772  ': 'failure', 'r
-0002c330: 6561 736f 6e27 3a20 6622 436f 6e74 656e  eason': f"Conten
-0002c340: 7420 6f66 2066 696c 6520 7b70 6174 687d  t of file {path}
-0002c350: 206e 6f74 2066 6f75 6e64 2066 6f72 207b   not found for {
-0002c360: 6e61 6d65 7d22 7d0a 0a20 2020 2064 6566  name}"}..    def
-0002c370: 2070 7265 7065 6e64 5f69 6e70 7574 5f64   prepend_input_d
-0002c380: 6972 2873 656c 662c 206e 6577 6669 6c65  ir(self, newfile
-0002c390: 732c 2069 6e70 7574 6469 7229 3a0a 2020  s, inputdir):.  
-0002c3a0: 2020 2020 2020 7265 7375 6c74 7320 3d20        results = 
-0002c3b0: 5b5d 0a20 2020 2020 2020 2066 6f72 2066  [].        for f
-0002c3c0: 6963 2069 6e20 6e65 7766 696c 6573 3a0a  ic in newfiles:.
-0002c3d0: 2020 2020 2020 2020 2020 2020 6966 2069              if i
-0002c3e0: 7369 6e73 7461 6e63 6528 6669 632c 2073  sinstance(fic, s
-0002c3f0: 7472 2920 616e 6420 6e6f 7420 6f73 2e70  tr) and not os.p
-0002c400: 6174 682e 6973 6162 7328 6669 6329 3a0a  ath.isabs(fic):.
-0002c410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c420: 6e65 775f 6669 6320 3d20 6622 7b69 6e70  new_fic = f"{inp
-0002c430: 7574 6469 727d 2f7b 6669 637d 220a 2020  utdir}/{fic}".  
-0002c440: 2020 2020 2020 2020 2020 656c 6966 2069            elif i
-0002c450: 7369 6e73 7461 6e63 6528 6669 632c 2064  sinstance(fic, d
-0002c460: 6963 7429 2061 6e64 2027 6f72 6967 696e  ict) and 'origin
-0002c470: 2720 696e 2066 6963 2061 6e64 206e 6f74  ' in fic and not
-0002c480: 206f 732e 7061 7468 2e69 7361 6273 286f   os.path.isabs(o
-0002c490: 732e 7061 7468 2e65 7870 616e 6475 7365  s.path.expanduse
-0002c4a0: 7228 6669 635b 276f 7269 6769 6e27 5d29  r(fic['origin'])
-0002c4b0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-0002c4c0: 2020 206e 6577 5f66 6963 203d 2066 6963     new_fic = fic
-0002c4d0: 2e63 6f70 7928 290a 2020 2020 2020 2020  .copy().        
-0002c4e0: 2020 2020 2020 2020 6e65 775f 6669 635b          new_fic[
-0002c4f0: 276f 7269 6769 6e27 5d20 3d20 6622 7b69  'origin'] = f"{i
-0002c500: 6e70 7574 6469 727d 2f7b 6669 635b 276f  nputdir}/{fic['o
-0002c510: 7269 6769 6e27 5d7d 220a 2020 2020 2020  rigin']}".      
-0002c520: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0002c530: 2020 2020 2020 2020 2020 2020 6e65 775f              new_
-0002c540: 6669 6320 3d20 6669 630a 2020 2020 2020  fic = fic.      
-0002c550: 2020 2020 2020 7265 7375 6c74 732e 6170        results.ap
-0002c560: 7065 6e64 286e 6577 5f66 6963 290a 2020  pend(new_fic).  
-0002c570: 2020 2020 2020 7265 7475 726e 2072 6573        return res
-0002c580: 756c 7473 0a0a 2020 2020 6465 6620 7265  ults..    def re
-0002c590: 6d65 6469 6174 655f 6669 6c65 7328 7365  mediate_files(se
-0002c5a0: 6c66 2c20 6e61 6d65 2c20 6e65 7766 696c  lf, name, newfil
-0002c5b0: 6573 2c20 6f76 6572 7269 6465 733d 7b7d  es, overrides={}
-0002c5c0: 2c20 696e 7075 7464 6972 3d27 2e27 293a  , inputdir='.'):
-0002c5d0: 0a20 2020 2020 2020 2075 7064 6174 6564  .        updated
-0002c5e0: 5f66 696c 6573 203d 205b 5d0a 2020 2020  _files = [].    
-0002c5f0: 2020 2020 6970 2c20 766d 706f 7274 203d      ip, vmport =
-0002c600: 205f 7373 685f 6372 6564 656e 7469 616c   _ssh_credential
-0002c610: 7328 7365 6c66 2e6b 2c20 6e61 6d65 295b  s(self.k, name)[
-0002c620: 313a 5d0a 2020 2020 2020 2020 6966 2069  1:].        if i
-0002c630: 6e70 7574 6469 7220 213d 2027 2e27 3a0a  nputdir != '.':.
-0002c640: 2020 2020 2020 2020 2020 2020 6e65 7766              newf
-0002c650: 696c 6573 203d 2073 656c 662e 7072 6570  iles = self.prep
-0002c660: 656e 645f 696e 7075 745f 6469 7228 6e65  end_input_dir(ne
-0002c670: 7766 696c 6573 2c20 696e 7075 7464 6972  wfiles, inputdir
-0002c680: 290a 2020 2020 2020 2020 7365 6c66 2e70  ).        self.p
-0002c690: 6172 7365 5f66 696c 6573 286e 616d 652c  arse_files(name,
-0002c6a0: 206e 6577 6669 6c65 7329 0a20 2020 2020   newfiles).     
-0002c6b0: 2020 206f 7665 7272 6964 6573 5f66 696c     overrides_fil
-0002c6c0: 6573 203d 206f 7665 7272 6964 6573 2e63  es = overrides.c
-0002c6d0: 6f70 7928 290a 2020 2020 2020 2020 6f76  opy().        ov
-0002c6e0: 6572 7269 6465 735f 6669 6c65 735b 276e  errides_files['n
-0002c6f0: 616d 6527 5d20 3d20 6e61 6d65 0a20 2020  ame'] = name.   
-0002c700: 2020 2020 2064 6174 6120 3d20 7072 6f63       data = proc
-0002c710: 6573 735f 6669 6c65 7328 6669 6c65 733d  ess_files(files=
-0002c720: 6e65 7766 696c 6573 2c20 6f76 6572 7269  newfiles, overri
-0002c730: 6465 733d 6f76 6572 7269 6465 735f 6669  des=overrides_fi
-0002c740: 6c65 732c 2072 656d 6564 6961 7465 3d54  les, remediate=T
-0002c750: 7275 6529 0a20 2020 2020 2020 2064 6174  rue).        dat
-0002c760: 6164 6972 7320 3d20 7b7d 0a20 2020 2020  adirs = {}.     
-0002c770: 2020 2077 6974 6820 5465 6d70 6f72 6172     with Temporar
-0002c780: 7944 6972 6563 746f 7279 2829 2061 7320  yDirectory() as 
-0002c790: 746d 7064 6972 3a0a 2020 2020 2020 2020  tmpdir:.        
-0002c7a0: 2020 2020 666f 7220 696e 6465 782c 2065      for index, e
-0002c7b0: 6e74 7279 2069 6e20 656e 756d 6572 6174  ntry in enumerat
-0002c7c0: 6528 6461 7461 293a 0a20 2020 2020 2020  e(data):.       
-0002c7d0: 2020 2020 2020 2020 2064 6573 7469 6e61           destina
-0002c7e0: 7469 6f6e 203d 2065 6e74 7279 5b27 7061  tion = entry['pa
-0002c7f0: 7468 275d 0a20 2020 2020 2020 2020 2020  th'].           
-0002c800: 2020 2020 2070 6174 6864 6972 203d 206f       pathdir = o
-0002c810: 732e 7061 7468 2e64 6972 6e61 6d65 2864  s.path.dirname(d
-0002c820: 6573 7469 6e61 7469 6f6e 290a 2020 2020  estination).    
-0002c830: 2020 2020 2020 2020 2020 2020 6966 2070              if p
-0002c840: 6174 6864 6972 206e 6f74 2069 6e20 6461  athdir not in da
-0002c850: 7461 6469 7273 3a0a 2020 2020 2020 2020  tadirs:.        
-0002c860: 2020 2020 2020 2020 2020 2020 7061 7468              path
-0002c870: 6469 7263 6d64 203d 2066 276c 7320 2d61  dircmd = f'ls -a
-0002c880: 207b 7061 7468 6469 727d 2032 3e26 3127   {pathdir} 2>&1'
-0002c890: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002c8a0: 2020 2020 2070 6174 6864 6972 636d 6420       pathdircmd 
-0002c8b0: 3d20 7373 6828 6e61 6d65 2c20 6970 3d69  = ssh(name, ip=i
-0002c8c0: 702c 2075 7365 723d 2772 6f6f 7427 2c20  p, user='root', 
-0002c8d0: 7475 6e6e 656c 3d73 656c 662e 7475 6e6e  tunnel=self.tunn
-0002c8e0: 656c 2c20 7475 6e6e 656c 686f 7374 3d73  el, tunnelhost=s
-0002c8f0: 656c 662e 7475 6e6e 656c 686f 7374 2c0a  elf.tunnelhost,.
+0002b940: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0002b950: 6c61 6e3d 706c 616e 2c20 6261 7365 6469  lan=plan, basedi
+0002b960: 723d 6375 7272 656e 7470 6c61 6e64 6972  r=currentplandir
+0002b970: 2c20 636c 6965 6e74 3d76 6d63 6c69 656e  , client=vmclien
+0002b980: 742c 206f 6e66 6c79 3d6f 6e66 6c79 2c0a  t, onfly=onfly,.
+0002b990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b9b0: 6f6e 6c79 6173 7365 7473 3d6f 6e6c 7961  onlyassets=onlya
+0002b9c0: 7373 6574 7329 0a20 2020 2020 2020 2069  ssets).        i
+0002b9d0: 6620 6e6f 7420 6f6e 6c79 6173 7365 7473  f not onlyassets
+0002b9e0: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+0002b9f0: 6d6d 6f6e 2e68 616e 646c 655f 7265 7370  mmon.handle_resp
+0002ba00: 6f6e 7365 2872 6573 756c 742c 206e 616d  onse(result, nam
+0002ba10: 652c 2063 6c69 656e 743d 766d 636c 6965  e, client=vmclie
+0002ba20: 6e74 290a 2020 2020 2020 2020 7365 6c66  nt).        self
+0002ba30: 2e68 616e 646c 655f 766d 5f72 6573 756c  .handle_vm_resul
+0002ba40: 7428 6e61 6d65 2c20 7072 6f66 696c 652c  t(name, profile,
+0002ba50: 2072 6573 756c 743d 7265 7375 6c74 2c20   result=result, 
+0002ba60: 6e65 7776 6d73 3d6e 6577 766d 732c 2066  newvms=newvms, f
+0002ba70: 6169 6c65 6476 6d73 3d66 6169 6c65 6476  ailedvms=failedv
+0002ba80: 6d73 2c0a 2020 2020 2020 2020 2020 2020  ms,.            
+0002ba90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002baa0: 2020 6173 796e 6377 6169 7476 6d73 3d61    asyncwaitvms=a
+0002bab0: 7379 6e63 7761 6974 766d 732c 206f 6e6c  syncwaitvms, onl
+0002bac0: 7961 7373 6574 733d 6f6e 6c79 6173 7365  yassets=onlyasse
+0002bad0: 7473 2c20 6e65 7761 7373 6574 733d 6e65  ts, newassets=ne
+0002bae0: 7761 7373 6574 732c 2076 6d63 6c69 656e  wassets, vmclien
+0002baf0: 743d 766d 636c 6965 6e74 290a 0a20 2020  t=vmclient)..   
+0002bb00: 2064 6566 2070 6172 7365 5f66 696c 6573   def parse_files
+0002bb10: 2873 656c 662c 206e 616d 652c 2066 696c  (self, name, fil
+0002bb20: 6573 2c20 6261 7365 6469 723d 272e 272c  es, basedir='.',
+0002bb30: 206f 6e66 6c79 3d4e 6f6e 6529 3a0a 2020   onfly=None):.  
+0002bb40: 2020 2020 2020 6966 206e 6f74 2066 696c        if not fil
+0002bb50: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
+0002bb60: 7265 7475 726e 0a20 2020 2020 2020 2066  return.        f
+0002bb70: 6f72 2069 6e64 6578 2c20 6669 6c20 696e  or index, fil in
+0002bb80: 2065 6e75 6d65 7261 7465 2866 696c 6573   enumerate(files
+0002bb90: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
+0002bba0: 6620 6973 696e 7374 616e 6365 2866 696c  f isinstance(fil
+0002bbb0: 2c20 7374 7229 3a0a 2020 2020 2020 2020  , str):.        
+0002bbc0: 2020 2020 2020 2020 7061 7468 203d 2066          path = f
+0002bbd0: 222f 726f 6f74 2f7b 6669 6c7d 220a 2020  "/root/{fil}".  
+0002bbe0: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0002bbf0: 2062 6173 6564 6972 2021 3d20 272e 273a   basedir != '.':
+0002bc00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002bc10: 2020 2020 206f 7269 6769 6e20 3d20 6622       origin = f"
+0002bc20: 7b62 6173 6564 6972 7d2f 7b70 6174 687d  {basedir}/{path}
+0002bc30: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+0002bc40: 2020 6f72 6967 696e 203d 2066 696c 0a20    origin = fil. 
+0002bc50: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+0002bc60: 6f6e 7465 6e74 203d 204e 6f6e 650a 2020  ontent = None.  
+0002bc70: 2020 2020 2020 2020 2020 2020 2020 6669                fi
+0002bc80: 6c65 735b 696e 6465 785d 203d 207b 2770  les[index] = {'p
+0002bc90: 6174 6827 3a20 7061 7468 2c20 276f 7269  ath': path, 'ori
+0002bca0: 6769 6e27 3a20 6f72 6967 696e 7d0a 2020  gin': origin}.  
+0002bcb0: 2020 2020 2020 2020 2020 656c 6966 2069            elif i
+0002bcc0: 7369 6e73 7461 6e63 6528 6669 6c2c 2064  sinstance(fil, d
+0002bcd0: 6963 7429 3a0a 2020 2020 2020 2020 2020  ict):.          
+0002bce0: 2020 2020 2020 6f72 6967 696e 203d 2066        origin = f
+0002bcf0: 696c 2e67 6574 2827 6f72 6967 696e 2729  il.get('origin')
+0002bd00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002bd10: 2063 6f6e 7465 6e74 203d 2066 696c 2e67   content = fil.g
+0002bd20: 6574 2827 636f 6e74 656e 7427 290a 2020  et('content').  
+0002bd30: 2020 2020 2020 2020 2020 2020 2020 7061                pa
+0002bd40: 7468 203d 2066 696c 2e67 6574 2827 7061  th = fil.get('pa
+0002bd50: 7468 2729 0a20 2020 2020 2020 2020 2020  th').           
+0002bd60: 2020 2020 2069 6620 7061 7468 2069 7320       if path is 
+0002bd70: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+0002bd80: 2020 2020 2020 2020 2020 6966 206f 7269            if ori
+0002bd90: 6769 6e20 6973 206e 6f74 204e 6f6e 653a  gin is not None:
+0002bda0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002bdb0: 2020 2020 2020 2020 2066 696c 6573 5b69           files[i
+0002bdc0: 6e64 6578 5d5b 2770 6174 6827 5d20 3d20  ndex]['path'] = 
+0002bdd0: 6622 2f72 6f6f 742f 7b6f 7269 6769 6e7d  f"/root/{origin}
+0002bde0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+0002bdf0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0002be00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002be10: 2020 2020 6572 726f 7228 6622 496e 636f      error(f"Inco
+0002be20: 7272 6563 7420 656e 7472 7920 7b66 696c  rrect entry {fil
+0002be30: 7d2e 4c65 6176 696e 672e 2e2e 2229 0a20  }.Leaving..."). 
+0002be40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002be50: 2020 2020 2020 2073 7973 2e65 7869 7428         sys.exit(
+0002be60: 3129 0a20 2020 2020 2020 2020 2020 2020  1).             
+0002be70: 2020 2065 6c69 6620 6e6f 7420 7061 7468     elif not path
+0002be80: 2e73 7461 7274 7377 6974 6828 272f 2729  .startswith('/')
+0002be90: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0002bea0: 2020 2020 2020 6572 726f 7228 6622 496e        error(f"In
+0002beb0: 636f 7272 6563 7420 7061 7468 207b 7061  correct path {pa
+0002bec0: 7468 7d2e 4c65 6176 696e 672e 2e2e 2229  th}.Leaving...")
+0002bed0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002bee0: 2020 2020 2073 7973 2e65 7869 7428 3129       sys.exit(1)
+0002bef0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+0002bf00: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0002bf10: 2020 2072 6574 7572 6e20 7b27 7265 7375     return {'resu
+0002bf20: 6c74 273a 2027 6661 696c 7572 6527 2c20  lt': 'failure', 
+0002bf30: 2772 6561 736f 6e27 3a20 2249 6e63 6f72  'reason': "Incor
+0002bf40: 7265 6374 2066 696c 6520 656e 7472 7922  rect file entry"
+0002bf50: 7d0a 2020 2020 2020 2020 2020 2020 6966  }.            if
+0002bf60: 206f 7269 6769 6e20 6973 206e 6f74 204e   origin is not N
+0002bf70: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0002bf80: 2020 2020 2069 6620 6f6e 666c 7920 6973       if onfly is
+0002bf90: 206e 6f74 204e 6f6e 6520 616e 6420 277e   not None and '~
+0002bfa0: 2720 6e6f 7420 696e 206f 7269 6769 6e3a  ' not in origin:
+0002bfb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002bfc0: 2020 2020 2064 6573 7464 6972 203d 2062       destdir = b
+0002bfd0: 6173 6564 6972 0a20 2020 2020 2020 2020  asedir.         
+0002bfe0: 2020 2020 2020 2020 2020 2069 6620 272f             if '/
+0002bff0: 2720 696e 206f 7269 6769 6e3a 0a20 2020  ' in origin:.   
+0002c000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c010: 2020 2020 2064 6573 7464 6972 203d 206f       destdir = o
+0002c020: 732e 7061 7468 2e64 6972 6e61 6d65 286f  s.path.dirname(o
+0002c030: 7269 6769 6e29 0a20 2020 2020 2020 2020  rigin).         
+0002c040: 2020 2020 2020 2020 2020 2020 2020 206f                 o
+0002c050: 732e 6d61 6b65 6469 7273 2864 6573 7464  s.makedirs(destd
+0002c060: 6972 2c20 6578 6973 745f 6f6b 3d54 7275  ir, exist_ok=Tru
+0002c070: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+0002c080: 2020 2020 2020 2063 6f6d 6d6f 6e2e 6665         common.fe
+0002c090: 7463 6828 6622 7b6f 6e66 6c79 7d2f 7b6f  tch(f"{onfly}/{o
+0002c0a0: 7269 6769 6e7d 222c 2064 6573 7464 6972  rigin}", destdir
+0002c0b0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0002c0c0: 2020 6f72 6967 696e 203d 206f 732e 7061    origin = os.pa
+0002c0d0: 7468 2e65 7870 616e 6475 7365 7228 6f72  th.expanduser(or
+0002c0e0: 6967 696e 290a 2020 2020 2020 2020 2020  igin).          
+0002c0f0: 2020 2020 2020 6966 206e 6f74 206f 732e        if not os.
+0002c100: 7061 7468 2e69 7361 6273 286f 7269 6769  path.isabs(origi
+0002c110: 6e29 3a0a 2020 2020 2020 2020 2020 2020  n):.            
+0002c120: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+0002c130: 7461 6e63 6528 6669 6c2c 2064 6963 7429  tance(fil, dict)
+0002c140: 2061 6e64 2066 696c 2e67 6574 2827 6375   and fil.get('cu
+0002c150: 7272 656e 7464 6972 272c 2046 616c 7365  rrentdir', False
+0002c160: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0002c170: 2020 2020 2020 2020 2020 206f 7269 6769             origi
+0002c180: 6e20 3d20 6622 7b6f 732e 6765 7463 7764  n = f"{os.getcwd
+0002c190: 2829 7d2f 7b6f 7269 6769 6e7d 220a 2020  ()}/{origin}".  
+0002c1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c1b0: 2020 2020 2020 6669 6c65 735b 696e 6465        files[inde
+0002c1c0: 785d 5b27 6f72 6967 696e 275d 203d 206f  x]['origin'] = o
+0002c1d0: 7269 6769 6e0a 2020 2020 2020 2020 2020  rigin.          
+0002c1e0: 2020 2020 2020 2020 2020 656c 6966 2062            elif b
+0002c1f0: 6173 6564 6972 2021 3d20 272e 2720 616e  asedir != '.' an
+0002c200: 6420 6e6f 7420 6f72 6967 696e 2e73 7461  d not origin.sta
+0002c210: 7274 7377 6974 6828 272e 2f27 2920 616e  rtswith('./') an
+0002c220: 6420 6e6f 7420 6f72 6967 696e 2e73 7461  d not origin.sta
+0002c230: 7274 7377 6974 6828 272f 776f 726b 6469  rtswith('/workdi
+0002c240: 722f 2729 3a0a 2020 2020 2020 2020 2020  r/'):.          
+0002c250: 2020 2020 2020 2020 2020 2020 2020 6f72                or
+0002c260: 6967 696e 203d 2066 227b 6261 7365 6469  igin = f"{basedi
+0002c270: 727d 2f7b 6f72 6967 696e 7d22 0a20 2020  r}/{origin}".   
+0002c280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c290: 2020 2020 2066 696c 6573 5b69 6e64 6578       files[index
+0002c2a0: 5d5b 276f 7269 6769 6e27 5d20 3d20 6f72  ]['origin'] = or
+0002c2b0: 6967 696e 0a20 2020 2020 2020 2020 2020  igin.           
+0002c2c0: 2020 2020 2069 6620 6e6f 7420 6f73 2e70       if not os.p
+0002c2d0: 6174 682e 6578 6973 7473 286f 7269 6769  ath.exists(origi
+0002c2e0: 6e29 3a0a 2020 2020 2020 2020 2020 2020  n):.            
+0002c2f0: 2020 2020 2020 2020 7265 7475 726e 207b          return {
+0002c300: 2772 6573 756c 7427 3a20 2766 6169 6c75  'result': 'failu
+0002c310: 7265 272c 2027 7265 6173 6f6e 273a 2066  re', 'reason': f
+0002c320: 224f 7269 6769 6e20 6669 6c65 207b 6f72  "Origin file {or
+0002c330: 6967 696e 7d20 6e6f 7420 666f 756e 6420  igin} not found 
+0002c340: 666f 7220 7b6e 616d 657d 227d 0a20 2020  for {name}"}.   
+0002c350: 2020 2020 2020 2020 2065 6c69 6620 636f           elif co
+0002c360: 6e74 656e 7420 6973 204e 6f6e 653a 0a20  ntent is None:. 
+0002c370: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0002c380: 6574 7572 6e20 7b27 7265 7375 6c74 273a  eturn {'result':
+0002c390: 2027 6661 696c 7572 6527 2c20 2772 6561   'failure', 'rea
+0002c3a0: 736f 6e27 3a20 6622 436f 6e74 656e 7420  son': f"Content 
+0002c3b0: 6f66 2066 696c 6520 7b70 6174 687d 206e  of file {path} n
+0002c3c0: 6f74 2066 6f75 6e64 2066 6f72 207b 6e61  ot found for {na
+0002c3d0: 6d65 7d22 7d0a 0a20 2020 2064 6566 2070  me}"}..    def p
+0002c3e0: 7265 7065 6e64 5f69 6e70 7574 5f64 6972  repend_input_dir
+0002c3f0: 2873 656c 662c 206e 6577 6669 6c65 732c  (self, newfiles,
+0002c400: 2069 6e70 7574 6469 7229 3a0a 2020 2020   inputdir):.    
+0002c410: 2020 2020 7265 7375 6c74 7320 3d20 5b5d      results = []
+0002c420: 0a20 2020 2020 2020 2066 6f72 2066 6963  .        for fic
+0002c430: 2069 6e20 6e65 7766 696c 6573 3a0a 2020   in newfiles:.  
+0002c440: 2020 2020 2020 2020 2020 6966 2069 7369            if isi
+0002c450: 6e73 7461 6e63 6528 6669 632c 2073 7472  nstance(fic, str
+0002c460: 2920 616e 6420 6e6f 7420 6f73 2e70 6174  ) and not os.pat
+0002c470: 682e 6973 6162 7328 6669 6329 3a0a 2020  h.isabs(fic):.  
+0002c480: 2020 2020 2020 2020 2020 2020 2020 6e65                ne
+0002c490: 775f 6669 6320 3d20 6622 7b69 6e70 7574  w_fic = f"{input
+0002c4a0: 6469 727d 2f7b 6669 637d 220a 2020 2020  dir}/{fic}".    
+0002c4b0: 2020 2020 2020 2020 656c 6966 2069 7369          elif isi
+0002c4c0: 6e73 7461 6e63 6528 6669 632c 2064 6963  nstance(fic, dic
+0002c4d0: 7429 2061 6e64 2027 6f72 6967 696e 2720  t) and 'origin' 
+0002c4e0: 696e 2066 6963 2061 6e64 206e 6f74 206f  in fic and not o
+0002c4f0: 732e 7061 7468 2e69 7361 6273 286f 732e  s.path.isabs(os.
+0002c500: 7061 7468 2e65 7870 616e 6475 7365 7228  path.expanduser(
+0002c510: 6669 635b 276f 7269 6769 6e27 5d29 293a  fic['origin'])):
+0002c520: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002c530: 206e 6577 5f66 6963 203d 2066 6963 2e63   new_fic = fic.c
+0002c540: 6f70 7928 290a 2020 2020 2020 2020 2020  opy().          
+0002c550: 2020 2020 2020 6e65 775f 6669 635b 276f        new_fic['o
+0002c560: 7269 6769 6e27 5d20 3d20 6622 7b69 6e70  rigin'] = f"{inp
+0002c570: 7574 6469 727d 2f7b 6669 635b 276f 7269  utdir}/{fic['ori
+0002c580: 6769 6e27 5d7d 220a 2020 2020 2020 2020  gin']}".        
+0002c590: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0002c5a0: 2020 2020 2020 2020 2020 6e65 775f 6669            new_fi
+0002c5b0: 6320 3d20 6669 630a 2020 2020 2020 2020  c = fic.        
+0002c5c0: 2020 2020 7265 7375 6c74 732e 6170 7065      results.appe
+0002c5d0: 6e64 286e 6577 5f66 6963 290a 2020 2020  nd(new_fic).    
+0002c5e0: 2020 2020 7265 7475 726e 2072 6573 756c      return resul
+0002c5f0: 7473 0a0a 2020 2020 6465 6620 7265 6d65  ts..    def reme
+0002c600: 6469 6174 655f 6669 6c65 7328 7365 6c66  diate_files(self
+0002c610: 2c20 6e61 6d65 2c20 6e65 7766 696c 6573  , name, newfiles
+0002c620: 2c20 6f76 6572 7269 6465 733d 7b7d 2c20  , overrides={}, 
+0002c630: 696e 7075 7464 6972 3d27 2e27 293a 0a20  inputdir='.'):. 
+0002c640: 2020 2020 2020 2075 7064 6174 6564 5f66         updated_f
+0002c650: 696c 6573 203d 205b 5d0a 2020 2020 2020  iles = [].      
+0002c660: 2020 6970 2c20 766d 706f 7274 203d 205f    ip, vmport = _
+0002c670: 7373 685f 6372 6564 656e 7469 616c 7328  ssh_credentials(
+0002c680: 7365 6c66 2e6b 2c20 6e61 6d65 295b 313a  self.k, name)[1:
+0002c690: 5d0a 2020 2020 2020 2020 6966 2069 6e70  ].        if inp
+0002c6a0: 7574 6469 7220 213d 2027 2e27 3a0a 2020  utdir != '.':.  
+0002c6b0: 2020 2020 2020 2020 2020 6e65 7766 696c            newfil
+0002c6c0: 6573 203d 2073 656c 662e 7072 6570 656e  es = self.prepen
+0002c6d0: 645f 696e 7075 745f 6469 7228 6e65 7766  d_input_dir(newf
+0002c6e0: 696c 6573 2c20 696e 7075 7464 6972 290a  iles, inputdir).
+0002c6f0: 2020 2020 2020 2020 7365 6c66 2e70 6172          self.par
+0002c700: 7365 5f66 696c 6573 286e 616d 652c 206e  se_files(name, n
+0002c710: 6577 6669 6c65 7329 0a20 2020 2020 2020  ewfiles).       
+0002c720: 206f 7665 7272 6964 6573 5f66 696c 6573   overrides_files
+0002c730: 203d 206f 7665 7272 6964 6573 2e63 6f70   = overrides.cop
+0002c740: 7928 290a 2020 2020 2020 2020 6f76 6572  y().        over
+0002c750: 7269 6465 735f 6669 6c65 735b 276e 616d  rides_files['nam
+0002c760: 6527 5d20 3d20 6e61 6d65 0a20 2020 2020  e'] = name.     
+0002c770: 2020 2064 6174 6120 3d20 7072 6f63 6573     data = proces
+0002c780: 735f 6669 6c65 7328 6669 6c65 733d 6e65  s_files(files=ne
+0002c790: 7766 696c 6573 2c20 6f76 6572 7269 6465  wfiles, override
+0002c7a0: 733d 6f76 6572 7269 6465 735f 6669 6c65  s=overrides_file
+0002c7b0: 732c 2072 656d 6564 6961 7465 3d54 7275  s, remediate=Tru
+0002c7c0: 6529 0a20 2020 2020 2020 2064 6174 6164  e).        datad
+0002c7d0: 6972 7320 3d20 7b7d 0a20 2020 2020 2020  irs = {}.       
+0002c7e0: 2077 6974 6820 5465 6d70 6f72 6172 7944   with TemporaryD
+0002c7f0: 6972 6563 746f 7279 2829 2061 7320 746d  irectory() as tm
+0002c800: 7064 6972 3a0a 2020 2020 2020 2020 2020  pdir:.          
+0002c810: 2020 666f 7220 696e 6465 782c 2065 6e74    for index, ent
+0002c820: 7279 2069 6e20 656e 756d 6572 6174 6528  ry in enumerate(
+0002c830: 6461 7461 293a 0a20 2020 2020 2020 2020  data):.         
+0002c840: 2020 2020 2020 2064 6573 7469 6e61 7469         destinati
+0002c850: 6f6e 203d 2065 6e74 7279 5b27 7061 7468  on = entry['path
+0002c860: 275d 0a20 2020 2020 2020 2020 2020 2020  '].             
+0002c870: 2020 2070 6174 6864 6972 203d 206f 732e     pathdir = os.
+0002c880: 7061 7468 2e64 6972 6e61 6d65 2864 6573  path.dirname(des
+0002c890: 7469 6e61 7469 6f6e 290a 2020 2020 2020  tination).      
+0002c8a0: 2020 2020 2020 2020 2020 6966 2070 6174            if pat
+0002c8b0: 6864 6972 206e 6f74 2069 6e20 6461 7461  hdir not in data
+0002c8c0: 6469 7273 3a0a 2020 2020 2020 2020 2020  dirs:.          
+0002c8d0: 2020 2020 2020 2020 2020 7061 7468 6469            pathdi
+0002c8e0: 7263 6d64 203d 2066 276c 7320 2d61 207b  rcmd = f'ls -a {
+0002c8f0: 7061 7468 6469 727d 2032 3e26 3127 0a20  pathdir} 2>&1'. 
 0002c900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c920: 2020 2020 2074 756e 6e65 6c70 6f72 743d       tunnelport=
-0002c930: 7365 6c66 2e74 756e 6e65 6c70 6f72 742c  self.tunnelport,
-0002c940: 2074 756e 6e65 6c75 7365 723d 7365 6c66   tunneluser=self
-0002c950: 2e74 756e 6e65 6c75 7365 722c 2069 6e73  .tunneluser, ins
-0002c960: 6563 7572 653d 5472 7565 2c0a 2020 2020  ecure=True,.    
+0002c910: 2020 2070 6174 6864 6972 636d 6420 3d20     pathdircmd = 
+0002c920: 7373 6828 6e61 6d65 2c20 6970 3d69 702c  ssh(name, ip=ip,
+0002c930: 2075 7365 723d 2772 6f6f 7427 2c20 7475   user='root', tu
+0002c940: 6e6e 656c 3d73 656c 662e 7475 6e6e 656c  nnel=self.tunnel
+0002c950: 2c20 7475 6e6e 656c 686f 7374 3d73 656c  , tunnelhost=sel
+0002c960: 662e 7475 6e6e 656c 686f 7374 2c0a 2020  f.tunnelhost,.  
 0002c970: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0002c980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c990: 2063 6d64 3d70 6174 6864 6972 636d 642c   cmd=pathdircmd,
-0002c9a0: 2076 6d70 6f72 743d 766d 706f 7274 290a   vmport=vmport).
-0002c9b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c9c0: 2020 2020 7061 7468 6469 7266 696c 6573      pathdirfiles
-0002c9d0: 203d 206f 732e 706f 7065 6e28 7061 7468   = os.popen(path
-0002c9e0: 6469 7263 6d64 292e 7265 6164 6c69 6e65  dircmd).readline
-0002c9f0: 7328 290a 2020 2020 2020 2020 2020 2020  s().            
-0002ca00: 2020 2020 2020 2020 6966 206c 656e 2870          if len(p
-0002ca10: 6174 6864 6972 6669 6c65 7329 203d 3d20  athdirfiles) == 
-0002ca20: 3120 616e 6420 274e 6f20 7375 6368 2066  1 and 'No such f
-0002ca30: 696c 6520 6f72 2064 6972 6563 746f 7279  ile or directory
-0002ca40: 2720 696e 2070 6174 6864 6972 6669 6c65  ' in pathdirfile
-0002ca50: 735b 305d 3a0a 2020 2020 2020 2020 2020  s[0]:.          
-0002ca60: 2020 2020 2020 2020 2020 2020 2020 6372                cr
-0002ca70: 6561 7465 6469 7263 6d64 203d 2066 276d  eatedircmd = f'm
-0002ca80: 6b64 6972 202d 7020 7b70 6174 6864 6972  kdir -p {pathdir
-0002ca90: 7d27 0a20 2020 2020 2020 2020 2020 2020  }'.             
-0002caa0: 2020 2020 2020 2020 2020 2063 7265 6174             creat
-0002cab0: 6564 6972 636d 6420 3d20 7373 6828 6e61  edircmd = ssh(na
-0002cac0: 6d65 2c20 6970 3d69 702c 2075 7365 723d  me, ip=ip, user=
-0002cad0: 2772 6f6f 7427 2c20 7475 6e6e 656c 3d73  'root', tunnel=s
-0002cae0: 656c 662e 7475 6e6e 656c 2c20 7475 6e6e  elf.tunnel, tunn
-0002caf0: 656c 686f 7374 3d73 656c 662e 7475 6e6e  elhost=self.tunn
-0002cb00: 656c 686f 7374 2c0a 2020 2020 2020 2020  elhost,.        
-0002cb10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002cb20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002cb30: 2020 2074 756e 6e65 6c70 6f72 743d 7365     tunnelport=se
-0002cb40: 6c66 2e74 756e 6e65 6c70 6f72 742c 2074  lf.tunnelport, t
-0002cb50: 756e 6e65 6c75 7365 723d 7365 6c66 2e74  unneluser=self.t
-0002cb60: 756e 6e65 6c75 7365 722c 2069 6e73 6563  unneluser, insec
-0002cb70: 7572 653d 5472 7565 2c0a 2020 2020 2020  ure=True,.      
+0002c990: 2020 2074 756e 6e65 6c70 6f72 743d 7365     tunnelport=se
+0002c9a0: 6c66 2e74 756e 6e65 6c70 6f72 742c 2074  lf.tunnelport, t
+0002c9b0: 756e 6e65 6c75 7365 723d 7365 6c66 2e74  unneluser=self.t
+0002c9c0: 756e 6e65 6c75 7365 722c 2069 6e73 6563  unneluser, insec
+0002c9d0: 7572 653d 5472 7565 2c0a 2020 2020 2020  ure=True,.      
+0002c9e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c9f0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+0002ca00: 6d64 3d70 6174 6864 6972 636d 642c 2076  md=pathdircmd, v
+0002ca10: 6d70 6f72 743d 766d 706f 7274 290a 2020  mport=vmport).  
+0002ca20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ca30: 2020 7061 7468 6469 7266 696c 6573 203d    pathdirfiles =
+0002ca40: 206f 732e 706f 7065 6e28 7061 7468 6469   os.popen(pathdi
+0002ca50: 7263 6d64 292e 7265 6164 6c69 6e65 7328  rcmd).readlines(
+0002ca60: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0002ca70: 2020 2020 2020 6966 206c 656e 2870 6174        if len(pat
+0002ca80: 6864 6972 6669 6c65 7329 203d 3d20 3120  hdirfiles) == 1 
+0002ca90: 616e 6420 274e 6f20 7375 6368 2066 696c  and 'No such fil
+0002caa0: 6520 6f72 2064 6972 6563 746f 7279 2720  e or directory' 
+0002cab0: 696e 2070 6174 6864 6972 6669 6c65 735b  in pathdirfiles[
+0002cac0: 305d 3a0a 2020 2020 2020 2020 2020 2020  0]:.            
+0002cad0: 2020 2020 2020 2020 2020 2020 6372 6561              crea
+0002cae0: 7465 6469 7263 6d64 203d 2066 276d 6b64  tedircmd = f'mkd
+0002caf0: 6972 202d 7020 7b70 6174 6864 6972 7d27  ir -p {pathdir}'
+0002cb00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002cb10: 2020 2020 2020 2020 2063 7265 6174 6564           created
+0002cb20: 6972 636d 6420 3d20 7373 6828 6e61 6d65  ircmd = ssh(name
+0002cb30: 2c20 6970 3d69 702c 2075 7365 723d 2772  , ip=ip, user='r
+0002cb40: 6f6f 7427 2c20 7475 6e6e 656c 3d73 656c  oot', tunnel=sel
+0002cb50: 662e 7475 6e6e 656c 2c20 7475 6e6e 656c  f.tunnel, tunnel
+0002cb60: 686f 7374 3d73 656c 662e 7475 6e6e 656c  host=self.tunnel
+0002cb70: 686f 7374 2c0a 2020 2020 2020 2020 2020  host,.          
 0002cb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0002cb90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002cba0: 2020 2020 2063 6d64 3d63 7265 6174 6564       cmd=created
-0002cbb0: 6972 636d 642c 2076 6d70 6f72 743d 766d  ircmd, vmport=vm
-0002cbc0: 706f 7274 290a 2020 2020 2020 2020 2020  port).          
-0002cbd0: 2020 2020 2020 2020 2020 2020 2020 6f73                os
-0002cbe0: 2e70 6f70 656e 2863 7265 6174 6564 6972  .popen(createdir
-0002cbf0: 636d 6429 0a20 2020 2020 2020 2020 2020  cmd).           
-0002cc00: 2020 2020 2020 2020 2020 2020 2070 6174               pat
-0002cc10: 6864 6972 6669 6c65 7320 3d20 5b5d 0a20  hdirfiles = []. 
-0002cc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002cc30: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0002cc40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002cc50: 2070 6174 6864 6972 6669 6c65 7320 3d20   pathdirfiles = 
-0002cc60: 5b78 2e73 7472 6970 2829 2066 6f72 2078  [x.strip() for x
-0002cc70: 2069 6e20 7061 7468 6469 7266 696c 6573   in pathdirfiles
-0002cc80: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-0002cc90: 2020 2020 2020 6461 7461 6469 7273 5b70        datadirs[p
-0002cca0: 6174 6864 6972 5d20 3d20 7061 7468 6469  athdir] = pathdi
-0002ccb0: 7266 696c 6573 0a20 2020 2020 2020 2020  rfiles.         
-0002ccc0: 2020 2020 2020 2069 6620 6f73 2e70 6174         if os.pat
-0002ccd0: 682e 6261 7365 6e61 6d65 2864 6573 7469  h.basename(desti
-0002cce0: 6e61 7469 6f6e 2920 6e6f 7420 696e 2064  nation) not in d
-0002ccf0: 6174 6164 6972 735b 7061 7468 6469 725d  atadirs[pathdir]
-0002cd00: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0002cd10: 2020 2020 2020 7070 7269 6e74 2866 2255        pprint(f"U
-0002cd20: 7064 6174 696e 6720 7b64 6573 7469 6e61  pdating {destina
-0002cd30: 7469 6f6e 7d20 696e 207b 6e61 6d65 7d22  tion} in {name}"
-0002cd40: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0002cd50: 2020 2020 2020 736f 7572 6365 203d 2066        source = f
-0002cd60: 227b 746d 7064 6972 7d2f 6669 637b 696e  "{tmpdir}/fic{in
-0002cd70: 6465 787d 220a 2020 2020 2020 2020 2020  dex}".          
-0002cd80: 2020 2020 2020 2020 2020 7769 7468 206f            with o
-0002cd90: 7065 6e28 736f 7572 6365 2c20 2777 2729  pen(source, 'w')
-0002cda0: 2061 7320 663a 0a20 2020 2020 2020 2020   as f:.         
-0002cdb0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0002cdc0: 2e77 7269 7465 2865 6e74 7279 5b27 636f  .write(entry['co
-0002cdd0: 6e74 656e 7427 5d29 0a20 2020 2020 2020  ntent']).       
-0002cde0: 2020 2020 2020 2020 2020 2020 2073 6370               scp
-0002cdf0: 636d 6420 3d20 7363 7028 6e61 6d65 2c20  cmd = scp(name, 
-0002ce00: 6970 3d69 702c 2075 7365 723d 2772 6f6f  ip=ip, user='roo
-0002ce10: 7427 2c20 736f 7572 6365 3d73 6f75 7263  t', source=sourc
-0002ce20: 652c 2064 6573 7469 6e61 7469 6f6e 3d64  e, destination=d
-0002ce30: 6573 7469 6e61 7469 6f6e 2c20 7475 6e6e  estination, tunn
-0002ce40: 656c 3d73 656c 662e 7475 6e6e 656c 2c0a  el=self.tunnel,.
-0002ce50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ce60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ce70: 2074 756e 6e65 6c68 6f73 743d 7365 6c66   tunnelhost=self
-0002ce80: 2e74 756e 6e65 6c68 6f73 742c 2074 756e  .tunnelhost, tun
-0002ce90: 6e65 6c70 6f72 743d 7365 6c66 2e74 756e  nelport=self.tun
-0002cea0: 6e65 6c70 6f72 742c 2074 756e 6e65 6c75  nelport, tunnelu
-0002ceb0: 7365 723d 7365 6c66 2e74 756e 6e65 6c75  ser=self.tunnelu
-0002cec0: 7365 722c 0a20 2020 2020 2020 2020 2020  ser,.           
-0002ced0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002cee0: 2020 2020 2020 646f 776e 6c6f 6164 3d46        download=F
-0002cef0: 616c 7365 2c20 696e 7365 6375 7265 3d54  alse, insecure=T
-0002cf00: 7275 652c 2076 6d70 6f72 743d 766d 706f  rue, vmport=vmpo
-0002cf10: 7274 290a 2020 2020 2020 2020 2020 2020  rt).            
-0002cf20: 2020 2020 2020 2020 6f73 2e73 7973 7465          os.syste
-0002cf30: 6d28 7363 7063 6d64 290a 2020 2020 2020  m(scpcmd).      
-0002cf40: 2020 2020 2020 2020 2020 2020 2020 7570                up
-0002cf50: 6461 7465 645f 6669 6c65 732e 6170 7065  dated_files.appe
-0002cf60: 6e64 2864 6573 7469 6e61 7469 6f6e 290a  nd(destination).
-0002cf70: 2020 2020 2020 2020 7265 7475 726e 2075          return u
-0002cf80: 7064 6174 6564 5f66 696c 6573 0a0a 2020  pdated_files..  
-0002cf90: 2020 6465 6620 696e 666f 5f73 7065 6369    def info_speci
-0002cfa0: 6669 635f 706c 616e 2873 656c 662c 2070  fic_plan(self, p
-0002cfb0: 6c61 6e29 3a0a 2020 2020 2020 2020 7070  lan):.        pp
-0002cfc0: 7269 6e74 2866 2250 726f 7669 6469 6e67  rint(f"Providing
-0002cfd0: 2069 6e66 6f72 6d61 7469 6f6e 2061 626f   information abo
-0002cfe0: 7574 2070 6c61 6e20 7b70 6c61 6e7d 2229  ut plan {plan}")
-0002cff0: 0a20 2020 2020 2020 206b 203d 2073 656c  .        k = sel
-0002d000: 662e 6b0a 2020 2020 2020 2020 7265 7375  f.k.        resu
-0002d010: 6c74 7320 3d20 5b5d 0a20 2020 2020 2020  lts = [].       
-0002d020: 2066 6f72 2076 6d20 696e 206b 2e6c 6973   for vm in k.lis
-0002d030: 7428 293a 0a20 2020 2020 2020 2020 2020  t():.           
-0002d040: 2069 6620 766d 2e67 6574 2827 706c 616e   if vm.get('plan
-0002d050: 272c 2027 2729 203d 3d20 706c 616e 3a0a  ', '') == plan:.
-0002d060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d070: 7265 7375 6c74 732e 6170 7065 6e64 2876  results.append(v
-0002d080: 6d29 0a20 2020 2020 2020 2072 6574 7572  m).        retur
-0002d090: 6e20 7265 7375 6c74 730a 0a20 2020 2064  n results..    d
-0002d0a0: 6566 2061 7574 6f73 6361 6c65 5f63 6c75  ef autoscale_clu
-0002d0b0: 7374 6572 2873 656c 662c 206b 7562 652c  ster(self, kube,
-0002d0c0: 206b 7562 6574 7970 652c 2077 6f72 6b65   kubetype, worke
-0002d0d0: 7273 2c20 7468 7265 7368 6f6c 642c 2069  rs, threshold, i
-0002d0e0: 646c 6529 3a0a 2020 2020 2020 2020 6966  dle):.        if
-0002d0f0: 2074 6872 6573 686f 6c64 203e 2039 3939   threshold > 999
-0002d100: 393a 0a20 2020 2020 2020 2020 2020 2070  9:.            p
-0002d110: 7072 696e 7428 6622 536b 6970 7069 6e67  print(f"Skipping
-0002d120: 2061 7574 6f73 6361 6c69 6e67 2075 7020   autoscaling up 
-0002d130: 6368 6563 6b73 2066 6f72 2063 6c75 7374  checks for clust
-0002d140: 6572 207b 6b75 6265 7d20 6173 2070 6572  er {kube} as per
-0002d150: 2074 6872 6573 686f 6c64 207b 7468 7265   threshold {thre
-0002d160: 7368 6f6c 647d 2229 0a20 2020 2020 2020  shold}").       
-0002d170: 2020 2020 2072 6574 7572 6e20 7b27 7265       return {'re
-0002d180: 7375 6c74 273a 2027 7375 6363 6573 7327  sult': 'success'
-0002d190: 2c20 2777 6f72 6b65 7273 273a 2077 6f72  , 'workers': wor
-0002d1a0: 6b65 7273 7d0a 2020 2020 2020 2020 6966  kers}.        if
-0002d1b0: 2069 646c 6520 3c20 313a 0a20 2020 2020   idle < 1:.     
-0002d1c0: 2020 2020 2020 2070 7072 696e 7428 6622         pprint(f"
-0002d1d0: 536b 6970 7069 6e67 2061 7574 6f73 6361  Skipping autosca
-0002d1e0: 6c69 6e67 2064 6f77 6e20 6368 6563 6b73  ling down checks
-0002d1f0: 2066 6f72 2063 6c75 7374 6572 207b 6b75   for cluster {ku
-0002d200: 6265 7d20 6173 2070 6572 2069 646c 6520  be} as per idle 
-0002d210: 7b69 646c 657d 2229 0a20 2020 2020 2020  {idle}").       
-0002d220: 2020 2020 2072 6574 7572 6e20 7b27 7265       return {'re
-0002d230: 7375 6c74 273a 2027 7375 6363 6573 7327  sult': 'success'
-0002d240: 2c20 2777 6f72 6b65 7273 273a 2077 6f72  , 'workers': wor
-0002d250: 6b65 7273 7d0a 2020 2020 2020 2020 7070  kers}.        pp
-0002d260: 7269 6e74 2866 2243 6865 636b 696e 6720  rint(f"Checking 
-0002d270: 6e6f 6e20 7363 6865 6475 6c65 6420 706f  non scheduled po
-0002d280: 6473 2063 6f75 6e74 206f 6e20 636c 7573  ds count on clus
-0002d290: 7465 7220 7b6b 7562 657d 2229 0a20 2020  ter {kube}").   
-0002d2a0: 2020 2020 2073 656c 6563 746f 7220 3d20       selector = 
-0002d2b0: 2221 6e6f 6465 2d72 6f6c 652e 6b75 6265  "!node-role.kube
-0002d2c0: 726e 6574 6573 2e69 6f2f 636f 6e74 726f  rnetes.io/contro
-0002d2d0: 6c2d 706c 616e 652c 6e6f 6465 2d72 6f6c  l-plane,node-rol
-0002d2e0: 652e 6b75 6265 726e 6574 6573 2e69 6f2f  e.kubernetes.io/
-0002d2f0: 776f 726b 6572 220a 2020 2020 2020 2020  worker".        
-0002d300: 6375 7272 656e 7463 6d64 203d 2066 226b  currentcmd = f"k
-0002d310: 7562 6563 746c 2067 6574 206e 6f64 6520  ubectl get node 
-0002d320: 2d2d 7365 6c65 6374 6f72 3d27 7b73 656c  --selector='{sel
-0002d330: 6563 746f 727d 2722 0a20 2020 2020 2020  ector}'".       
-0002d340: 2063 7572 7265 6e74 636d 6420 2b3d 2022   currentcmd += "
-0002d350: 207c 2067 7265 7020 2720 5265 6164 7927   | grep ' Ready'
-0002d360: 220a 2020 2020 2020 2020 776f 726b 6572  ".        worker
-0002d370: 7320 3d20 6c65 6e28 6f73 2e70 6f70 656e  s = len(os.popen
-0002d380: 2863 7572 7265 6e74 636d 6429 2e72 6561  (currentcmd).rea
-0002d390: 646c 696e 6573 2829 290a 2020 2020 2020  dlines()).      
-0002d3a0: 2020 7065 6e64 696e 6763 6d64 203d 2022    pendingcmd = "
-0002d3b0: 6b75 6265 6374 6c20 6765 7420 706f 6473  kubectl get pods
-0002d3c0: 202d 4120 2d2d 6669 656c 642d 7365 6c65   -A --field-sele
-0002d3d0: 6374 6f72 3d73 7461 7475 732e 7068 6173  ctor=status.phas
-0002d3e0: 653d 5065 6e64 696e 6720 2d6f 2079 616d  e=Pending -o yam
-0002d3f0: 6c22 0a20 2020 2020 2020 2070 656e 6469  l".        pendi
-0002d400: 6e67 5f70 6f64 7320 3d20 7961 6d6c 2e73  ng_pods = yaml.s
-0002d410: 6166 655f 6c6f 6164 286f 732e 706f 7065  afe_load(os.pope
-0002d420: 6e28 7065 6e64 696e 6763 6d64 292e 7265  n(pendingcmd).re
-0002d430: 6164 2829 295b 2769 7465 6d73 275d 0a20  ad())['items']. 
-0002d440: 2020 2020 2020 2069 6620 6c65 6e28 7065         if len(pe
-0002d450: 6e64 696e 675f 706f 6473 2920 3e20 7468  nding_pods) > th
-0002d460: 7265 7368 6f6c 643a 0a20 2020 2020 2020  reshold:.       
-0002d470: 2020 2020 2070 7072 696e 7428 6622 5472       pprint(f"Tr
-0002d480: 6967 6765 7269 6e67 2073 6361 6c69 6e67  iggering scaling
-0002d490: 2075 7020 666f 7220 636c 7573 7465 7220   up for cluster 
-0002d4a0: 7b6b 7562 657d 2061 7320 7468 6572 6520  {kube} as there 
-0002d4b0: 6172 6520 7b6c 656e 2870 656e 6469 6e67  are {len(pending
-0002d4c0: 5f70 6f64 7329 7d20 7065 6e64 696e 6720  _pods)} pending 
-0002d4d0: 706f 6473 2229 0a20 2020 2020 2020 2020  pods").         
-0002d4e0: 2020 2077 6f72 6b65 7273 202b 3d20 310a     workers += 1.
-0002d4f0: 2020 2020 2020 2020 2020 2020 7070 7269              ppri
-0002d500: 6e74 2822 5363 616c 696e 6720 7570 2063  nt("Scaling up c
-0002d510: 6c75 7374 6572 207b 6b75 6265 7d20 746f  luster {kube} to
-0002d520: 207b 776f 726b 6572 737d 2077 6f72 6b65   {workers} worke
-0002d530: 7273 2229 0a20 2020 2020 2020 2020 2020  rs").           
-0002d540: 2072 6573 756c 7420 3d20 7365 6c66 2e73   result = self.s
-0002d550: 6361 6c65 5f6b 7562 6528 6b75 6265 2c20  cale_kube(kube, 
-0002d560: 6b75 6265 7479 7065 2c20 6f76 6572 7269  kubetype, overri
-0002d570: 6465 733d 7b27 776f 726b 6572 7327 3a20  des={'workers': 
-0002d580: 776f 726b 6572 737d 290a 2020 2020 2020  workers}).      
-0002d590: 2020 2020 2020 7265 7375 6c74 5b27 776f        result['wo
-0002d5a0: 726b 6572 7327 5d20 3d20 776f 726b 6572  rkers'] = worker
-0002d5b0: 730a 2020 2020 2020 2020 2020 2020 7265  s.            re
-0002d5c0: 7475 726e 2072 6573 756c 740a 2020 2020  turn result.    
-0002d5d0: 2020 2020 6e6f 6465 7320 3d20 7b7d 0a20      nodes = {}. 
-0002d5e0: 2020 2020 2020 2063 7572 7265 6e74 636d         currentcm
-0002d5f0: 6420 3d20 226b 7562 6563 746c 2067 6574  d = "kubectl get
-0002d600: 2070 6f64 202d 4120 2d6f 2079 616d 6c22   pod -A -o yaml"
-0002d610: 0a20 2020 2020 2020 2061 6c6c 706f 6473  .        allpods
-0002d620: 203d 2079 616d 6c2e 7361 6665 5f6c 6f61   = yaml.safe_loa
-0002d630: 6428 6f73 2e70 6f70 656e 2863 7572 7265  d(os.popen(curre
-0002d640: 6e74 636d 6429 2e72 6561 6428 2929 5b27  ntcmd).read())['
-0002d650: 6974 656d 7327 5d0a 2020 2020 2020 2020  items'].        
-0002d660: 666f 7220 706f 6420 696e 2061 6c6c 706f  for pod in allpo
-0002d670: 6473 3a0a 2020 2020 2020 2020 2020 2020  ds:.            
-0002d680: 6e6f 6465 6e61 6d65 203d 2070 6f64 5b27  nodename = pod['
-0002d690: 7370 6563 275d 5b27 6e6f 6465 4e61 6d65  spec']['nodeName
-0002d6a0: 275d 0a20 2020 2020 2020 2020 2020 2073  '].            s
-0002d6b0: 7461 7475 7320 3d20 706f 645b 2773 7461  tatus = pod['sta
-0002d6c0: 7475 7327 5d5b 2770 6861 7365 275d 0a20  tus']['phase']. 
-0002d6d0: 2020 2020 2020 2020 2020 2069 6620 7374             if st
-0002d6e0: 6174 7573 2021 3d20 2752 756e 6e69 6e67  atus != 'Running
-0002d6f0: 273a 0a20 2020 2020 2020 2020 2020 2020  ':.             
-0002d700: 2020 2063 6f6e 7469 6e75 650a 2020 2020     continue.    
-0002d710: 2020 2020 2020 2020 6966 206e 6f64 656e          if noden
-0002d720: 616d 6520 6e6f 7420 696e 206e 6f64 6573  ame not in nodes
-0002d730: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0002d740: 2020 6e6f 6465 735b 6e6f 6465 6e61 6d65    nodes[nodename
-0002d750: 5d20 3d20 310a 2020 2020 2020 2020 2020  ] = 1.          
-0002d760: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0002d770: 2020 2020 2020 2020 6e6f 6465 735b 6e6f          nodes[no
-0002d780: 6465 6e61 6d65 5d20 2b3d 2031 0a20 2020  dename] += 1.   
-0002d790: 2020 2020 2074 6f64 656c 6574 6520 3d20       todelete = 
-0002d7a0: 300a 2020 2020 2020 2020 666f 7220 6e6f  0.        for no
-0002d7b0: 6465 2069 6e20 6e6f 6465 733a 0a20 2020  de in nodes:.   
-0002d7c0: 2020 2020 2020 2020 2069 6620 6e6f 6465           if node
-0002d7d0: 735b 6e6f 6465 5d20 3c20 6964 6c65 3a0a  s[node] < idle:.
-0002d7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d7f0: 7070 7269 6e74 2866 226e 6f64 6520 7b6e  pprint(f"node {n
-0002d800: 6f64 657d 2074 6f20 6265 2072 656d 6f76  ode} to be remov
-0002d810: 6564 2073 696e 6365 2069 7420 6f6e 6c79  ed since it only
-0002d820: 2068 6173 2074 6865 2066 6f6c 6c6f 7769   has the followi
-0002d830: 6e67 2070 6f64 733a 207b 6e6f 6465 735b  ng pods: {nodes[
-0002d840: 6e6f 6465 5d7d 2229 0a20 2020 2020 2020  node]}").       
-0002d850: 2020 2020 2020 2020 2074 6f64 656c 6574           todelet
-0002d860: 6520 2b3d 2031 0a20 2020 2020 2020 2069  e += 1.        i
-0002d870: 6620 746f 6465 6c65 7465 203e 2030 3a0a  f todelete > 0:.
-0002d880: 2020 2020 2020 2020 2020 2020 7070 7269              ppri
-0002d890: 6e74 2866 2254 7269 6767 6572 696e 6720  nt(f"Triggering 
-0002d8a0: 7363 616c 696e 6720 646f 776e 2066 6f72  scaling down for
-0002d8b0: 2063 6c75 7374 6572 207b 6b75 6265 7d20   cluster {kube} 
-0002d8c0: 6173 2074 6865 7265 2061 7265 207b 746f  as there are {to
-0002d8d0: 6465 6c65 7465 7d20 6964 6c65 206e 6f64  delete} idle nod
-0002d8e0: 6573 2229 0a20 2020 2020 2020 2020 2020  es").           
-0002d8f0: 2077 6f72 6b65 7273 203d 2077 6f72 6b65   workers = worke
-0002d900: 7273 202d 2074 6f64 656c 6574 650a 2020  rs - todelete.  
-0002d910: 2020 2020 2020 2020 2020 7070 7269 6e74            pprint
-0002d920: 2866 2253 6361 6c69 6e67 2064 6f77 6e20  (f"Scaling down 
-0002d930: 636c 7573 7465 7220 7b6b 7562 657d 2074  cluster {kube} t
-0002d940: 6f20 7b77 6f72 6b65 7273 7d20 776f 726b  o {workers} work
-0002d950: 6572 7322 290a 2020 2020 2020 2020 2020  ers").          
-0002d960: 2020 7265 7375 6c74 203d 2073 656c 662e    result = self.
-0002d970: 7363 616c 655f 6b75 6265 286b 7562 652c  scale_kube(kube,
-0002d980: 206b 7562 6574 7970 652c 206f 7665 7272   kubetype, overr
-0002d990: 6964 6573 3d7b 2777 6f72 6b65 7273 273a  ides={'workers':
-0002d9a0: 2077 6f72 6b65 7273 7d29 0a20 2020 2020   workers}).     
-0002d9b0: 2020 2020 2020 2072 6573 756c 745b 2777         result['w
-0002d9c0: 6f72 6b65 7273 275d 203d 2077 6f72 6b65  orkers'] = worke
-0002d9d0: 7273 0a20 2020 2020 2020 2020 2020 2072  rs.            r
-0002d9e0: 6574 7572 6e20 7265 7375 6c74 0a20 2020  eturn result.   
-0002d9f0: 2020 2020 2072 6574 7572 6e20 7b27 7265       return {'re
-0002da00: 7375 6c74 273a 2027 7375 6363 6573 7327  sult': 'success'
-0002da10: 2c20 2777 6f72 6b65 7273 273a 2077 6f72  , 'workers': wor
-0002da20: 6b65 7273 7d0a 0a20 2020 2064 6566 206c  kers}..    def l
-0002da30: 6f6f 705f 6175 746f 7363 616c 655f 636c  oop_autoscale_cl
-0002da40: 7573 7465 7228 7365 6c66 2c20 6b75 6265  uster(self, kube
-0002da50: 2c20 6b75 6265 7479 7065 2c20 776f 726b  , kubetype, work
-0002da60: 6572 732c 2074 6872 6573 686f 6c64 2c20  ers, threshold, 
-0002da70: 6964 6c65 293a 0a20 2020 2020 2020 2070  idle):.        p
-0002da80: 7072 696e 7428 6622 5374 6172 7469 6e67  print(f"Starting
-0002da90: 2077 6974 6820 7b77 6f72 6b65 7273 7d20   with {workers} 
-0002daa0: 776f 726b 6572 7322 290a 2020 2020 2020  workers").      
-0002dab0: 2020 6966 2077 6869 6368 2827 6b75 6265    if which('kube
-0002dac0: 6374 6c27 2920 6973 204e 6f6e 653a 0a20  ctl') is None:. 
-0002dad0: 2020 2020 2020 2020 2020 2063 6f6d 6d6f             commo
-0002dae0: 6e2e 6765 745f 6b75 6265 6374 6c28 290a  n.get_kubectl().
-0002daf0: 2020 2020 2020 2020 2020 2020 6f73 2e65              os.e
-0002db00: 6e76 6972 6f6e 5b27 5041 5448 275d 202b  nviron['PATH'] +
-0002db10: 3d20 273a 2e27 0a20 2020 2020 2020 2077  = ':.'.        w
-0002db20: 6869 6c65 2054 7275 653a 0a20 2020 2020  hile True:.     
-0002db30: 2020 2020 2020 2073 656c 6563 746f 7220         selector 
-0002db40: 3d20 2221 6e6f 6465 2d72 6f6c 652e 6b75  = "!node-role.ku
-0002db50: 6265 726e 6574 6573 2e69 6f2f 636f 6e74  bernetes.io/cont
-0002db60: 726f 6c2d 706c 616e 652c 6e6f 6465 2d72  rol-plane,node-r
-0002db70: 6f6c 652e 6b75 6265 726e 6574 6573 2e69  ole.kubernetes.i
-0002db80: 6f2f 776f 726b 6572 220a 2020 2020 2020  o/worker".      
-0002db90: 2020 2020 2020 6375 7272 656e 7463 6d64        currentcmd
-0002dba0: 203d 2066 226b 7562 6563 746c 2067 6574   = f"kubectl get
-0002dbb0: 206e 6f64 6520 2d2d 7365 6c65 6374 6f72   node --selector
-0002dbc0: 3d27 7b73 656c 6563 746f 727d 2722 0a20  ='{selector}'". 
-0002dbd0: 2020 2020 2020 2020 2020 2063 7572 7265             curre
-0002dbe0: 6e74 636d 6420 2b3d 2022 207c 2067 7265  ntcmd += " | gre
-0002dbf0: 7020 2720 5265 6164 7927 220a 2020 2020  p ' Ready'".    
-0002dc00: 2020 2020 2020 2020 6375 7272 656e 746e          currentn
-0002dc10: 6f64 6573 203d 206f 732e 706f 7065 6e28  odes = os.popen(
-0002dc20: 6375 7272 656e 7463 6d64 292e 7265 6164  currentcmd).read
-0002dc30: 6c69 6e65 7328 290a 2020 2020 2020 2020  lines().        
-0002dc40: 2020 2020 6966 206c 656e 2863 7572 7265      if len(curre
-0002dc50: 6e74 6e6f 6465 7329 2021 3d20 776f 726b  ntnodes) != work
-0002dc60: 6572 733a 0a20 2020 2020 2020 2020 2020  ers:.           
-0002dc70: 2020 2020 2070 7072 696e 7428 6622 4f6e       pprint(f"On
-0002dc80: 676f 696e 6720 7363 616c 696e 6720 6f70  going scaling op
-0002dc90: 6572 6174 696f 6e20 6f6e 2063 6c75 7374  eration on clust
-0002dca0: 6572 207b 6b75 6265 7d22 290a 2020 2020  er {kube}").    
-0002dcb0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0002dcc0: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0002dcd0: 7375 6c74 203d 2073 656c 662e 6175 746f  sult = self.auto
-0002dce0: 7363 616c 655f 636c 7573 7465 7228 6b75  scale_cluster(ku
-0002dcf0: 6265 2c20 6b75 6265 7479 7065 2c20 776f  be, kubetype, wo
-0002dd00: 726b 6572 732c 2074 6872 6573 686f 6c64  rkers, threshold
-0002dd10: 2c20 6964 6c65 290a 2020 2020 2020 2020  , idle).        
-0002dd20: 2020 2020 2020 2020 6966 2072 6573 756c          if resul
-0002dd30: 745b 2772 6573 756c 7427 5d20 213d 2027  t['result'] != '
-0002dd40: 7375 6363 6573 7327 3a0a 2020 2020 2020  success':.      
-0002dd50: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0002dd60: 7475 726e 2072 6573 756c 740a 2020 2020  turn result.    
-0002dd70: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0002dd80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0002dd90: 2020 2020 2020 776f 726b 6572 7320 3d20        workers = 
-0002dda0: 7265 7375 6c74 5b27 776f 726b 6572 7327  result['workers'
-0002ddb0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-0002ddc0: 2020 2020 2020 7070 7269 6e74 2866 2243        pprint(f"C
-0002ddd0: 7572 7265 6e74 2077 6f72 6b65 7273 206e  urrent workers n
-0002dde0: 756d 6265 7220 6465 7369 7265 643a 207b  umber desired: {
-0002ddf0: 776f 726b 6572 737d 2229 0a20 2020 2020  workers}").     
-0002de00: 2020 2020 2020 2073 6c65 6570 2836 3029         sleep(60)
-0002de10: 0a0a 2020 2020 6465 6620 7468 7265 6164  ..    def thread
-0002de20: 6564 5f77 6562 5f63 6f6e 736f 6c65 2873  ed_web_console(s
-0002de30: 656c 662c 2070 6f72 742c 206e 616d 6529  elf, port, name)
-0002de40: 3a0a 2020 2020 2020 2020 636f 6e73 6f6c  :.        consol
-0002de50: 6520 3d20 4b6d 696e 6963 6f6e 736f 6c65  e = Kminiconsole
-0002de60: 2863 6f6e 6669 673d 7365 6c66 2c20 706f  (config=self, po
-0002de70: 7274 3d70 6f72 742c 206e 616d 653d 6e61  rt=port, name=na
-0002de80: 6d65 290a 2020 2020 2020 2020 636f 6e73  me).        cons
-0002de90: 6f6c 652e 7275 6e28 290a 0a20 2020 2064  ole.run()..    d
-0002dea0: 6566 2077 6562 636f 6e73 6f6c 6528 7365  ef webconsole(se
-0002deb0: 6c66 2c20 6e61 6d65 293a 0a20 2020 2020  lf, name):.     
-0002dec0: 2020 2070 6f72 7420 3d20 6765 745f 6672     port = get_fr
-0002ded0: 6565 5f70 6f72 7428 290a 2020 2020 2020  ee_port().      
-0002dee0: 2020 7420 3d20 7468 7265 6164 696e 672e    t = threading.
-0002def0: 5468 7265 6164 2874 6172 6765 743d 7365  Thread(target=se
-0002df00: 6c66 2e74 6872 6561 6465 645f 7765 625f  lf.threaded_web_
-0002df10: 636f 6e73 6f6c 652c 2061 7267 733d 2870  console, args=(p
-0002df20: 6f72 742c 206e 616d 652c 2929 0a20 2020  ort, name,)).   
-0002df30: 2020 2020 2074 2e73 7461 7274 2829 0a20       t.start(). 
-0002df40: 2020 2020 2020 2077 6562 6272 6f77 7365         webbrowse
-0002df50: 722e 6f70 656e 2866 2268 7474 703a 2f2f  r.open(f"http://
-0002df60: 3132 372e 302e 302e 313a 7b70 6f72 747d  127.0.0.1:{port}
-0002df70: 222c 206e 6577 3d32 2c20 6175 746f 7261  ", new=2, autora
-0002df80: 6973 653d 5472 7565 290a 0a20 2020 2064  ise=True)..    d
-0002df90: 6566 2069 6e66 6f5f 7370 6563 6966 6963  ef info_specific
-0002dfa0: 5f67 6b65 2873 656c 662c 2063 6c75 7374  _gke(self, clust
-0002dfb0: 6572 293a 0a20 2020 2020 2020 2066 726f  er):.        fro
-0002dfc0: 6d20 6b76 6972 742e 636c 7573 7465 722e  m kvirt.cluster.
-0002dfd0: 676b 6520 696d 706f 7274 2069 6e66 6f20  gke import info 
-0002dfe0: 6173 2067 6b65 5f69 6e66 6f0a 2020 2020  as gke_info.    
-0002dff0: 2020 2020 7265 7475 726e 2067 6b65 5f69      return gke_i
-0002e000: 6e66 6f28 7365 6c66 2c20 636c 7573 7465  nfo(self, cluste
-0002e010: 722c 2073 656c 662e 6465 6275 6729 0a0a  r, self.debug)..
-0002e020: 2020 2020 6465 6620 696e 666f 5f6b 7562      def info_kub
-0002e030: 655f 676b 6528 7365 6c66 2c20 7175 6965  e_gke(self, quie
-0002e040: 742c 2077 6562 3d46 616c 7365 293a 0a20  t, web=False):. 
-0002e050: 2020 2020 2020 2066 726f 6d20 6b76 6972         from kvir
-0002e060: 742e 636c 7573 7465 7220 696d 706f 7274  t.cluster import
-0002e070: 2067 6b65 0a20 2020 2020 2020 2070 6c61   gke.        pla
-0002e080: 6e64 6972 203d 206f 732e 7061 7468 2e64  ndir = os.path.d
-0002e090: 6972 6e61 6d65 2867 6b65 2e63 7265 6174  irname(gke.creat
-0002e0a0: 652e 5f5f 636f 6465 5f5f 2e63 6f5f 6669  e.__code__.co_fi
-0002e0b0: 6c65 6e61 6d65 290a 2020 2020 2020 2020  lename).        
-0002e0c0: 696e 7075 7466 696c 6520 3d20 6627 7b70  inputfile = f'{p
-0002e0d0: 6c61 6e64 6972 7d2f 6661 6b65 2e79 6d6c  landir}/fake.yml
-0002e0e0: 270a 2020 2020 2020 2020 7365 6c66 2e69  '.        self.i
-0002e0f0: 6e66 6f5f 706c 616e 2869 6e70 7574 6669  nfo_plan(inputfi
-0002e100: 6c65 2c20 7175 6965 743d 7175 6965 742c  le, quiet=quiet,
-0002e110: 2077 6562 3d77 6562 290a 2020 2020 2020   web=web).      
-0002e120: 2020 676b 652e 696e 666f 5f73 6572 7669    gke.info_servi
-0002e130: 6365 2873 656c 6629 0a                   ce(self).
+0002cba0: 2074 756e 6e65 6c70 6f72 743d 7365 6c66   tunnelport=self
+0002cbb0: 2e74 756e 6e65 6c70 6f72 742c 2074 756e  .tunnelport, tun
+0002cbc0: 6e65 6c75 7365 723d 7365 6c66 2e74 756e  neluser=self.tun
+0002cbd0: 6e65 6c75 7365 722c 2069 6e73 6563 7572  neluser, insecur
+0002cbe0: 653d 5472 7565 2c0a 2020 2020 2020 2020  e=True,.        
+0002cbf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cc10: 2020 2063 6d64 3d63 7265 6174 6564 6972     cmd=createdir
+0002cc20: 636d 642c 2076 6d70 6f72 743d 766d 706f  cmd, vmport=vmpo
+0002cc30: 7274 290a 2020 2020 2020 2020 2020 2020  rt).            
+0002cc40: 2020 2020 2020 2020 2020 2020 6f73 2e70              os.p
+0002cc50: 6f70 656e 2863 7265 6174 6564 6972 636d  open(createdircm
+0002cc60: 6429 0a20 2020 2020 2020 2020 2020 2020  d).             
+0002cc70: 2020 2020 2020 2020 2020 2070 6174 6864             pathd
+0002cc80: 6972 6669 6c65 7320 3d20 5b5d 0a20 2020  irfiles = [].   
+0002cc90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cca0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0002ccb0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0002ccc0: 6174 6864 6972 6669 6c65 7320 3d20 5b78  athdirfiles = [x
+0002ccd0: 2e73 7472 6970 2829 2066 6f72 2078 2069  .strip() for x i
+0002cce0: 6e20 7061 7468 6469 7266 696c 6573 5d0a  n pathdirfiles].
+0002ccf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cd00: 2020 2020 6461 7461 6469 7273 5b70 6174      datadirs[pat
+0002cd10: 6864 6972 5d20 3d20 7061 7468 6469 7266  hdir] = pathdirf
+0002cd20: 696c 6573 0a20 2020 2020 2020 2020 2020  iles.           
+0002cd30: 2020 2020 2069 6620 6f73 2e70 6174 682e       if os.path.
+0002cd40: 6261 7365 6e61 6d65 2864 6573 7469 6e61  basename(destina
+0002cd50: 7469 6f6e 2920 6e6f 7420 696e 2064 6174  tion) not in dat
+0002cd60: 6164 6972 735b 7061 7468 6469 725d 3a0a  adirs[pathdir]:.
+0002cd70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cd80: 2020 2020 7070 7269 6e74 2866 2255 7064      pprint(f"Upd
+0002cd90: 6174 696e 6720 7b64 6573 7469 6e61 7469  ating {destinati
+0002cda0: 6f6e 7d20 696e 207b 6e61 6d65 7d22 290a  on} in {name}").
+0002cdb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cdc0: 2020 2020 736f 7572 6365 203d 2066 227b      source = f"{
+0002cdd0: 746d 7064 6972 7d2f 6669 637b 696e 6465  tmpdir}/fic{inde
+0002cde0: 787d 220a 2020 2020 2020 2020 2020 2020  x}".            
+0002cdf0: 2020 2020 2020 2020 7769 7468 206f 7065          with ope
+0002ce00: 6e28 736f 7572 6365 2c20 2777 2729 2061  n(source, 'w') a
+0002ce10: 7320 663a 0a20 2020 2020 2020 2020 2020  s f:.           
+0002ce20: 2020 2020 2020 2020 2020 2020 2066 2e77               f.w
+0002ce30: 7269 7465 2865 6e74 7279 5b27 636f 6e74  rite(entry['cont
+0002ce40: 656e 7427 5d29 0a20 2020 2020 2020 2020  ent']).         
+0002ce50: 2020 2020 2020 2020 2020 2073 6370 636d             scpcm
+0002ce60: 6420 3d20 7363 7028 6e61 6d65 2c20 6970  d = scp(name, ip
+0002ce70: 3d69 702c 2075 7365 723d 2772 6f6f 7427  =ip, user='root'
+0002ce80: 2c20 736f 7572 6365 3d73 6f75 7263 652c  , source=source,
+0002ce90: 2064 6573 7469 6e61 7469 6f6e 3d64 6573   destination=des
+0002cea0: 7469 6e61 7469 6f6e 2c20 7475 6e6e 656c  tination, tunnel
+0002ceb0: 3d73 656c 662e 7475 6e6e 656c 2c0a 2020  =self.tunnel,.  
+0002cec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ced0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0002cee0: 756e 6e65 6c68 6f73 743d 7365 6c66 2e74  unnelhost=self.t
+0002cef0: 756e 6e65 6c68 6f73 742c 2074 756e 6e65  unnelhost, tunne
+0002cf00: 6c70 6f72 743d 7365 6c66 2e74 756e 6e65  lport=self.tunne
+0002cf10: 6c70 6f72 742c 2074 756e 6e65 6c75 7365  lport, tunneluse
+0002cf20: 723d 7365 6c66 2e74 756e 6e65 6c75 7365  r=self.tunneluse
+0002cf30: 722c 0a20 2020 2020 2020 2020 2020 2020  r,.             
+0002cf40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cf50: 2020 2020 646f 776e 6c6f 6164 3d46 616c      download=Fal
+0002cf60: 7365 2c20 696e 7365 6375 7265 3d54 7275  se, insecure=Tru
+0002cf70: 652c 2076 6d70 6f72 743d 766d 706f 7274  e, vmport=vmport
+0002cf80: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0002cf90: 2020 2020 2020 6f73 2e73 7973 7465 6d28        os.system(
+0002cfa0: 7363 7063 6d64 290a 2020 2020 2020 2020  scpcmd).        
+0002cfb0: 2020 2020 2020 2020 2020 2020 7570 6461              upda
+0002cfc0: 7465 645f 6669 6c65 732e 6170 7065 6e64  ted_files.append
+0002cfd0: 2864 6573 7469 6e61 7469 6f6e 290a 2020  (destination).  
+0002cfe0: 2020 2020 2020 7265 7475 726e 2075 7064        return upd
+0002cff0: 6174 6564 5f66 696c 6573 0a0a 2020 2020  ated_files..    
+0002d000: 6465 6620 696e 666f 5f73 7065 6369 6669  def info_specifi
+0002d010: 635f 706c 616e 2873 656c 662c 2070 6c61  c_plan(self, pla
+0002d020: 6e29 3a0a 2020 2020 2020 2020 7070 7269  n):.        ppri
+0002d030: 6e74 2866 2250 726f 7669 6469 6e67 2069  nt(f"Providing i
+0002d040: 6e66 6f72 6d61 7469 6f6e 2061 626f 7574  nformation about
+0002d050: 2070 6c61 6e20 7b70 6c61 6e7d 2229 0a20   plan {plan}"). 
+0002d060: 2020 2020 2020 206b 203d 2073 656c 662e         k = self.
+0002d070: 6b0a 2020 2020 2020 2020 7265 7375 6c74  k.        result
+0002d080: 7320 3d20 5b5d 0a20 2020 2020 2020 2066  s = [].        f
+0002d090: 6f72 2076 6d20 696e 206b 2e6c 6973 7428  or vm in k.list(
+0002d0a0: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
+0002d0b0: 6620 766d 2e67 6574 2827 706c 616e 272c  f vm.get('plan',
+0002d0c0: 2027 2729 203d 3d20 706c 616e 3a0a 2020   '') == plan:.  
+0002d0d0: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0002d0e0: 7375 6c74 732e 6170 7065 6e64 2876 6d29  sults.append(vm)
+0002d0f0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0002d100: 7265 7375 6c74 730a 0a20 2020 2064 6566  results..    def
+0002d110: 2061 7574 6f73 6361 6c65 5f63 6c75 7374   autoscale_clust
+0002d120: 6572 2873 656c 662c 206b 7562 652c 206b  er(self, kube, k
+0002d130: 7562 6574 7970 652c 2077 6f72 6b65 7273  ubetype, workers
+0002d140: 2c20 7468 7265 7368 6f6c 642c 2069 646c  , threshold, idl
+0002d150: 6529 3a0a 2020 2020 2020 2020 6966 2074  e):.        if t
+0002d160: 6872 6573 686f 6c64 203e 2039 3939 393a  hreshold > 9999:
+0002d170: 0a20 2020 2020 2020 2020 2020 2070 7072  .            ppr
+0002d180: 696e 7428 6622 536b 6970 7069 6e67 2061  int(f"Skipping a
+0002d190: 7574 6f73 6361 6c69 6e67 2075 7020 6368  utoscaling up ch
+0002d1a0: 6563 6b73 2066 6f72 2063 6c75 7374 6572  ecks for cluster
+0002d1b0: 207b 6b75 6265 7d20 6173 2070 6572 2074   {kube} as per t
+0002d1c0: 6872 6573 686f 6c64 207b 7468 7265 7368  hreshold {thresh
+0002d1d0: 6f6c 647d 2229 0a20 2020 2020 2020 2020  old}").         
+0002d1e0: 2020 2072 6574 7572 6e20 7b27 7265 7375     return {'resu
+0002d1f0: 6c74 273a 2027 7375 6363 6573 7327 2c20  lt': 'success', 
+0002d200: 2777 6f72 6b65 7273 273a 2077 6f72 6b65  'workers': worke
+0002d210: 7273 7d0a 2020 2020 2020 2020 6966 2069  rs}.        if i
+0002d220: 646c 6520 3c20 313a 0a20 2020 2020 2020  dle < 1:.       
+0002d230: 2020 2020 2070 7072 696e 7428 6622 536b       pprint(f"Sk
+0002d240: 6970 7069 6e67 2061 7574 6f73 6361 6c69  ipping autoscali
+0002d250: 6e67 2064 6f77 6e20 6368 6563 6b73 2066  ng down checks f
+0002d260: 6f72 2063 6c75 7374 6572 207b 6b75 6265  or cluster {kube
+0002d270: 7d20 6173 2070 6572 2069 646c 6520 7b69  } as per idle {i
+0002d280: 646c 657d 2229 0a20 2020 2020 2020 2020  dle}").         
+0002d290: 2020 2072 6574 7572 6e20 7b27 7265 7375     return {'resu
+0002d2a0: 6c74 273a 2027 7375 6363 6573 7327 2c20  lt': 'success', 
+0002d2b0: 2777 6f72 6b65 7273 273a 2077 6f72 6b65  'workers': worke
+0002d2c0: 7273 7d0a 2020 2020 2020 2020 7070 7269  rs}.        ppri
+0002d2d0: 6e74 2866 2243 6865 636b 696e 6720 6e6f  nt(f"Checking no
+0002d2e0: 6e20 7363 6865 6475 6c65 6420 706f 6473  n scheduled pods
+0002d2f0: 2063 6f75 6e74 206f 6e20 636c 7573 7465   count on cluste
+0002d300: 7220 7b6b 7562 657d 2229 0a20 2020 2020  r {kube}").     
+0002d310: 2020 2073 656c 6563 746f 7220 3d20 2221     selector = "!
+0002d320: 6e6f 6465 2d72 6f6c 652e 6b75 6265 726e  node-role.kubern
+0002d330: 6574 6573 2e69 6f2f 636f 6e74 726f 6c2d  etes.io/control-
+0002d340: 706c 616e 652c 6e6f 6465 2d72 6f6c 652e  plane,node-role.
+0002d350: 6b75 6265 726e 6574 6573 2e69 6f2f 776f  kubernetes.io/wo
+0002d360: 726b 6572 220a 2020 2020 2020 2020 6375  rker".        cu
+0002d370: 7272 656e 7463 6d64 203d 2066 226b 7562  rrentcmd = f"kub
+0002d380: 6563 746c 2067 6574 206e 6f64 6520 2d2d  ectl get node --
+0002d390: 7365 6c65 6374 6f72 3d27 7b73 656c 6563  selector='{selec
+0002d3a0: 746f 727d 2722 0a20 2020 2020 2020 2063  tor}'".        c
+0002d3b0: 7572 7265 6e74 636d 6420 2b3d 2022 207c  urrentcmd += " |
+0002d3c0: 2067 7265 7020 2720 5265 6164 7927 220a   grep ' Ready'".
+0002d3d0: 2020 2020 2020 2020 776f 726b 6572 7320          workers 
+0002d3e0: 3d20 6c65 6e28 6f73 2e70 6f70 656e 2863  = len(os.popen(c
+0002d3f0: 7572 7265 6e74 636d 6429 2e72 6561 646c  urrentcmd).readl
+0002d400: 696e 6573 2829 290a 2020 2020 2020 2020  ines()).        
+0002d410: 7065 6e64 696e 6763 6d64 203d 2022 6b75  pendingcmd = "ku
+0002d420: 6265 6374 6c20 6765 7420 706f 6473 202d  bectl get pods -
+0002d430: 4120 2d2d 6669 656c 642d 7365 6c65 6374  A --field-select
+0002d440: 6f72 3d73 7461 7475 732e 7068 6173 653d  or=status.phase=
+0002d450: 5065 6e64 696e 6720 2d6f 2079 616d 6c22  Pending -o yaml"
+0002d460: 0a20 2020 2020 2020 2070 656e 6469 6e67  .        pending
+0002d470: 5f70 6f64 7320 3d20 7961 6d6c 2e73 6166  _pods = yaml.saf
+0002d480: 655f 6c6f 6164 286f 732e 706f 7065 6e28  e_load(os.popen(
+0002d490: 7065 6e64 696e 6763 6d64 292e 7265 6164  pendingcmd).read
+0002d4a0: 2829 295b 2769 7465 6d73 275d 0a20 2020  ())['items'].   
+0002d4b0: 2020 2020 2069 6620 6c65 6e28 7065 6e64       if len(pend
+0002d4c0: 696e 675f 706f 6473 2920 3e20 7468 7265  ing_pods) > thre
+0002d4d0: 7368 6f6c 643a 0a20 2020 2020 2020 2020  shold:.         
+0002d4e0: 2020 2070 7072 696e 7428 6622 5472 6967     pprint(f"Trig
+0002d4f0: 6765 7269 6e67 2073 6361 6c69 6e67 2075  gering scaling u
+0002d500: 7020 666f 7220 636c 7573 7465 7220 7b6b  p for cluster {k
+0002d510: 7562 657d 2061 7320 7468 6572 6520 6172  ube} as there ar
+0002d520: 6520 7b6c 656e 2870 656e 6469 6e67 5f70  e {len(pending_p
+0002d530: 6f64 7329 7d20 7065 6e64 696e 6720 706f  ods)} pending po
+0002d540: 6473 2229 0a20 2020 2020 2020 2020 2020  ds").           
+0002d550: 2077 6f72 6b65 7273 202b 3d20 310a 2020   workers += 1.  
+0002d560: 2020 2020 2020 2020 2020 7070 7269 6e74            pprint
+0002d570: 2822 5363 616c 696e 6720 7570 2063 6c75  ("Scaling up clu
+0002d580: 7374 6572 207b 6b75 6265 7d20 746f 207b  ster {kube} to {
+0002d590: 776f 726b 6572 737d 2077 6f72 6b65 7273  workers} workers
+0002d5a0: 2229 0a20 2020 2020 2020 2020 2020 2072  ").            r
+0002d5b0: 6573 756c 7420 3d20 7365 6c66 2e73 6361  esult = self.sca
+0002d5c0: 6c65 5f6b 7562 6528 6b75 6265 2c20 6b75  le_kube(kube, ku
+0002d5d0: 6265 7479 7065 2c20 6f76 6572 7269 6465  betype, override
+0002d5e0: 733d 7b27 776f 726b 6572 7327 3a20 776f  s={'workers': wo
+0002d5f0: 726b 6572 737d 290a 2020 2020 2020 2020  rkers}).        
+0002d600: 2020 2020 7265 7375 6c74 5b27 776f 726b      result['work
+0002d610: 6572 7327 5d20 3d20 776f 726b 6572 730a  ers'] = workers.
+0002d620: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0002d630: 726e 2072 6573 756c 740a 2020 2020 2020  rn result.      
+0002d640: 2020 6e6f 6465 7320 3d20 7b7d 0a20 2020    nodes = {}.   
+0002d650: 2020 2020 2063 7572 7265 6e74 636d 6420       currentcmd 
+0002d660: 3d20 226b 7562 6563 746c 2067 6574 2070  = "kubectl get p
+0002d670: 6f64 202d 4120 2d6f 2079 616d 6c22 0a20  od -A -o yaml". 
+0002d680: 2020 2020 2020 2061 6c6c 706f 6473 203d         allpods =
+0002d690: 2079 616d 6c2e 7361 6665 5f6c 6f61 6428   yaml.safe_load(
+0002d6a0: 6f73 2e70 6f70 656e 2863 7572 7265 6e74  os.popen(current
+0002d6b0: 636d 6429 2e72 6561 6428 2929 5b27 6974  cmd).read())['it
+0002d6c0: 656d 7327 5d0a 2020 2020 2020 2020 666f  ems'].        fo
+0002d6d0: 7220 706f 6420 696e 2061 6c6c 706f 6473  r pod in allpods
+0002d6e0: 3a0a 2020 2020 2020 2020 2020 2020 6e6f  :.            no
+0002d6f0: 6465 6e61 6d65 203d 2070 6f64 5b27 7370  dename = pod['sp
+0002d700: 6563 275d 5b27 6e6f 6465 4e61 6d65 275d  ec']['nodeName']
+0002d710: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
+0002d720: 7475 7320 3d20 706f 645b 2773 7461 7475  tus = pod['statu
+0002d730: 7327 5d5b 2770 6861 7365 275d 0a20 2020  s']['phase'].   
+0002d740: 2020 2020 2020 2020 2069 6620 7374 6174           if stat
+0002d750: 7573 2021 3d20 2752 756e 6e69 6e67 273a  us != 'Running':
+0002d760: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d770: 2063 6f6e 7469 6e75 650a 2020 2020 2020   continue.      
+0002d780: 2020 2020 2020 6966 206e 6f64 656e 616d        if nodenam
+0002d790: 6520 6e6f 7420 696e 206e 6f64 6573 3a0a  e not in nodes:.
+0002d7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d7b0: 6e6f 6465 735b 6e6f 6465 6e61 6d65 5d20  nodes[nodename] 
+0002d7c0: 3d20 310a 2020 2020 2020 2020 2020 2020  = 1.            
+0002d7d0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0002d7e0: 2020 2020 2020 6e6f 6465 735b 6e6f 6465        nodes[node
+0002d7f0: 6e61 6d65 5d20 2b3d 2031 0a20 2020 2020  name] += 1.     
+0002d800: 2020 2074 6f64 656c 6574 6520 3d20 300a     todelete = 0.
+0002d810: 2020 2020 2020 2020 666f 7220 6e6f 6465          for node
+0002d820: 2069 6e20 6e6f 6465 733a 0a20 2020 2020   in nodes:.     
+0002d830: 2020 2020 2020 2069 6620 6e6f 6465 735b         if nodes[
+0002d840: 6e6f 6465 5d20 3c20 6964 6c65 3a0a 2020  node] < idle:.  
+0002d850: 2020 2020 2020 2020 2020 2020 2020 7070                pp
+0002d860: 7269 6e74 2866 226e 6f64 6520 7b6e 6f64  rint(f"node {nod
+0002d870: 657d 2074 6f20 6265 2072 656d 6f76 6564  e} to be removed
+0002d880: 2073 696e 6365 2069 7420 6f6e 6c79 2068   since it only h
+0002d890: 6173 2074 6865 2066 6f6c 6c6f 7769 6e67  as the following
+0002d8a0: 2070 6f64 733a 207b 6e6f 6465 735b 6e6f   pods: {nodes[no
+0002d8b0: 6465 5d7d 2229 0a20 2020 2020 2020 2020  de]}").         
+0002d8c0: 2020 2020 2020 2074 6f64 656c 6574 6520         todelete 
+0002d8d0: 2b3d 2031 0a20 2020 2020 2020 2069 6620  += 1.        if 
+0002d8e0: 746f 6465 6c65 7465 203e 2030 3a0a 2020  todelete > 0:.  
+0002d8f0: 2020 2020 2020 2020 2020 7070 7269 6e74            pprint
+0002d900: 2866 2254 7269 6767 6572 696e 6720 7363  (f"Triggering sc
+0002d910: 616c 696e 6720 646f 776e 2066 6f72 2063  aling down for c
+0002d920: 6c75 7374 6572 207b 6b75 6265 7d20 6173  luster {kube} as
+0002d930: 2074 6865 7265 2061 7265 207b 746f 6465   there are {tode
+0002d940: 6c65 7465 7d20 6964 6c65 206e 6f64 6573  lete} idle nodes
+0002d950: 2229 0a20 2020 2020 2020 2020 2020 2077  ").            w
+0002d960: 6f72 6b65 7273 203d 2077 6f72 6b65 7273  orkers = workers
+0002d970: 202d 2074 6f64 656c 6574 650a 2020 2020   - todelete.    
+0002d980: 2020 2020 2020 2020 7070 7269 6e74 2866          pprint(f
+0002d990: 2253 6361 6c69 6e67 2064 6f77 6e20 636c  "Scaling down cl
+0002d9a0: 7573 7465 7220 7b6b 7562 657d 2074 6f20  uster {kube} to 
+0002d9b0: 7b77 6f72 6b65 7273 7d20 776f 726b 6572  {workers} worker
+0002d9c0: 7322 290a 2020 2020 2020 2020 2020 2020  s").            
+0002d9d0: 7265 7375 6c74 203d 2073 656c 662e 7363  result = self.sc
+0002d9e0: 616c 655f 6b75 6265 286b 7562 652c 206b  ale_kube(kube, k
+0002d9f0: 7562 6574 7970 652c 206f 7665 7272 6964  ubetype, overrid
+0002da00: 6573 3d7b 2777 6f72 6b65 7273 273a 2077  es={'workers': w
+0002da10: 6f72 6b65 7273 7d29 0a20 2020 2020 2020  orkers}).       
+0002da20: 2020 2020 2072 6573 756c 745b 2777 6f72       result['wor
+0002da30: 6b65 7273 275d 203d 2077 6f72 6b65 7273  kers'] = workers
+0002da40: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+0002da50: 7572 6e20 7265 7375 6c74 0a20 2020 2020  urn result.     
+0002da60: 2020 2072 6574 7572 6e20 7b27 7265 7375     return {'resu
+0002da70: 6c74 273a 2027 7375 6363 6573 7327 2c20  lt': 'success', 
+0002da80: 2777 6f72 6b65 7273 273a 2077 6f72 6b65  'workers': worke
+0002da90: 7273 7d0a 0a20 2020 2064 6566 206c 6f6f  rs}..    def loo
+0002daa0: 705f 6175 746f 7363 616c 655f 636c 7573  p_autoscale_clus
+0002dab0: 7465 7228 7365 6c66 2c20 6b75 6265 2c20  ter(self, kube, 
+0002dac0: 6b75 6265 7479 7065 2c20 776f 726b 6572  kubetype, worker
+0002dad0: 732c 2074 6872 6573 686f 6c64 2c20 6964  s, threshold, id
+0002dae0: 6c65 293a 0a20 2020 2020 2020 2070 7072  le):.        ppr
+0002daf0: 696e 7428 6622 5374 6172 7469 6e67 2077  int(f"Starting w
+0002db00: 6974 6820 7b77 6f72 6b65 7273 7d20 776f  ith {workers} wo
+0002db10: 726b 6572 7322 290a 2020 2020 2020 2020  rkers").        
+0002db20: 6966 2077 6869 6368 2827 6b75 6265 6374  if which('kubect
+0002db30: 6c27 2920 6973 204e 6f6e 653a 0a20 2020  l') is None:.   
+0002db40: 2020 2020 2020 2020 2063 6f6d 6d6f 6e2e           common.
+0002db50: 6765 745f 6b75 6265 6374 6c28 290a 2020  get_kubectl().  
+0002db60: 2020 2020 2020 2020 2020 6f73 2e65 6e76            os.env
+0002db70: 6972 6f6e 5b27 5041 5448 275d 202b 3d20  iron['PATH'] += 
+0002db80: 273a 2e27 0a20 2020 2020 2020 2077 6869  ':.'.        whi
+0002db90: 6c65 2054 7275 653a 0a20 2020 2020 2020  le True:.       
+0002dba0: 2020 2020 2073 656c 6563 746f 7220 3d20       selector = 
+0002dbb0: 2221 6e6f 6465 2d72 6f6c 652e 6b75 6265  "!node-role.kube
+0002dbc0: 726e 6574 6573 2e69 6f2f 636f 6e74 726f  rnetes.io/contro
+0002dbd0: 6c2d 706c 616e 652c 6e6f 6465 2d72 6f6c  l-plane,node-rol
+0002dbe0: 652e 6b75 6265 726e 6574 6573 2e69 6f2f  e.kubernetes.io/
+0002dbf0: 776f 726b 6572 220a 2020 2020 2020 2020  worker".        
+0002dc00: 2020 2020 6375 7272 656e 7463 6d64 203d      currentcmd =
+0002dc10: 2066 226b 7562 6563 746c 2067 6574 206e   f"kubectl get n
+0002dc20: 6f64 6520 2d2d 7365 6c65 6374 6f72 3d27  ode --selector='
+0002dc30: 7b73 656c 6563 746f 727d 2722 0a20 2020  {selector}'".   
+0002dc40: 2020 2020 2020 2020 2063 7572 7265 6e74           current
+0002dc50: 636d 6420 2b3d 2022 207c 2067 7265 7020  cmd += " | grep 
+0002dc60: 2720 5265 6164 7927 220a 2020 2020 2020  ' Ready'".      
+0002dc70: 2020 2020 2020 6375 7272 656e 746e 6f64        currentnod
+0002dc80: 6573 203d 206f 732e 706f 7065 6e28 6375  es = os.popen(cu
+0002dc90: 7272 656e 7463 6d64 292e 7265 6164 6c69  rrentcmd).readli
+0002dca0: 6e65 7328 290a 2020 2020 2020 2020 2020  nes().          
+0002dcb0: 2020 6966 206c 656e 2863 7572 7265 6e74    if len(current
+0002dcc0: 6e6f 6465 7329 2021 3d20 776f 726b 6572  nodes) != worker
+0002dcd0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+0002dce0: 2020 2070 7072 696e 7428 6622 4f6e 676f     pprint(f"Ongo
+0002dcf0: 696e 6720 7363 616c 696e 6720 6f70 6572  ing scaling oper
+0002dd00: 6174 696f 6e20 6f6e 2063 6c75 7374 6572  ation on cluster
+0002dd10: 207b 6b75 6265 7d22 290a 2020 2020 2020   {kube}").      
+0002dd20: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0002dd30: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+0002dd40: 6c74 203d 2073 656c 662e 6175 746f 7363  lt = self.autosc
+0002dd50: 616c 655f 636c 7573 7465 7228 6b75 6265  ale_cluster(kube
+0002dd60: 2c20 6b75 6265 7479 7065 2c20 776f 726b  , kubetype, work
+0002dd70: 6572 732c 2074 6872 6573 686f 6c64 2c20  ers, threshold, 
+0002dd80: 6964 6c65 290a 2020 2020 2020 2020 2020  idle).          
+0002dd90: 2020 2020 2020 6966 2072 6573 756c 745b        if result[
+0002dda0: 2772 6573 756c 7427 5d20 213d 2027 7375  'result'] != 'su
+0002ddb0: 6363 6573 7327 3a0a 2020 2020 2020 2020  ccess':.        
+0002ddc0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0002ddd0: 726e 2072 6573 756c 740a 2020 2020 2020  rn result.      
+0002dde0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0002ddf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002de00: 2020 2020 776f 726b 6572 7320 3d20 7265      workers = re
+0002de10: 7375 6c74 5b27 776f 726b 6572 7327 5d0a  sult['workers'].
+0002de20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002de30: 2020 2020 7070 7269 6e74 2866 2243 7572      pprint(f"Cur
+0002de40: 7265 6e74 2077 6f72 6b65 7273 206e 756d  rent workers num
+0002de50: 6265 7220 6465 7369 7265 643a 207b 776f  ber desired: {wo
+0002de60: 726b 6572 737d 2229 0a20 2020 2020 2020  rkers}").       
+0002de70: 2020 2020 2073 6c65 6570 2836 3029 0a0a       sleep(60)..
+0002de80: 2020 2020 6465 6620 7468 7265 6164 6564      def threaded
+0002de90: 5f77 6562 5f63 6f6e 736f 6c65 2873 656c  _web_console(sel
+0002dea0: 662c 2070 6f72 742c 206e 616d 6529 3a0a  f, port, name):.
+0002deb0: 2020 2020 2020 2020 636f 6e73 6f6c 6520          console 
+0002dec0: 3d20 4b6d 696e 6963 6f6e 736f 6c65 2863  = Kminiconsole(c
+0002ded0: 6f6e 6669 673d 7365 6c66 2c20 706f 7274  onfig=self, port
+0002dee0: 3d70 6f72 742c 206e 616d 653d 6e61 6d65  =port, name=name
+0002def0: 290a 2020 2020 2020 2020 636f 6e73 6f6c  ).        consol
+0002df00: 652e 7275 6e28 290a 0a20 2020 2064 6566  e.run()..    def
+0002df10: 2077 6562 636f 6e73 6f6c 6528 7365 6c66   webconsole(self
+0002df20: 2c20 6e61 6d65 293a 0a20 2020 2020 2020  , name):.       
+0002df30: 2070 6f72 7420 3d20 6765 745f 6672 6565   port = get_free
+0002df40: 5f70 6f72 7428 290a 2020 2020 2020 2020  _port().        
+0002df50: 7420 3d20 7468 7265 6164 696e 672e 5468  t = threading.Th
+0002df60: 7265 6164 2874 6172 6765 743d 7365 6c66  read(target=self
+0002df70: 2e74 6872 6561 6465 645f 7765 625f 636f  .threaded_web_co
+0002df80: 6e73 6f6c 652c 2061 7267 733d 2870 6f72  nsole, args=(por
+0002df90: 742c 206e 616d 652c 2929 0a20 2020 2020  t, name,)).     
+0002dfa0: 2020 2074 2e73 7461 7274 2829 0a20 2020     t.start().   
+0002dfb0: 2020 2020 2077 6562 6272 6f77 7365 722e       webbrowser.
+0002dfc0: 6f70 656e 2866 2268 7474 703a 2f2f 3132  open(f"http://12
+0002dfd0: 372e 302e 302e 313a 7b70 6f72 747d 222c  7.0.0.1:{port}",
+0002dfe0: 206e 6577 3d32 2c20 6175 746f 7261 6973   new=2, autorais
+0002dff0: 653d 5472 7565 290a 0a20 2020 2064 6566  e=True)..    def
+0002e000: 2069 6e66 6f5f 7370 6563 6966 6963 5f67   info_specific_g
+0002e010: 6b65 2873 656c 662c 2063 6c75 7374 6572  ke(self, cluster
+0002e020: 293a 0a20 2020 2020 2020 2066 726f 6d20  ):.        from 
+0002e030: 6b76 6972 742e 636c 7573 7465 722e 676b  kvirt.cluster.gk
+0002e040: 6520 696d 706f 7274 2069 6e66 6f20 6173  e import info as
+0002e050: 2067 6b65 5f69 6e66 6f0a 2020 2020 2020   gke_info.      
+0002e060: 2020 7265 7475 726e 2067 6b65 5f69 6e66    return gke_inf
+0002e070: 6f28 7365 6c66 2c20 636c 7573 7465 722c  o(self, cluster,
+0002e080: 2073 656c 662e 6465 6275 6729 0a0a 2020   self.debug)..  
+0002e090: 2020 6465 6620 696e 666f 5f6b 7562 655f    def info_kube_
+0002e0a0: 676b 6528 7365 6c66 2c20 7175 6965 742c  gke(self, quiet,
+0002e0b0: 2077 6562 3d46 616c 7365 293a 0a20 2020   web=False):.   
+0002e0c0: 2020 2020 2066 726f 6d20 6b76 6972 742e       from kvirt.
+0002e0d0: 636c 7573 7465 7220 696d 706f 7274 2067  cluster import g
+0002e0e0: 6b65 0a20 2020 2020 2020 2070 6c61 6e64  ke.        pland
+0002e0f0: 6972 203d 206f 732e 7061 7468 2e64 6972  ir = os.path.dir
+0002e100: 6e61 6d65 2867 6b65 2e63 7265 6174 652e  name(gke.create.
+0002e110: 5f5f 636f 6465 5f5f 2e63 6f5f 6669 6c65  __code__.co_file
+0002e120: 6e61 6d65 290a 2020 2020 2020 2020 696e  name).        in
+0002e130: 7075 7466 696c 6520 3d20 6627 7b70 6c61  putfile = f'{pla
+0002e140: 6e64 6972 7d2f 6661 6b65 2e79 6d6c 270a  ndir}/fake.yml'.
+0002e150: 2020 2020 2020 2020 7365 6c66 2e69 6e66          self.inf
+0002e160: 6f5f 706c 616e 2869 6e70 7574 6669 6c65  o_plan(inputfile
+0002e170: 2c20 7175 6965 743d 7175 6965 742c 2077  , quiet=quiet, w
+0002e180: 6562 3d77 6562 290a 2020 2020 2020 2020  eb=web).        
+0002e190: 676b 652e 696e 666f 5f73 6572 7669 6365  gke.info_service
+0002e1a0: 2873 656c 6629 0a                        (self).
```

## kvirt/version/git

```diff
@@ -1 +1 @@
-eefec54 2023/06/11
+5d5005e 2023/06/11
```

## Comparing `kcli-99.0.202306111411.dist-info/LICENSE` & `kcli-99.0.202306111412.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `kcli-99.0.202306111411.dist-info/METADATA` & `kcli-99.0.202306111412.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: kcli
-Version: 99.0.202306111411
+Version: 99.0.202306111412
 Summary: Provisioner/Manager for Libvirt/Vsphere/Aws/Gcp/Kubevirt/Ovirt/Openstack/IBM Cloud and containers
 Home-page: http://github.com/karmab/kcli
 Author: Karim Boumedhel
 Author-email: karimboumedhel@gmail.com
 License: ASL
 Platform: UNKNOWN
 License-File: LICENSE
```

## Comparing `kcli-99.0.202306111411.dist-info/RECORD` & `kcli-99.0.202306111412.dist-info/RECORD`

 * *Files 0% similar despite different names*

```diff
@@ -1,12 +1,12 @@
 kvirt/__init__.py,sha256=eoZ6GfifbqhMLNzjlqRDVil-yyBkOmVN9ujSgJWNBlY,15
 kvirt/baseconfig.py,sha256=MEjzTYtBDl3Bj8FlfoDsttVNBz1svLug42QDlMq3aoY,100030
 kvirt/bottle.py,sha256=DMuCINuwVog8XC-D6nPFVzRmo6lnJZ1H3sNK2VICKKE,171487
 kvirt/cli.py,sha256=jkpUjnayM6SshEsmZ4EU6LWR0DClRc8yHsydZQcRUkc,248698
-kvirt/config.py,sha256=lcqUbvBm8yVSEXJAKL0pJtD86PxjVBWzrQLWuoz0nIU,188729
+kvirt/config.py,sha256=JKM6v-PowzVjbWAqt8vLF2TTWHZQl3Nn_x8fVFKBK3c,188839
 kvirt/containerconfig.py,sha256=Pfp1wWU1u1S6S0IT00mWFEAa8FlbTV2qrFE21_cquWA,2851
 kvirt/defaults.py,sha256=hqf-zphBS0_SkdwOtTIDzse3_Ziyh_M2BuJD-PFVpZ4,11500
 kvirt/examples.py,sha256=-ao9VmT7XREmB1a3KI-jvW6jpzmaIlDHTbWMS-64JD8,19475
 kvirt/ignitionmerger.py,sha256=K22COM_XqYOG28ezUJzoRjQL-jbJqpFWgm7lUwDiVbE,4333
 kvirt/keywords.yaml,sha256=HG5nGzsC2pPwWy86XQjL-UoDw_j8IIy4dVZeGIMP3k0,9871
 kvirt/klist.py,sha256=6rUa1Z7aH-Yx8MAVW-7TvB2DzteGkquBBlPQmei1p8E,3487
 kvirt/ansibleutils/__init__.py,sha256=uxy2it8uvuhDZSIlKOimpqPZtFTPsZ0AX_DLs5y7fSo,6009
@@ -348,15 +348,15 @@
 kvirt/providers/ovirt/__init__.py,sha256=C2l1aLs32sdJLAe33GljKpIC3nae8pUsSpRKi_2c0B4,62544
 kvirt/providers/packet/__init__.py,sha256=xLXZicNxBC4FFhlKtYOcwcGZsV99Ylb7TPF4hkUFWUo,31112
 kvirt/providers/vsphere/__init__.py,sha256=CxwZGLFgc0BrblERVUdbZrq9qirCLUf1bpYOUXNpMUc,73099
 kvirt/providers/vsphere/helpers.py,sha256=F1rB_AHISd8TFYQ6eRolQmCVqU8KFAa36CCwjDj-vqw,13655
 kvirt/providers/vsphere/tagging.py,sha256=7RqFIUETSzHAjS0F_8-j145-_8lca7aDUsCxs4DhQVQ,4893
 kvirt/providers/web/__init__.py,sha256=pwj9Bam4UaWXH4OjW7h0ooLsVEjtMmxOC2KtfbbncWM,21286
 kvirt/version/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-kvirt/version/git,sha256=MurnoHLL1FGOYJ45h6z1I4aMDs4h2EOZ4Yo_l1IeJTg,19
+kvirt/version/git,sha256=ovjNyJPLcP5PN8qtNa204dwEeW8MIfAlnkYDpCsaZbk,19
 kvirt/web/__init__.py,sha256=jR0jOtI73-MJQmyVnH4MHuf5UQpdWZe-lCFk1YtXy54,46592
 kvirt/web/main.py,sha256=DIb6tW3ce7wCc83kD9HBCG4ALJuLItp9uaP6tzdsm_Y,261
 kvirt/web/static/css/bootstrap-notify.css,sha256=ibUTW-jDj-F8d1T1KZ4DOujRmVTFfvMKL9y14QgEaPQ,408
 kvirt/web/static/css/bootstrap-theme.min.css,sha256=ZT4HPpdCOt2lvDkXokHuhJfdOKSPFLzeAJik5U_Q-l4,23409
 kvirt/web/static/css/bootstrap.min.css,sha256=E-dwlJxOS7dOrKCvR-5WCqiHCbIHLl59MMDVsfU4oiU,121125
 kvirt/web/static/css/dataTables.checkboxes.css,sha256=H-x4lWeyX3jMsghnkCUUTO2lXjRpJ8pxhUj3YAqaBrQ,399
 kvirt/web/static/css/jquery.dataTables.min.css,sha256=-Z1rYa3ys5OdZNUck5G7lBvb8A13OrYwvf-d8PfEaHQ,13587
@@ -590,13 +590,13 @@
 kvirt/web/templates/repos.html,sha256=HaFCTQjX3zSaqyV05Y_wG0vSkOWDpc-wj6Uj5TLbiFg,475
 kvirt/web/templates/repostable.html,sha256=6HH8sgdppR-yojQspdcI59ju4e9HZYVvV6uvnPxqbeo,1203
 kvirt/web/templates/vmcreate.html,sha256=FG3OoQEKTpeo8spJ1WiqYVkOp672saYRQKujNWOA3uQ,958
 kvirt/web/templates/vmprofiles.html,sha256=T65Cv7povhBtD2dyuWkWJE6byaA9EYtLSk5gtcQlHIU,486
 kvirt/web/templates/vmprofilestable.html,sha256=-8viNOqSvN_yzimENxq7Q0187zbflOn8p8zpgx0Vyek,1420
 kvirt/web/templates/vms.html,sha256=k2ptKeiLFdpzgfbk6xi__sduu0UALYXXrnrmDEmAfaQ,470
 kvirt/web/templates/vmstable.html,sha256=ikuYkIm_ocvGIBXFyJt1-tBjwQWCyqkgC08leoXgR54,4894
-kcli-99.0.202306111411.dist-info/LICENSE,sha256=z8d0m5b2O9McPEK1xHG_dWgUBT6EfBDz6wA0F7xSPTA,11358
-kcli-99.0.202306111411.dist-info/METADATA,sha256=rW9TguXF0Bhu7RvDo1eg2MBbZa9Wn-GGj0YQb6RseoI,3024
-kcli-99.0.202306111411.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-kcli-99.0.202306111411.dist-info/entry_points.txt,sha256=Rks05_15yZkzTe2QTbrkV_O8uruW_WjUDzmfMApHUvw,209
-kcli-99.0.202306111411.dist-info/top_level.txt,sha256=FwVTxtMIWdr8QBk5mTfd0f_GheFlRR_vn4zl6p5N57s,6
-kcli-99.0.202306111411.dist-info/RECORD,,
+kcli-99.0.202306111412.dist-info/LICENSE,sha256=z8d0m5b2O9McPEK1xHG_dWgUBT6EfBDz6wA0F7xSPTA,11358
+kcli-99.0.202306111412.dist-info/METADATA,sha256=aapsx097SRuvKAsbGlXZ2C6tu82MLJpA93MYGQFu5zY,3024
+kcli-99.0.202306111412.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+kcli-99.0.202306111412.dist-info/entry_points.txt,sha256=Rks05_15yZkzTe2QTbrkV_O8uruW_WjUDzmfMApHUvw,209
+kcli-99.0.202306111412.dist-info/top_level.txt,sha256=FwVTxtMIWdr8QBk5mTfd0f_GheFlRR_vn4zl6p5N57s,6
+kcli-99.0.202306111412.dist-info/RECORD,,
```

